-- Migration: Import z80code projects batch 93
-- Projects 185 to 186
-- Generated: 2026-01-25T21:43:30.210446

-- Project 185: program386 by nolan mars
DO $$
DECLARE
  project_uuid uuid := gen_random_uuid();
  tag_uuid uuid;
BEGIN
  INSERT INTO projects (id, user_id, name, description, visibility, is_library, is_sticky, created_at, updated_at)
  VALUES (
    project_uuid,
    'bd6a166d-e0bf-4374-94c3-5222e517d75c'::uuid,
    'program386',
    'Imported from z80Code. Author: nolan mars. test affichage image couleur mode O. Image de Titan',
    'public',
    false,
    false,
    '2024-03-02T16:34:42.907000'::timestamptz,
    '2024-03-02T17:14:41.697000'::timestamptz
  );

  INSERT INTO project_files (project_id, name, content, is_main, "order")
  VALUES (
    project_uuid,
    'main.asm',
    '// Affiche une image en Mode 0
// Image par Titan


SNASET CPC_TYPE,2 ;Selection de la machine utilisé dans le snapshot (ici Amstrad CPC 6128)
BUILDSNA ;directive RASM création d''un snapshot
BANKSET 0 ;activation bank memoire 64ko (la memoire centrale)
//SAVE "prg.bin",debut,fin-debut,DSK,"prg.dsk" ;directive RASM création d''un DSK avec entête AMSDOS
//SAVE "prg.bin",debut,fin-debut ;directive RASM création d''un BIN sans entête AMSDOS

org #1000 ;placement du code en memoire
run debut ;adresse de démarrage du programme binaire

debut:

        di ;desactivation des interruptions systemes
        ;ld hl,#c9fb ;on place dans HL les instructions EI et RET (opcodes respectifs #FB et #C9)
        ;ld (#38),hl ;ecrire le code EI et RET en #38

		//Affichage de l''image
		ld	hl,image.screen	;Chargement de l''image
    	ld	de,#c000	;On la copie dans la zone mémoire ou se situe l''écran d''affichage
    	ld	bc,image.screen-image.palette	;Taille memoire de l''image (screen, sans palette)
		ldir	;On parcourt l''intégrité des datas (db) screen de l''image
		
		//Initialisation Mode graphique 0
		ld	bc,#7f00 ;Port du Gate Array
		ld	a,%10001100 ;Mode 0
		out	(c),a ;Envoi code Mode 0 au Gate Array

		//Chargement de la palette
		ld	hl,image.palette
couleurs:
			out	(c),c
			ld	a,(hl)
			inc	hl
			out	(c),a
			inc	c
			bit	6,c
			jr	z,couleurs

		halt	;On stop le programme en laissant l''image affichée

image //Datas contenant l''image (screen et palette)
	.screen
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #07, #0b, #69
		db #83, #c2, #c6, #c8, #c9, #98, #64, #f3
		db #e6, #30, #61, #cc, #69, #94, #b7, #03
		db #82, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #01, #c2, #83, #42, #c4, #c6, #cc
		db #c3, #a6, #d9, #3a, #64, #59, #b3, #59
		db #a6, #44, #a6, #d9, #4c, #18, #30, #98
		db #c8, #88, #c3, #02, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #41, #0b
		db #46, #81, #cc, #c6, #cc, #98, #64, #33
		db #9b, #59, #24, #a6, #04, #73, #0c, #59
		db #b3, #0c, #08, #0c, #a6, #04, #f3, #35
		db #c6, #c9, #30, #c3, #21, #c3, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #cc, #c1
		db #dc, #c6, #c8, #98, #24, #f3, #db, #f3
		db #f3, #19, #8e, #59, #f3, #67, #db, #73
		db #b3, #0c, #18, #f3, #f3, #a6, #59, #24
		db #73, #0c, #30, #61, #cc, #64, #89, #82
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #46, #cc, #cc
		db #46, #00, #00, #30, #33, #67, #cf, #0c
		db #19, #19, #8a, #0c, #cf, #ae, #59, #cf
		db #4d, #8e, #08, #04, #08, #0c, #59, #f3
		db #0c, #0c, #0c, #0c, #30, #92, #c3, #89
		db #41, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #44, #cc, #30
		db #7f, #a6, #04, #0c, #0c, #59, #f3, #fb
		db #0c, #4d, #26, #04, #f3, #0c, #a6, #f3
		db #08, #f3, #ef, #cf, #f3, #8e, #00, #04
		db #24, #04, #b3, #04, #0c, #0c, #18, #c8
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #89, #46, #ec
		db #3a, #08, #71, #0c, #0c, #08, #00, #59
		db #cf, #f3, #a6, #08, #00, #08, #00, #08
		db #a6, #59, #4d, #8e, #0c, #71, #30, #0c
		db #59, #08, #04, #0c, #10, #b2, #64, #cc
		db #83, #00, #00, #00, #00, #00, #00, #00
		db #00, #15, #2a, #3f, #15, #2a, #3f, #15
		db #3f, #2a, #00, #3f, #00, #3f, #15, #2a
		db #3f, #15, #2a, #3f, #15, #2a, #00, #15
		db #2a, #00, #15, #2a, #3f, #15, #2a, #00
		db #00, #00, #00, #00, #00, #cc, #cc, #98
		db #20, #0c, #0c, #0c, #0c, #0c, #08, #45
		db #db, #f3, #fb, #67, #26, #08, #00, #0c
		db #0c, #0c, #04, #f3, #00, #00, #00, #00
		db #18, #24, #30, #3a, #24, #64, #cc, #cc
		db #82, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #46, #cc, #04
		db #24, #0c, #8e, #00, #00, #04, #0c, #4d
		db #f3, #08, #71, #e7, #cf, #0c, #73, #59
		db #fb, #a6, #59, #b2, #00, #00, #73, #a6
		db #08, #00, #00, #18, #24, #44, #cc, #03
		db #82, #00, #00, #00, #00, #00, #00, #00
		db #00, #50, #00, #50, #f0, #50, #f0, #50
		db #50, #00, #00, #a0, #50, #f0, #50, #f0
		db #00, #a0, #50, #f0, #50, #f0, #50, #50
		db #50, #f0, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #44, #cc, #c9
		db #38, #24, #00, #00, #00, #20, #04, #cf
		db #08, #08, #0c, #0c, #1d, #0c, #1d, #08
		db #00, #0c, #a2, #00, #00, #04, #00, #00
		db #00, #00, #04, #db, #38, #64, #cc, #89
		db #88, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #01, #cc, #00
		db #38, #20, #00, #00, #10, #7a, #24, #0c
		db #04, #08, #0c, #04, #0c, #a6, #08, #0c
		db #44, #f0, #00, #04, #b2, #20, #30, #f0
		db #3a, #00, #00, #04, #30, #00, #74, #42
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #c0, #02, #00
		db #50, #20, #00, #10, #7f, #92, #00, #00
		db #44, #30, #88, #30, #88, #00, #0c, #61
		db #30, #0c, #61, #4b, #00, #00, #00, #51
		db #0f, #0a, #00, #00, #08, #44, #c8, #c1
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #41, #03, #ec, #04
		db #a6, #00, #00, #61, #d2, #e1, #20, #cc
		db #88, #00, #00, #00, #00, #10, #7a, #b0
		db #a2, #00, #00, #00, #30, #cc, #88, #50
		db #2f, #3e, #00, #00, #59, #00, #00, #c9
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #43, #cc, #44
		db #6b, #82, #00, #9d, #87, #3f, #3f, #3f
		db #92, #30, #24, #08, #88, #30, #25, #0f
		db #6b, #20, #10, #70, #c3, #83, #03, #07
		db #0f, #2a, #00, #41, #97, #00, #00, #01
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #41, #fc, #88
		db #41, #35, #20, #10, #2f, #0b, #e1, #f0
		db #b0, #b0, #b0, #64, #d8, #d2, #87, #af
		db #0f, #61, #c3, #c3, #a1, #03, #07, #07
		db #1f, #08, #00, #2a, #82, #44, #c8, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #88, #00
		db #00, #31, #eb, #00, #e9, #03, #e1, #f0
		db #f0, #f0, #b0, #20, #61, #4b, #87, #0b
		db #3f, #21, #21, #03, #03, #03, #07, #0f
		db #3a, #00, #d7, #22, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #46, #88
		db #41, #ba, #08, #00, #54, #a1, #43, #c3
		db #e1, #e1, #a1, #03, #0c, #08, #97, #6b
		db #0c, #09, #03, #03, #07, #07, #0f, #0f
		db #a2, #00, #00, #87, #88, #40, #82, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #16, #88
		db #41, #bf, #20, #0c, #08, #e1, #a1, #e1
		db #c3, #b5, #07, #03, #07, #12, #20, #61
		db #0f, #0f, #0f, #07, #0f, #af, #0f, #5b
		db #00, #04, #5c, #57, #a0, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #55, #00, #55, #00, #55, #00
		db #55, #00, #55, #55, #aa, #55, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #04, #30, #00
		db #8d, #c3, #c6, #0c, #0c, #00, #61, #c3
		db #e1, #c3, #82, #44, #f0, #c3, #2f, #0f
		db #0f, #24, #25, #0f, #af, #0f, #3a, #00
		db #04, #0c, #58, #07, #4e, #00, #98, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #44, #00, #44, #00, #44, #00
		db #44, #00, #44, #44, #00, #44, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #04, #61, #5f, #0f, #4b, #92, #00
		db #8d, #c3, #c6, #0c, #0c, #08, #08, #41
		db #07, #43, #c3, #92, #20, #00, #98, #b0
		db #30, #61, #0f, #af, #0f, #2a, #00, #18
		db #30, #18, #58, #87, #c6, #00, #49, #4b
		db #5f, #0f, #4b, #82, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #0c, #0c
		db #0c, #08, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #04, #61, #5f
		db #eb, #4b, #4b, #4b, #44, #52, #20, #00
		db #8d, #d2, #88, #0c, #24, #24, #08, #00
		db #00, #25, #03, #43, #e1, #f0, #70, #3f
		db #0f, #af, #af, #4b, #00, #00, #00, #35
		db #30, #30, #18, #e1, #83, #00, #18, #43
		db #5f, #8c, #43, #0f, #5f, #5f, #5f, #ff
		db #00, #00, #00, #00, #00, #00, #04, #30
		db #87, #af, #af, #ff, #ff, #af, #af, #af
		db #af, #ff, #ff, #ff, #ff, #0f, #0f, #c3
		db #30, #c3, #0f, #ff, #eb, #4b, #c3, #b0
		db #89, #4b, #08, #07, #52, #24, #08, #00
		db #c9, #d2, #88, #0c, #0c, #08, #08, #00
		db #00, #00, #00, #97, #c3, #f0, #70, #3f
		db #0f, #1f, #20, #00, #00, #00, #88, #88
		db #89, #3a, #18, #f0, #87, #88, #0c, #db
		db #c3, #2f, #ee, #10, #c3, #4b, #0b, #0f
		db #00, #00, #04, #25, #0f, #ff, #eb, #4b
		db #4b, #4b, #4b, #0f, #af, #4b, #c3, #c3
		db #c3, #4b, #4b, #0f, #af, #af, #4b, #4b
		db #e1, #e1, #f0, #b0, #4c, #07, #c3, #b0
		db #24, #01, #4b, #f0, #24, #08, #00, #08
		db #dc, #d2, #a0, #0c, #08, #08, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #88, #88, #88, #88, #88, #88, #cc, #cc
		db #98, #e1, #30, #70, #6b, #88, #00, #0c
		db #4d, #53, #83, #5f, #88, #30, #e3, #98
		db #25, #5f, #ff, #4b, #4b, #c3, #e1, #e1
		db #f0, #f0, #f0, #e1, #c3, #4b, #c3, #d6
		db #fc, #fc, #d6, #c3, #c3, #4b, #e1, #f0
		db #30, #20, #cc, #07, #eb, #d2, #30, #4c
		db #03, #4b, #f0, #24, #08, #08, #0c, #08
		db #d8, #d2, #e4, #00, #08, #00, #00, #88
		db #88, #88, #00, #00, #00, #00, #88, #cc
		db #30, #b0, #b0, #b0, #b0, #cc, #98, #30
		db #30, #c9, #12, #70, #6b, #88, #00, #00
		db #08, #0c, #db, #c3, #0f, #02, #10, #64
		db #3a, #d0, #d7, #cd, #1c, #bd, #21, #d1
		db #d7, #46, #48, #cd, #38, #bc, #af, #21
		db #d1, #d7, #46, #48, #f5, #e5, #cd, #32
		db #bc, #e1, #f1, #23, #3c, #fe, #10, #20
		db #f1, #c3, #18, #bb, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #41, #eb, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #01, #43, #c1
		db #43, #42, #c1, #cc, #cc, #30, #64, #f3
		db #e6, #30, #61, #98, #61, #c0, #03, #03
		db #82, #a2, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #c3, #c1, #83, #c0, #c4, #c6, #64
		db #c6, #24, #f3, #a6, #30, #f3, #26, #71
		db #a6, #4c, #8c, #59, #4c, #0c, #30, #30
		db #cc, #98, #c3, #82, #2a, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #43, #c3
		db #46, #c0, #c8, #c6, #cc, #98, #71, #19
		db #8e, #b7, #24, #a6, #04, #b3, #0c, #67
		db #8e, #0c, #08, #59, #8c, #04, #f3, #b7
		db #6e, #e6, #64, #c6, #30, #c3, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #cc, #c3
		db #cc, #c4, #44, #98, #a6, #f3, #73, #f3
		db #65, #19, #8e, #59, #e7, #cf, #e7, #f3
		db #a6, #0c, #59, #fb, #a6, #0c, #71, #0c
		db #73, #04, #30, #e6, #cc, #98, #89, #88
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #05, #03, #16, #cc
		db #00, #00, #00, #59, #9b, #67, #cf, #26
		db #0c, #4d, #08, #0c, #f7, #8e, #59, #9b
		db #4d, #8e, #00, #0c, #0c, #0c, #f3, #e7
		db #0c, #04, #0c, #0c, #64, #c6, #c3, #88
		db #82, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #cc, #cc, #24
		db #f7, #3e, #00, #08, #00, #0c, #59, #f7
		db #a6, #4d, #26, #04, #59, #0c, #a6, #f3
		db #04, #f7, #cf, #db, #a6, #00, #00, #04
		db #a2, #04, #a6, #04, #0c, #24, #44, #cc
		db #02, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #fc, #cc, #d8
		db #92, #08, #51, #a6, #0c, #0c, #0c, #0c
		db #59, #f3, #f3, #0c, #00, #08, #00, #08
		db #a2, #b2, #59, #0c, #59, #b2, #30, #0c
		db #f3, #08, #0c, #08, #0c, #30, #64, #c8
		db #81, #00, #00, #00, #00, #00, #00, #00
		db #00, #15, #3f, #3f, #15, #2a, #3f, #00
		db #3f, #3f, #00, #3f, #00, #3f, #3f, #00
		db #3f, #3f, #2a, #3f, #15, #2a, #00, #15
		db #2a, #00, #15, #3f, #2a, #15, #2a, #00
		db #00, #00, #00, #00, #00, #cc, #cc, #98
		db #2c, #04, #0c, #0c, #0c, #08, #0c, #4d
		db #9b, #f7, #b3, #cf, #bb, #08, #00, #0c
		db #20, #08, #51, #00, #00, #00, #00, #00
		db #04, #18, #35, #b2, #0c, #44, #cc, #46
		db #43, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #46, #89, #8c
		db #0c, #08, #00, #b3, #00, #04, #0c, #33
		db #b3, #08, #59, #9b, #cf, #ae, #73, #4d
		db #fb, #b2, #59, #b2, #08, #00, #00, #00
		db #00, #00, #00, #34, #a6, #cc, #dc, #03
		db #c3, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #44, #cc, #cc, #cc
		db #d3, #30, #08, #00, #00, #20, #04, #e7
		db #00, #08, #0c, #0c, #5d, #0c, #5d, #20
		db #00, #0c, #0c, #00, #04, #00, #00, #00
		db #00, #00, #00, #71, #b2, #20, #cc, #03
		db #88, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #cc, #cc, #00
		db #9c, #24, #00, #00, #10, #6b, #a4, #a6
		db #04, #08, #08, #00, #0c, #0c, #0c, #0c
		db #a2, #d6, #88, #04, #b6, #30, #41, #e1
		db #1a, #00, #00, #30, #24, #00, #cc, #88
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #c4, #88, #00
		db #44, #20, #00, #44, #1f, #20, #00, #00
		db #00, #00, #98, #30, #88, #00, #18, #61
		db #92, #30, #61, #c6, #00, #00, #00, #00
		db #a7, #0a, #00, #00, #00, #00, #00, #c9
		db #28, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #07, #0f, #ec, #04
		db #b2, #00, #00, #35, #4b, #e4, #00, #00
		db #00, #00, #00, #00, #00, #10, #d2, #92
		db #2a, #00, #00, #00, #00, #00, #00, #44
		db #2f, #1e, #00, #00, #51, #00, #00, #88
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #01, #4b, #ec, #44
		db #4b, #a2, #00, #9d, #1f, #1f, #3f, #7a
		db #d2, #30, #24, #08, #44, #30, #61, #0f
		db #6b, #20, #10, #f0, #f0, #c3, #03, #0f
		db #0f, #2a, #00, #51, #97, #00, #44, #03
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #41, #83, #88
		db #11, #6b, #20, #10, #2f, #0b, #d2, #f0
		db #70, #70, #30, #20, #10, #b0, #c3, #af
		db #0f, #30, #c3, #c3, #83, #03, #03, #0f
		db #1f, #00, #00, #97, #22, #44, #cc, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #c6, #00
		db #00, #24, #1f, #00, #d8, #0b, #52, #d2
		db #d2, #f0, #f0, #20, #61, #c3, #0f, #0f
		db #2f, #3a, #12, #03, #03, #03, #0b, #0f
		db #3a, #00, #2f, #08, #00, #cc, #c8, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #46, #88
		db #05, #1a, #0c, #00, #44, #d2, #03, #c3
		db #d2, #d2, #52, #03, #20, #00, #41, #82
		db #00, #01, #0b, #03, #0b, #0f, #0f, #0f
		db #20, #04, #4c, #0f, #88, #00, #80, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #41, #88
		db #8d, #4b, #20, #04, #20, #70, #d2, #83
		db #c3, #83, #0b, #0b, #0f, #12, #3f, #3f
		db #2f, #0f, #0b, #0b, #5f, #5f, #0f, #0e
		db #00, #04, #5c, #43, #82, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #05, #00, #05, #00, #05, #00
		db #05, #00, #05, #05, #0a, #05, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #18, #f0, #00
		db #dd, #4b, #e4, #04, #08, #00, #1d, #c3
		db #d2, #c3, #82, #41, #e1, #e1, #3f, #0f
		db #0f, #5b, #0d, #5f, #5f, #0f, #3a, #00
		db #18, #0c, #70, #43, #4e, #00, #64, #82
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #18, #87, #af, #0f, #87, #86, #00
		db #8d, #c3, #e4, #04, #18, #0c, #04, #10
		db #0b, #03, #c3, #30, #20, #10, #70, #d2
		db #b0, #87, #5f, #0f, #0f, #20, #00, #30
		db #30, #24, #30, #c3, #4e, #00, #41, #af
		db #5f, #af, #0f, #4b, #82, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #0c, #0c, #30, #30
		db #30, #24, #08, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #18, #87, #ff
		db #87, #87, #87, #82, #89, #d2, #a4, #00
		db #c9, #c3, #88, #04, #18, #0c, #04, #00
		db #00, #15, #0b, #43, #d2, #b0, #f0, #a5
		db #0f, #5f, #0f, #1a, #00, #00, #44, #61
		db #30, #24, #30, #e1, #0b, #00, #44, #a3
		db #5f, #02, #21, #87, #0f, #0f, #af, #ff
		db #00, #00, #00, #00, #00, #04, #18, #87
		db #5f, #5f, #5f, #ff, #ff, #5f, #5f, #5f
		db #5f, #5f, #ff, #ff, #ff, #af, #af, #0f
		db #c3, #5f, #5f, #af, #87, #c3, #d2, #64
		db #07, #c3, #4c, #07, #f0, #b0, #00, #04
		db #d8, #c3, #88, #04, #18, #0c, #00, #00
		db #00, #00, #00, #9d, #d2, #b0, #30, #3f
		db #0f, #6b, #20, #00, #00, #00, #44, #cc
		db #89, #1a, #30, #e1, #c3, #88, #04, #23
		db #e3, #87, #4e, #10, #43, #87, #87, #07
		db #00, #00, #18, #87, #5f, #af, #87, #87
		db #87, #87, #87, #87, #0f, #87, #c3, #c3
		db #c3, #87, #87, #87, #5f, #0f, #87, #d2
		db #d2, #d2, #f0, #30, #89, #0f, #c3, #b0
		db #20, #89, #4b, #b0, #a4, #00, #04, #04
		db #dc, #c3, #a0, #04, #0c, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #44
		db #44, #44, #cc, #44, #44, #44, #cc, #cc
		db #cc, #83, #30, #61, #6b, #88, #00, #04
		db #19, #a3, #c3, #0f, #88, #18, #d3, #c6
		db #3f, #5f, #af, #87, #c3, #d2, #d2, #d2
		db #f0, #f0, #70, #f0, #87, #87, #c3, #e9
		db #fc, #fc, #e9, #e9, #c3, #c3, #d2, #b0
		db #b0, #04, #89, #57, #c3, #b0, #24, #44
		db #07, #4b, #b0, #0c, #00, #04, #0c, #4c
		db #e1, #c3, #e4, #04, #0c, #00, #44, #44
		db #44, #00, #00, #00, #00, #00, #44, #98
		db #70, #f0, #d2, #70, #30, #64, #30, #70
		db #30, #70, #12, #35, #3f, #88, #00, #00
		db #04, #0c, #23, #e3, #07, #ee, #04, #30
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #3d, #7f, #c3, #3f
		db #d7, #bf, #03, #02, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #01, #02, #00, #97, #46, #81
		db #c1, #c4, #92, #c9, #cc, #30, #64, #b2
		db #b2, #30, #cc, #98, #61, #c0, #03, #43
		db #c0, #3f, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #05, #c3, #c1, #03, #c4, #cc, #98, #64
		db #d3, #0c, #f3, #0c, #0c, #b2, #0c, #71
		db #24, #71, #8c, #18, #59, #18, #18, #64
		db #98, #30, #c3, #c2, #97, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #0b, #43
		db #c4, #42, #c8, #c6, #64, #98, #f3, #4d
		db #26, #f3, #59, #a6, #4d, #b3, #4d, #cf
		db #26, #0c, #0c, #71, #8c, #04, #f3, #b7
		db #e6, #b2, #61, #3a, #61, #c3, #82, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #c8, #c1
		db #cc, #c4, #44, #24, #24, #73, #4d, #a6
		db #cf, #19, #8e, #59, #e7, #cf, #bb, #f3
		db #26, #0c, #f7, #f3, #0c, #73, #26, #0c
		db #f3, #04, #71, #98, #44, #98, #89, #88
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #03, #4b, #c3, #96
		db #88, #00, #00, #0c, #33, #cf, #cf, #8e
		db #0c, #4d, #0c, #0c, #f7, #8e, #df, #8e
		db #4d, #0c, #04, #24, #0c, #4d, #db, #8e
		db #08, #0c, #04, #0c, #61, #c6, #cc, #88
		db #82, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #0a, #cc, #c8, #24
		db #35, #7b, #08, #0c, #0c, #0c, #0c, #f3
		db #a6, #4d, #26, #00, #59, #0c, #a6, #b2
		db #51, #fb, #4d, #cf, #08, #00, #00, #59
		db #08, #04, #a6, #00, #18, #24, #44, #89
		db #02, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #fc, #cc, #98
		db #97, #24, #04, #b3, #0c, #0c, #0c, #0c
		db #b2, #19, #cf, #26, #00, #08, #00, #00
		db #a2, #a6, #65, #cf, #db, #30, #24, #51
		db #a6, #00, #0c, #00, #0c, #0c, #64, #cc
		db #43, #00, #00, #00, #00, #00, #00, #00
		db #00, #15, #2a, #3f, #15, #2a, #3f, #00
		db #00, #3f, #00, #3f, #00, #3f, #15, #2a
		db #3f, #15, #2a, #3f, #15, #2a, #00, #15
		db #2a, #00, #15, #2a, #00, #15, #2a, #00
		db #00, #00, #00, #00, #00, #dc, #cc, #98
		db #92, #04, #0c, #08, #00, #04, #0c, #cf
		db #9b, #f7, #a6, #f7, #8e, #08, #04, #18
		db #20, #0c, #0c, #08, #04, #00, #00, #00
		db #04, #73, #3f, #30, #0c, #30, #cc, #dc
		db #82, #00, #00, #00, #00, #00, #00, #00
		db #00, #15, #7f, #15, #7f, #15, #55, #15
		db #7f, #00, #15, #7f, #15, #7f, #15, #55
		db #15, #7f, #15, #7f, #15, #55, #15, #7f
		db #15, #7f, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #07, #03, #cc, #88
		db #0c, #08, #00, #51, #a2, #a6, #0c, #4d
		db #a6, #08, #4d, #9b, #df, #9b, #77, #4d
		db #fb, #b2, #0c, #b3, #24, #00, #00, #00
		db #00, #00, #45, #71, #b2, #64, #cc, #03
		db #82, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #40, #cc, #cc, #cc
		db #e1, #24, #0c, #00, #00, #20, #04, #a6
		db #04, #08, #04, #04, #4d, #0c, #51, #20
		db #88, #04, #59, #08, #00, #30, #0c, #00
		db #30, #00, #00, #59, #e3, #20, #cc, #03
		db #88, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #43, #46, #cc, #00
		db #cc, #24, #00, #00, #61, #eb, #b0, #0c
		db #04, #08, #08, #00, #08, #59, #18, #0c
		db #08, #f0, #88, #04, #35, #92, #58, #f4
		db #4e, #00, #00, #18, #24, #44, #cc, #88
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #46, #cc, #00
		db #cc, #88, #00, #15, #eb, #08, #00, #00
		db #00, #00, #10, #f0, #88, #08, #18, #4c
		db #92, #30, #6c, #00, #00, #00, #00, #00
		db #25, #4e, #00, #00, #00, #00, #00, #c0
		db #28, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #41, #0b, #ec, #04
		db #92, #00, #00, #25, #3f, #20, #00, #28
		db #28, #14, #08, #00, #00, #44, #41, #3a
		db #08, #00, #00, #1c, #00, #39, #28, #00
		db #2f, #3e, #00, #00, #41, #00, #44, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #05, #03, #46, #44
		db #3a, #82, #00, #15, #87, #2f, #3f, #e1
		db #b0, #30, #30, #00, #88, #30, #25, #0f
		db #4b, #30, #18, #70, #f0, #83, #03, #07
		db #0f, #2a, #00, #41, #15, #00, #01, #81
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #64, #88
		db #04, #3a, #82, #44, #87, #0b, #f0, #f0
		db #b0, #b0, #b0, #64, #50, #c3, #87, #af
		db #0f, #21, #83, #c3, #83, #03, #07, #07
		db #1f, #00, #41, #15, #08, #44, #46, #c4
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #41, #c6, #00
		db #44, #24, #1f, #08, #d8, #03, #43, #e1
		db #e1, #f0, #b0, #20, #97, #4b, #87, #1f
		db #2f, #1a, #21, #03, #03, #03, #07, #0f
		db #3a, #04, #2f, #08, #88, #cc, #82, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #41, #c6, #88
		db #41, #ba, #0c, #00, #44, #e1, #e1, #43
		db #e1, #e1, #a1, #03, #24, #00, #10, #20
		db #00, #25, #03, #03, #07, #0f, #0f, #0f
		db #20, #04, #18, #87, #88, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #05, #80
		db #8d, #c3, #a0, #0c, #08, #70, #e1, #e1
		db #c3, #97, #07, #07, #1f, #30, #30, #30
		db #b5, #0f, #0f, #07, #0f, #af, #0f, #0e
		db #00, #04, #5c, #07, #c6, #44, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #05, #00, #05, #00, #05, #00
		db #05, #00, #05, #05, #05, #05, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #04, #61, #0f, #00
		db #dd, #c3, #c6, #0c, #0c, #08, #41, #4b
		db #c3, #c3, #c6, #d7, #d2, #f0, #c3, #97
		db #0f, #0f, #0f, #af, #af, #0f, #2a, #00
		db #0c, #0c, #58, #07, #4e, #00, #89, #43
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #04, #61, #5f, #0f, #4b, #4b, #08, #00
		db #dd, #c3, #c6, #0c, #0c, #08, #08, #00
		db #2f, #03, #c3, #b0, #24, #30, #61, #e1
		db #c3, #35, #0f, #0f, #1f, #88, #00, #18
		db #30, #18, #18, #c3, #c6, #00, #49, #0f
		db #87, #ff, #0f, #0f, #4b, #82, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #0c, #30, #30, #c3, #c3
		db #c3, #92, #24, #0c, #08, #00, #00, #00
		db #00, #00, #00, #00, #00, #49, #0f, #eb
		db #4b, #4b, #4b, #20, #07, #52, #20, #00
		db #dd, #d2, #88, #0c, #24, #0c, #08, #00
		db #00, #14, #07, #03, #e1, #f0, #70, #3f
		db #0f, #af, #0f, #6e, #00, #00, #00, #49
		db #3a, #30, #18, #e1, #0b, #88, #18, #43
		db #2f, #ee, #09, #4b, #4b, #0f, #0f, #ff
		db #00, #00, #00, #00, #00, #18, #61, #0f
		db #af, #ff, #ff, #af, #af, #af, #af, #af
		db #af, #af, #ff, #ff, #ff, #ff, #0f, #af
		db #af, #af, #0f, #4b, #4b, #c3, #b0, #89
		db #4b, #86, #09, #0f, #f0, #24, #08, #08
		db #c9, #d2, #88, #0c, #0c, #08, #08, #00
		db #00, #00, #00, #10, #c3, #b0, #30, #b5
		db #3f, #3a, #00, #00, #00, #00, #88, #cc
		db #89, #1a, #30, #f0, #87, #88, #0c, #59
		db #43, #97, #0b, #04, #21, #43, #4b, #0b
		db #00, #04, #35, #0f, #ff, #4b, #4b, #4b
		db #c3, #c3, #c3, #4b, #0f, #4b, #c3, #d6
		db #c3, #c3, #4b, #0f, #0f, #4b, #4b, #c3
		db #e1, #f0, #30, #24, #89, #4b, #d2, #30
		db #08, #89, #5a, #f0, #20, #08, #08, #08
		db #d8, #d2, #a0, #00, #08, #08, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #88, #98, #30, #88, #88, #cc, #cc, #cc
		db #cc, #e1, #30, #70, #2f, #88, #00, #08
		db #0c, #db, #43, #2f, #02, #18, #c9, #e6
		db #2f, #5f, #af, #4b, #4b, #c3, #e1, #f0
		db #f0, #b0, #b0, #f0, #c3, #4b, #c3, #d6
		db #fc, #fc, #fc, #d6, #c3, #c3, #e1, #f0
		db #30, #44, #89, #0f, #c3, #b0, #24, #44
		db #07, #c3, #f0, #08, #00, #0c, #18, #4c
		db #52, #d2, #e4, #00, #08, #00, #00, #cc
		db #88, #88, #00, #00, #00, #00, #88, #98
		db #b0, #e1, #c3, #b0, #b0, #64, #30, #70
		db #b0, #61, #12, #70, #6b, #46, #00, #00
		db #08, #0c, #73, #43, #07, #4e, #04, #30
		db #54, #5e, #44, #5c, #58, #45, #40, #4c
		db #4e, #47, #43, #57, #5d, #5f, #4f, #4b
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #41, #c1, #eb, #cc, #c3
		db #eb, #c3, #2b, #3f, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #03, #16, #c0, #cc, #81
		db #c0, #c9, #64, #c9, #98, #24, #d9, #f3
		db #98, #18, #cc, #cc, #e3, #c0, #96, #c3
		db #cc, #28, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #01
		db #43, #c2, #c4, #43, #c2, #c9, #98, #64
		db #d9, #59, #f3, #0c, #19, #a6, #0c, #71
		db #0c, #f3, #0c, #0c, #59, #0c, #4c, #71
		db #c6, #30, #c9, #03, #c3, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #01, #05, #16
		db #cc, #12, #c9, #cc, #30, #98, #f3, #4d
		db #59, #a6, #59, #24, #59, #e7, #cf, #9b
		db #0c, #26, #0c, #71, #08, #59, #f3, #3f
		db #f3, #b2, #61, #30, #61, #c3, #82, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #21, #89
		db #c4, #cc, #44, #8c, #0c, #73, #4d, #a6
		db #cf, #19, #8e, #59, #e7, #cf, #8e, #f3
		db #19, #0c, #fb, #e7, #33, #33, #0c, #0c
		db #b2, #04, #64, #98, #44, #98, #c9, #9d
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #01, #52, #c3, #97
		db #28, #00, #88, #04, #19, #33, #67, #9b
		db #0c, #4d, #0c, #0c, #f7, #a6, #f7, #8e
		db #cf, #08, #10, #b2, #f3, #e7, #8e, #0c
		db #08, #08, #04, #08, #61, #c6, #20, #02
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #01, #07, #83, #cc, #38
		db #30, #f3, #24, #04, #0c, #08, #04, #59
		db #f3, #19, #8e, #00, #4d, #0c, #8e, #a6
		db #51, #ae, #4d, #8e, #04, #0c, #0c, #59
		db #08, #59, #a6, #04, #f3, #24, #44, #43
		db #02, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #f3, #aa, #51, #a2, #f7, #00
		db #f3, #aa, #51, #f3, #aa, #f3, #f7, #00
		db #51, #f7, #00, #f3, #f7, #00, #00, #00
		db #f3, #aa, #51, #f3, #aa, #00, #f3, #aa
		db #00, #00, #00, #00, #01, #03, #cc, #88
		db #35, #b2, #08, #f3, #26, #33, #26, #4d
		db #0c, #19, #67, #a6, #00, #08, #00, #00
		db #a2, #a6, #f3, #e7, #18, #0c, #08, #f3
		db #24, #04, #24, #00, #0c, #10, #64, #c8
		db #02, #00, #00, #00, #00, #00, #00, #00
		db #00, #50, #a0, #f0, #50, #a0, #f0, #50
		db #a0, #f0, #00, #f0, #00, #f0, #50, #a0
		db #f0, #50, #a0, #f0, #50, #a0, #00, #50
		db #a0, #00, #50, #a0, #00, #50, #a0, #00
		db #00, #00, #00, #00, #00, #89, #cc, #cc
		db #96, #08, #0c, #0c, #00, #04, #0c, #cf
		db #db, #fb, #26, #f7, #9b, #08, #04, #db
		db #24, #0c, #20, #71, #a6, #24, #00, #04
		db #18, #3d, #3f, #24, #1c, #d6, #cc, #89
		db #82, #00, #00, #00, #00, #00, #00, #00
		db #00, #15, #15, #15, #15, #15, #15, #15
		db #15, #00, #00, #2a, #15, #15, #15, #15
		db #00, #15, #15, #15, #15, #15, #15, #15
		db #15, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #01, #03, #cc, #c6
		db #08, #08, #00, #00, #04, #08, #04, #19
		db #a6, #0c, #19, #26, #df, #cf, #5d, #04
		db #db, #b2, #24, #b3, #18, #08, #04, #0c
		db #00, #00, #10, #79, #b2, #64, #cc, #89
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #02, #46, #cc, #98
		db #c3, #3a, #08, #00, #00, #64, #00, #a6
		db #04, #0c, #00, #04, #4d, #0c, #10, #a2
		db #88, #04, #18, #18, #00, #18, #30, #08
		db #30, #00, #00, #71, #3a, #00, #00, #cc
		db #28, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #01, #0b, #83, #cc, #00
		db #44, #30, #00, #00, #35, #eb, #b0, #04
		db #00, #64, #00, #00, #08, #00, #18, #24
		db #08, #d8, #98, #08, #59, #c3, #61, #e9
		db #4b, #00, #00, #18, #24, #cc, #88, #88
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #01, #07, #46, #cc, #00
		db #e4, #00, #00, #61, #3a, #04, #00, #00
		db #00, #00, #00, #10, #98, #18, #10, #4c
		db #92, #08, #00, #00, #00, #00, #00, #00
		db #51, #1e, #00, #00, #d8, #00, #40, #46
		db #82, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #03, #83, #cc, #04
		db #e3, #20, #00, #35, #1f, #20, #14, #bb
		db #8a, #4d, #1c, #00, #88, #00, #41, #1f
		db #08, #88, #14, #4d, #0c, #9b, #be, #00
		db #2f, #1e, #00, #00, #d3, #00, #44, #cc
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #02, #01, #46, #00
		db #3a, #c6, #00, #41, #0f, #1f, #1f, #d2
		db #f0, #30, #30, #44, #44, #30, #6b, #af
		db #0f, #30, #30, #f0, #e1, #83, #03, #0f
		db #0f, #2a, #00, #c9, #15, #00, #cc, #c9
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #c6, #00
		db #00, #92, #82, #44, #97, #0b, #d2, #f0
		db #70, #70, #70, #64, #10, #e1, #97, #af
		db #0f, #30, #83, #43, #83, #03, #03, #0f
		db #1f, #00, #41, #41, #00, #00, #81, #cc
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #46, #c6, #00
		db #44, #86, #3f, #20, #d8, #83, #52, #d2
		db #d2, #52, #f0, #30, #2f, #4b, #0f, #0f
		db #2f, #1a, #12, #03, #03, #03, #0f, #0f
		db #2e, #10, #3f, #49, #88, #cc, #82, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #89, #00
		db #05, #ba, #0c, #08, #44, #f0, #03, #83
		db #d2, #d2, #03, #03, #b0, #08, #00, #08
		db #04, #2f, #0b, #03, #0b, #0f, #0f, #1f
		db #08, #0c, #18, #0f, #88, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #05, #02
		db #8d, #4b, #a0, #04, #00, #50, #d2, #d2
		db #c3, #83, #0b, #0f, #3a, #24, #0c, #30
		db #61, #2f, #0f, #0f, #5f, #0f, #0f, #2e
		db #00, #04, #5c, #43, #c6, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #41, #00, #41, #00, #41, #00
		db #41, #c3, #c3, #41, #41, #41, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #18, #87, #eb, #08
		db #dd, #4b, #e4, #04, #0c, #00, #10, #43
		db #d2, #c3, #97, #af, #b0, #30, #00, #30
		db #97, #0f, #0f, #5f, #0f, #1f, #20, #04
		db #24, #24, #70, #43, #4e, #00, #89, #af
		db #82, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #18, #87, #af, #0f, #87, #86, #0c, #00
		db #c9, #c3, #a0, #04, #18, #0c, #04, #00
		db #21, #0b, #43, #f0, #30, #30, #70, #07
		db #87, #2f, #5f, #0f, #4b, #00, #00, #30
		db #30, #24, #30, #c3, #4e, #00, #58, #7f
		db #87, #5f, #0f, #af, #0f, #4b, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #0c, #30, #c3, #c3, #0f, #0f
		db #0f, #4b, #92, #30, #24, #08, #00, #00
		db #00, #00, #00, #00, #0c, #87, #5f, #87
		db #87, #c3, #87, #44, #07, #f0, #a4, #04
		db #c9, #c3, #88, #04, #18, #0c, #04, #00
		db #00, #00, #03, #0b, #d2, #b0, #f0, #a5
		db #0f, #5f, #0f, #82, #00, #00, #44, #44
		db #92, #24, #30, #e1, #c3, #88, #10, #e3
		db #87, #4e, #10, #07, #87, #87, #0f, #5f
		db #00, #00, #00, #00, #04, #61, #0f, #5f
		db #5f, #ff, #ff, #5f, #5f, #5f, #0f, #87
		db #87, #5f, #5f, #5f, #ff, #ff, #ff, #5f
		db #0f, #0f, #0f, #87, #c3, #d2, #24, #07
		db #c3, #b0, #09, #4b, #b0, #a4, #00, #04
		db #dc, #c3, #88, #04, #0c, #04, #00, #00
		db #00, #00, #00, #44, #70, #30, #30, #70
		db #f0, #24, #00, #00, #00, #00, #44, #98
		db #89, #12, #30, #e1, #c3, #88, #04, #4d
		db #a3, #83, #5f, #88, #21, #87, #c3, #87
		db #00, #18, #2f, #5f, #af, #87, #87, #c3
		db #c3, #c3, #c3, #87, #87, #87, #c3, #e9
		db #e9, #c3, #87, #87, #5f, #87, #87, #d2
		db #d2, #b0, #30, #4c, #07, #4b, #d2, #30
		db #44, #07, #d2, #b0, #0c, #00, #04, #04
		db #54, #c3, #a0, #04, #0c, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #44
		db #44, #18, #30, #64, #44, #44, #cc, #64
		db #cc, #c3, #30, #35, #2f, #88, #00, #04
		db #0c, #23, #e3, #87, #ee, #10, #71, #d3
		db #1f, #ff, #0f, #87, #c3, #d2, #d2, #f0
		db #f0, #70, #70, #70, #e1, #87, #c3, #e9
		db #fc, #fc, #fc, #e9, #e9, #d2, #d2, #b0
		db #b0, #44, #07, #bf, #d2, #b0, #24, #01
		db #0f, #c3, #b0, #0c, #04, #04, #0c, #4c
		db #07, #c3, #e4, #04, #08, #00, #44, #44
		db #cc, #44, #00, #00, #00, #00, #44, #98
		db #70, #83, #83, #d2, #70, #30, #30, #70
		db #b0, #70, #12, #35, #3f, #46, #00, #00
		db #04, #04, #4d, #e3, #87, #0b, #00, #18
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #41, #c3, #c3, #69, #6b, #cc, #8d
		db #c3, #c1, #83, #97, #83, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #01, #42, #c9, #81, #c4
		db #6c, #c3, #cc, #cc, #30, #71, #71, #f3
		db #98, #0c, #98, #d9, #b7, #c4, #c8, #42
		db #cc, #c1, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #03
		db #4b, #83, #cc, #43, #c2, #cc, #30, #64
		db #d9, #4d, #cf, #0c, #11, #24, #0c, #30
		db #0c, #e6, #0c, #0c, #59, #0c, #4c, #30
		db #c6, #30, #c9, #81, #43, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #89, #1e
		db #cc, #92, #cc, #cc, #30, #b2, #f3, #4d
		db #f3, #a6, #73, #0c, #db, #cf, #e7, #26
		db #19, #32, #30, #30, #08, #59, #f3, #b7
		db #71, #b2, #35, #30, #c9, #c3, #c3, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #60, #cc
		db #cc, #cc, #44, #04, #04, #67, #0c, #a6
		db #cf, #19, #8e, #59, #e7, #df, #26, #b3
		db #26, #59, #fb, #9b, #26, #0c, #0c, #18
		db #b2, #04, #71, #0c, #4c, #92, #c9, #c9
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #46, #e1, #3f
		db #3a, #00, #88, #00, #0c, #0c, #19, #33
		db #0c, #4d, #0c, #0c, #f7, #a6, #f3, #8e
		db #a6, #08, #59, #f7, #f3, #8e, #0c, #0c
		db #00, #08, #11, #08, #61, #98, #44, #02
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #01, #4b, #cc, #92
		db #59, #30, #24, #0c, #f3, #0c, #00, #0c
		db #0c, #0c, #8e, #00, #4d, #04, #08, #a6
		db #59, #a6, #cf, #0c, #0c, #0c, #0c, #24
		db #04, #59, #08, #4d, #b2, #24, #54, #03
		db #80, #00, #00, #00, #00, #00, #00, #00
		db #00, #51, #a2, #f3, #51, #f3, #f3, #51
		db #a2, #f3, #00, #f3, #00, #f3, #51, #a2
		db #f3, #51, #a2, #f3, #51, #a2, #00, #51
		db #a2, #f3, #51, #a2, #f3, #51, #a2, #f3
		db #00, #00, #00, #00, #0b, #03, #cc, #88
		db #10, #30, #08, #59, #b3, #19, #0c, #26
		db #0c, #73, #b3, #0c, #00, #08, #00, #00
		db #30, #30, #f7, #a6, #0c, #0c, #51, #a6
		db #08, #10, #08, #04, #0c, #18, #cc, #89
		db #02, #00, #00, #00, #00, #00, #00, #00
		db #00, #50, #a0, #f0, #50, #a0, #f0, #50
		db #a0, #f0, #00, #f0, #00, #f0, #50, #a0
		db #f0, #50, #a0, #f0, #50, #a0, #00, #50
		db #a0, #00, #50, #a0, #00, #50, #a0, #00
		db #00, #00, #00, #00, #01, #03, #ec, #30
		db #79, #0c, #04, #0c, #00, #04, #0c, #4d
		db #db, #fb, #59, #fb, #cf, #08, #0c, #db
		db #b2, #0c, #a6, #24, #f3, #18, #0c, #0c
		db #31, #7f, #7b, #08, #49, #c6, #cc, #46
		db #82, #00, #00, #00, #00, #00, #00, #00
		db #00, #15, #15, #15, #15, #15, #15, #15
		db #15, #00, #00, #2a, #15, #15, #15, #15
		db #00, #15, #15, #15, #15, #15, #15, #15
		db #15, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #81, #cc, #c9
		db #98, #0c, #08, #00, #0c, #00, #04, #59
		db #8e, #04, #0c, #0c, #df, #e7, #5d, #00
		db #cf, #9a, #20, #04, #0c, #0c, #00, #00
		db #00, #00, #00, #db, #6b, #cc, #cc, #46
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #41, #03, #cc, #cc
		db #97, #3a, #08, #00, #00, #64, #00, #a6
		db #04, #0c, #00, #04, #19, #a6, #04, #a2
		db #88, #04, #18, #b2, #08, #0c, #0c, #00
		db #64, #00, #04, #35, #30, #44, #00, #cc
		db #82, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #07, #83, #88, #00
		db #00, #00, #00, #00, #35, #1f, #92, #00
		db #00, #64, #00, #08, #08, #00, #0c, #24
		db #08, #10, #98, #28, #1c, #bf, #30, #c3
		db #4b, #00, #00, #18, #24, #20, #cc, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #07, #03, #ec, #00
		db #1a, #00, #00, #61, #3a, #30, #f0, #88
		db #00, #00, #00, #00, #44, #24, #30, #30
		db #2c, #00, #00, #00, #00, #00, #f0, #64
		db #10, #1e, #00, #00, #05, #00, #89, #c4
		db #80, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #15, #83, #cc, #04
		db #d3, #88, #00, #25, #3f, #3a, #14, #ae
		db #e7, #e7, #5d, #08, #a0, #00, #61, #1f
		db #a6, #30, #5d, #4d, #e7, #a6, #be, #41
		db #2f, #3e, #00, #44, #e3, #00, #44, #cc
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #54, #cc, #88
		db #1a, #6e, #00, #41, #87, #0f, #6b, #f0
		db #b0, #30, #30, #88, #88, #30, #25, #af
		db #0f, #30, #30, #70, #e1, #83, #03, #07
		db #0f, #a0, #00, #9d, #15, #00, #00, #88
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #14, #88
		db #00, #63, #20, #00, #b5, #0b, #f0, #f0
		db #f0, #b0, #b0, #30, #10, #c3, #c3, #af
		db #2f, #21, #03, #43, #03, #03, #07, #0f
		db #5a, #00, #00, #93, #00, #44, #89, #42
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #10, #cc, #00
		db #10, #2e, #37, #20, #54, #a1, #43, #e1
		db #e1, #f0, #b0, #30, #2f, #4b, #87, #1f
		db #2f, #1a, #21, #03, #03, #07, #07, #0f
		db #2e, #10, #3b, #1d, #00, #cc, #c1, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #01, #88
		db #41, #5a, #0c, #0c, #00, #e1, #a1, #43
		db #e1, #e1, #03, #03, #92, #24, #00, #00
		db #18, #0f, #07, #07, #07, #0f, #0f, #1f
		db #08, #0c, #1c, #87, #a0, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #41, #02
		db #8d, #c3, #82, #0c, #0c, #50, #e1, #e1
		db #e1, #97, #07, #0f, #24, #08, #00, #24
		db #30, #a5, #0f, #0f, #af, #af, #0f, #2a
		db #00, #04, #09, #07, #c6, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #41, #00, #41, #00, #41, #00
		db #41, #00, #41, #41, #00, #c3, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #04, #61, #5f, #0f, #20
		db #55, #c3, #c6, #0c, #0c, #08, #00, #03
		db #43, #c3, #97, #0f, #b0, #00, #00, #0c
		db #35, #87, #0f, #af, #af, #1f, #20, #04
		db #18, #18, #58, #07, #4e, #00, #89, #0f
		db #4b, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #04
		db #61, #5f, #eb, #4b, #4b, #30, #10, #00
		db #8d, #d2, #20, #0c, #24, #0c, #08, #00
		db #05, #03, #43, #f0, #f0, #70, #61, #a1
		db #0f, #0f, #af, #0f, #3a, #00, #00, #18
		db #30, #18, #18, #c3, #c6, #00, #18, #87
		db #0b, #0f, #5f, #5f, #0f, #0f, #82, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #0c, #30, #c3, #af, #af, #af, #5f
		db #0f, #0f, #0f, #c3, #92, #24, #08, #00
		db #00, #00, #00, #0c, #61, #0f, #eb, #4b
		db #4b, #e1, #4b, #01, #4b, #f0, #08, #00
		db #8d, #d2, #88, #0c, #24, #0c, #08, #00
		db #00, #00, #87, #03, #c3, #f0, #70, #3f
		db #0f, #0f, #1f, #20, #00, #00, #00, #cc
		db #92, #30, #18, #e1, #4b, #88, #18, #53
		db #97, #0b, #10, #43, #4b, #4b, #0f, #5f
		db #00, #00, #00, #00, #18, #87, #0f, #af
		db #ff, #af, #af, #af, #af, #0f, #4b, #4b
		db #4b, #0f, #0f, #af, #ff, #af, #af, #af
		db #4b, #4b, #4b, #4b, #d2, #b0, #d8, #57
		db #d2, #30, #8d, #4b, #f0, #08, #08, #08
		db #89, #d2, #88, #0c, #0c, #08, #00, #00
		db #00, #00, #00, #00, #30, #30, #30, #30
		db #30, #20, #00, #00, #00, #00, #cc, #cc
		db #cc, #97, #30, #f0, #87, #88, #0c, #19
		db #53, #c3, #0f, #88, #4c, #43, #92, #c3
		db #00, #35, #0f, #5f, #4b, #4b, #4b, #c3
		db #e1, #e1, #e1, #c3, #0f, #4b, #c3, #d6
		db #d6, #c3, #c3, #4b, #4b, #4b, #4b, #e1
		db #f0, #30, #24, #cc, #07, #c3, #b0, #24
		db #cc, #07, #d2, #70, #08, #00, #0c, #08
		db #54, #d2, #e4, #00, #08, #08, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #88
		db #98, #30, #30, #30, #88, #cc, #cc, #30
		db #cc, #e9, #3a, #70, #6b, #88, #00, #08
		db #0c, #59, #53, #87, #4e, #04, #64, #f3
		db #2f, #ff, #4b, #4b, #c3, #e1, #e1, #f0
		db #b0, #b0, #b0, #f0, #e1, #4b, #c3, #d6
		db #fc, #ec, #dc, #fc, #d6, #c3, #e1, #f0
		db #30, #44, #57, #c3, #d2, #30, #08, #89
		db #4b, #d2, #70, #08, #00, #0c, #0c, #4c
		db #43, #d2, #e4, #00, #08, #00, #88, #cc
		db #cc, #88, #00, #00, #00, #00, #88, #98
		db #e1, #17, #2b, #b0, #b0, #30, #30, #70
		db #b0, #61, #92, #70, #6b, #46, #00, #00
		db #00, #0c, #19, #53, #83, #0b, #88, #18
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #01
		db #03, #c0, #c1, #42, #68, #c6, #98, #c6
		db #cc, #c2, #3d, #c3, #c1, #2c, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #41, #c4, #d7, #89, #46
		db #69, #92, #30, #30, #30, #b6, #f3, #b2
		db #b2, #08, #98, #d9, #b7, #30, #c9, #c4
		db #c8, #c1, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #83, #81, #c8, #43, #c6, #46, #30, #64
		db #e7, #4d, #8e, #30, #11, #0c, #18, #0c
		db #18, #24, #0c, #08, #59, #0c, #49, #30
		db #92, #98, #89, #c3, #83, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #c8, #43
		db #cc, #92, #cc, #cc, #30, #b2, #f3, #73
		db #f3, #8e, #e7, #0c, #f3, #cf, #cf, #26
		db #33, #30, #24, #30, #04, #db, #db, #f3
		db #59, #98, #98, #64, #c6, #c6, #c6, #82
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #46, #cc
		db #cc, #88, #10, #8c, #08, #33, #26, #8e
		db #9b, #0c, #8e, #59, #cf, #df, #4d, #9b
		db #8e, #5d, #8e, #0c, #0c, #0c, #0c, #59
		db #a2, #0c, #0c, #18, #18, #92, #c3, #c9
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #6c, #d8, #3f
		db #be, #00, #98, #08, #0c, #0c, #0c, #0c
		db #0c, #4d, #26, #04, #f7, #a6, #e7, #26
		db #a6, #04, #f3, #ff, #ef, #cf, #0c, #08
		db #04, #08, #11, #08, #30, #30, #40, #02
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #41, #a9, #46, #30
		db #59, #b2, #24, #0c, #59, #a6, #0c, #08
		db #04, #0c, #8a, #00, #04, #0c, #08, #a2
		db #71, #0c, #8e, #0c, #0c, #0c, #0c, #a6
		db #04, #59, #08, #67, #32, #30, #89, #03
		db #80, #82, #00, #00, #00, #00, #00, #00
		db #00, #51, #a2, #f3, #51, #f3, #f3, #51
		db #a2, #f3, #00, #f3, #00, #f3, #51, #a2
		db #f3, #51, #a2, #f3, #51, #a2, #00, #51
		db #a2, #00, #51, #a2, #f3, #51, #a2, #00
		db #00, #00, #00, #01, #07, #03, #cc, #cc
		db #00, #24, #00, #04, #f3, #0c, #33, #0c
		db #33, #f3, #f3, #8e, #0c, #08, #00, #00
		db #18, #71, #fb, #08, #00, #00, #f3, #18
		db #00, #18, #08, #0c, #0c, #64, #cc, #83
		db #02, #00, #00, #00, #00, #00, #00, #00
		db #00, #50, #a0, #f0, #50, #a0, #f0, #50
		db #f0, #f0, #00, #f0, #00, #f0, #50, #a0
		db #f0, #50, #a0, #f0, #50, #a0, #00, #50
		db #a0, #f0, #50, #a0, #00, #50, #a0, #f0
		db #00, #00, #00, #01, #0b, #03, #ec, #cc
		db #71, #a6, #0c, #00, #00, #04, #45, #19
		db #df, #f3, #59, #fb, #cf, #08, #19, #fb
		db #b2, #0c, #b2, #10, #59, #a6, #19, #33
		db #f3, #f3, #a6, #04, #34, #64, #cc, #cc
		db #82, #00, #00, #00, #00, #00, #00, #00
		db #00, #15, #3f, #15, #15, #15, #15, #15
		db #2a, #00, #00, #2a, #15, #15, #15, #15
		db #00, #15, #15, #15, #15, #15, #15, #2a
		db #15, #3f, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #81, #cc, #98
		db #24, #0c, #00, #04, #08, #00, #0c, #19
		db #26, #00, #0c, #0c, #df, #a6, #5d, #00
		db #4d, #9a, #00, #00, #0c, #0c, #08, #00
		db #00, #00, #00, #71, #30, #cc, #cc, #cc
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #41, #cc, #cc, #cc
		db #35, #fb, #08, #00, #00, #30, #00, #8e
		db #04, #0c, #00, #04, #0c, #a6, #00, #a2
		db #44, #88, #00, #30, #20, #18, #0c, #10
		db #96, #00, #04, #30, #24, #20, #44, #44
		db #43, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #01, #0b, #80, #00
		db #00, #00, #00, #04, #d7, #bf, #92, #08
		db #98, #64, #00, #4c, #08, #00, #0c, #30
		db #0c, #18, #c9, #c6, #18, #eb, #30, #6b
		db #0f, #00, #00, #04, #30, #00, #44, #c3
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #01, #0b, #88, #00
		db #ba, #00, #00, #61, #92, #70, #d2, #a0
		db #00, #00, #00, #00, #00, #00, #30, #8c
		db #20, #00, #00, #00, #00, #10, #f0, #b0
		db #30, #4b, #00, #00, #55, #00, #44, #c8
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #02, #d6, #cc, #04
		db #b7, #a2, #00, #35, #1f, #3f, #c6, #75
		db #73, #a6, #be, #08, #20, #0c, #35, #1f
		db #24, #20, #1c, #ae, #f3, #77, #64, #97
		db #0f, #1a, #00, #51, #7b, #00, #00, #cc
		db #82, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #6c, #cc, #88
		db #1a, #3a, #00, #41, #0f, #0f, #7a, #f0
		db #f0, #30, #64, #cc, #44, #30, #c3, #af
		db #0f, #30, #30, #f0, #e1, #83, #03, #0f
		db #1f, #20, #00, #15, #41, #44, #cc, #80
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #44, #88
		db #00, #49, #20, #00, #b5, #0b, #d2, #f0
		db #f0, #f0, #70, #30, #98, #e1, #e1, #eb
		db #3f, #30, #03, #03, #03, #03, #0b, #0f
		db #3a, #00, #00, #86, #00, #00, #cc, #cc
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #15, #46, #00
		db #41, #ba, #59, #20, #50, #83, #03, #d2
		db #d2, #52, #f0, #30, #3f, #6b, #0f, #0f
		db #2f, #1a, #12, #03, #03, #03, #0f, #0f
		db #2a, #10, #a6, #55, #a0, #cc, #88, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #0b, #88
		db #05, #fa, #0c, #0c, #00, #f0, #03, #83
		db #d2, #83, #03, #03, #43, #30, #00, #00
		db #35, #0f, #0b, #0b, #0f, #0f, #5f, #1f
		db #00, #0c, #1c, #0f, #a0, #00, #88, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #04, #0c, #0c, #04, #04, #0c, #0c
		db #00, #0c, #08, #04, #00, #04, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #41, #88
		db #8d, #4b, #a0, #04, #08, #10, #f0, #d2
		db #c3, #83, #0b, #1f, #00, #00, #00, #00
		db #10, #35, #0f, #0f, #5f, #0f, #0f, #20
		db #00, #04, #5c, #43, #c6, #00, #88, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #50, #00, #50, #00, #50, #00
		db #50, #00, #50, #50, #00, #f0, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #18, #d7, #ff, #4b, #08
		db #dd, #4b, #e4, #04, #0c, #04, #00, #87
		db #43, #c3, #c3, #1f, #24, #00, #00, #04
		db #30, #2f, #0f, #5f, #0f, #4b, #00, #04
		db #24, #24, #70, #43, #4e, #00, #89, #0f
		db #0f, #82, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #18
		db #87, #ff, #87, #87, #92, #10, #a4, #00
		db #dd, #c3, #20, #04, #18, #0c, #04, #00
		db #15, #0b, #43, #d2, #f0, #b0, #f0, #87
		db #0f, #0f, #5f, #0f, #2a, #00, #00, #30
		db #30, #24, #30, #e1, #4e, #00, #18, #d7
		db #ab, #07, #0f, #af, #af, #0f, #4b, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #04, #30, #c3, #5f, #5f, #5f, #5f, #5f
		db #ff, #af, #af, #0f, #4b, #92, #24, #00
		db #00, #00, #0c, #30, #87, #0f, #87, #c3
		db #d2, #61, #1a, #01, #0b, #b0, #04, #04
		db #c9, #c3, #88, #04, #18, #0c, #04, #00
		db #00, #00, #89, #ab, #d2, #b0, #f0, #87
		db #0f, #0f, #4b, #00, #00, #00, #44, #10
		db #97, #30, #30, #e1, #4b, #88, #10, #a3
		db #83, #5f, #8c, #07, #87, #87, #87, #0f
		db #00, #00, #00, #04, #61, #0f, #5f, #5f
		db #ff, #5f, #5f, #5f, #5f, #0f, #87, #87
		db #87, #87, #0f, #5f, #5f, #ff, #5f, #0f
		db #87, #87, #87, #c3, #f0, #24, #89, #eb
		db #92, #24, #07, #d2, #b0, #0c, #00, #04
		db #dc, #c3, #88, #04, #0c, #04, #00, #00
		db #00, #00, #00, #00, #10, #30, #30, #30
		db #30, #00, #00, #00, #00, #44, #44, #98
		db #cc, #87, #30, #e1, #87, #88, #04, #0c
		db #8b, #e3, #2f, #46, #10, #07, #92, #61
		db #10, #2f, #0f, #af, #0f, #87, #c3, #d2
		db #d2, #d2, #d2, #c3, #87, #87, #c3, #e9
		db #e9, #e9, #c3, #87, #87, #87, #d2, #d2
		db #b0, #30, #0c, #cc, #07, #c3, #b0, #24
		db #89, #0f, #d2, #b0, #04, #04, #04, #08
		db #89, #c3, #e4, #04, #0c, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #44
		db #98, #70, #30, #64, #64, #44, #98, #30
		db #64, #d8, #3a, #61, #6b, #88, #00, #04
		db #04, #4d, #a3, #87, #0b, #04, #64, #59
		db #0f, #af, #0f, #87, #c3, #d2, #d2, #f0
		db #70, #70, #30, #70, #e1, #87, #c3, #c3
		db #fc, #cc, #cc, #e9, #e9, #f8, #d2, #b0
		db #b0, #44, #07, #c3, #f0, #30, #08, #89
		db #4b, #d2, #b0, #0c, #04, #0c, #0c, #58
		db #07, #c3, #e4, #04, #00, #00, #44, #cc
		db #cc, #44, #00, #00, #00, #44, #44, #98
		db #a1, #3f, #03, #c3, #f0, #30, #30, #70
		db #f0, #f0, #c3, #61, #3f, #46, #00, #00
		db #04, #04, #0c, #a3, #e3, #0f, #88, #0c
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #01, #03
		db #c3, #43, #c3, #c4, #46, #cc, #98, #c6
		db #c9, #98, #c3, #96, #c2, #83, #02, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #03, #00, #68, #42, #4a, #c8, #c4
		db #69, #92, #18, #98, #71, #e7, #fb, #b2
		db #b2, #0c, #8c, #71, #b7, #30, #cc, #cc
		db #89, #88, #41, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #01
		db #c6, #29, #c8, #43, #cc, #92, #30, #98
		db #67, #4d, #9a, #0c, #26, #0c, #24, #0c
		db #19, #26, #0c, #00, #98, #08, #64, #64
		db #c6, #cc, #46, #c3, #83, #82, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #cc, #c1
		db #cc, #92, #cc, #cc, #24, #e7, #f3, #f3
		db #f3, #19, #9b, #0c, #f3, #cf, #cf, #26
		db #b2, #b2, #0c, #0c, #0c, #f3, #9a, #b2
		db #59, #30, #30, #30, #92, #cc, #46, #82
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #01, #03, #46
		db #cc, #cc, #10, #8c, #08, #19, #0c, #8e
		db #9b, #0c, #8e, #59, #cf, #ef, #4d, #cf
		db #26, #cf, #0c, #0c, #0c, #0c, #0c, #59
		db #a2, #0c, #0c, #0c, #4c, #92, #c3, #c1
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #c6, #cc, #35
		db #bf, #20, #44, #0c, #4d, #f3, #f3, #0c
		db #0c, #4d, #26, #04, #f7, #24, #e7, #32
		db #24, #51, #db, #fb, #cf, #f3, #8e, #00
		db #04, #08, #19, #00, #30, #0c, #44, #02
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #03, #46, #9d
		db #30, #71, #24, #0c, #19, #db, #f3, #a6
		db #00, #0c, #0c, #00, #04, #04, #08, #20
		db #71, #0c, #8e, #4d, #0c, #04, #59, #0c
		db #0c, #a6, #04, #9b, #0c, #30, #cc, #03
		db #c3, #82, #00, #00, #00, #00, #00, #00
		db #00, #51, #a2, #f3, #51, #a2, #f3, #51
		db #a2, #f3, #00, #f3, #00, #f3, #51, #a2
		db #f3, #51, #a2, #f3, #51, #a2, #00, #51
		db #a2, #00, #51, #a2, #f3, #51, #a2, #00
		db #00, #00, #00, #00, #01, #a9, #ec, #8c
		db #00, #24, #00, #04, #4d, #cf, #8e, #0c
		db #67, #f3, #f7, #ae, #0c, #0c, #00, #00
		db #18, #71, #a6, #00, #00, #f3, #08, #24
		db #00, #30, #0c, #0c, #30, #4c, #c9, #56
		db #88, #00, #00, #00, #00, #00, #00, #00
		db #00, #50, #a0, #f0, #50, #a0, #f0, #00
		db #f0, #a0, #00, #f0, #00, #f0, #50, #a0
		db #f0, #50, #a0, #f0, #f0, #00, #00, #00
		db #f0, #a0, #50, #a0, #00, #00, #f0, #a0
		db #00, #00, #00, #00, #07, #03, #ec, #98
		db #98, #a6, #0c, #00, #00, #00, #0c, #4d
		db #f7, #a6, #59, #fb, #cf, #08, #4d, #df
		db #f3, #0c, #f3, #0c, #0c, #f3, #0c, #73
		db #f3, #f3, #20, #10, #b2, #00, #cc, #cc
		db #02, #00, #00, #00, #00, #00, #00, #00
		db #00, #50, #00, #50, #50, #50, #50, #50
		db #50, #00, #00, #a0, #50, #50, #50, #50
		db #00, #50, #50, #50, #50, #50, #50, #50
		db #00, #50, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #c8, #cc, #46
		db #04, #00, #00, #00, #00, #00, #04, #59
		db #0c, #08, #0c, #0c, #df, #8e, #5d, #08
		db #04, #59, #08, #00, #00, #0c, #0c, #0c
		db #00, #00, #45, #71, #b2, #cc, #cc, #cc
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #46, #cc, #10
		db #98, #24, #08, #00, #10, #70, #88, #0c
		db #04, #0c, #00, #04, #0c, #a6, #00, #59
		db #44, #20, #00, #18, #24, #10, #24, #10
		db #3e, #00, #00, #18, #0c, #20, #00, #89
		db #02, #82, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #c6, #88, #00
		db #88, #00, #00, #04, #7f, #c3, #30, #00
		db #98, #64, #00, #18, #04, #00, #0c, #30
		db #04, #08, #61, #96, #10, #64, #04, #b7
		db #0f, #28, #00, #04, #30, #00, #cc, #c9
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #56, #cc, #44
		db #2e, #00, #00, #61, #92, #30, #70, #30
		db #00, #00, #00, #00, #00, #10, #64, #35
		db #08, #00, #00, #00, #00, #10, #70, #b0
		db #61, #4b, #00, #00, #1d, #00, #44, #88
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #54, #ec, #44
		db #7b, #2a, #00, #25, #2f, #3f, #7a, #88
		db #10, #0c, #71, #12, #24, #30, #35, #1f
		db #30, #64, #53, #24, #18, #34, #d8, #07
		db #0f, #6e, #00, #15, #b7, #00, #89, #ec
		db #82, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #01, #83, #03, #88
		db #63, #61, #00, #50, #87, #0f, #e1, #f0
		db #b0, #b0, #30, #cc, #d8, #92, #25, #af
		db #0f, #30, #30, #c3, #e1, #03, #03, #07
		db #1f, #20, #00, #82, #93, #44, #42, #82
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #03, #00
		db #00, #41, #12, #00, #e1, #03, #f0, #f0
		db #f0, #f0, #b0, #30, #98, #c3, #b5, #4b
		db #3f, #21, #21, #03, #03, #03, #07, #0f
		db #3a, #00, #01, #82, #00, #00, #cc, #88
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #c6, #88
		db #41, #ba, #0c, #20, #50, #a1, #43, #c3
		db #e1, #e1, #b0, #30, #b5, #d2, #87, #0f
		db #2f, #3a, #21, #03, #03, #07, #07, #0f
		db #2a, #00, #0c, #55, #82, #44, #88, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #02, #88
		db #41, #eb, #0c, #0c, #00, #e1, #a1, #43
		db #c3, #e1, #03, #03, #43, #30, #00, #04
		db #87, #0f, #0f, #07, #07, #af, #af, #1f
		db #00, #0c, #1c, #87, #a0, #00, #28, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #51, #f3, #f3, #51, #51, #f3, #f3
		db #00, #f3, #a2, #51, #00, #51, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #8d, #c3, #82, #0c, #0c, #04, #e1, #c3
		db #e1, #c3, #52, #1a, #00, #10, #30, #20
		db #00, #18, #0f, #0f, #af, #0f, #1f, #08
		db #04, #0c, #58, #07, #4e, #00, #88, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #50, #00, #50, #00, #50, #00
		db #50, #00, #50, #50, #00, #10, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #04, #61, #ff, #af, #0f, #08
		db #dd, #c3, #c6, #0c, #0c, #08, #00, #21
		db #03, #c3, #c3, #3f, #20, #00, #00, #04
		db #18, #35, #0f, #af, #0f, #3a, #00, #18
		db #18, #18, #58, #07, #4e, #00, #c9, #0f
		db #0f, #4b, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #04, #61
		db #5f, #eb, #4b, #4b, #82, #50, #b0, #00
		db #c9, #d2, #20, #0c, #24, #24, #08, #00
		db #04, #07, #03, #c3, #e1, #f0, #70, #2b
		db #0f, #0f, #af, #0f, #82, #00, #00, #b2
		db #30, #18, #18, #e1, #c6, #00, #18, #87
		db #ab, #21, #0f, #5f, #5f, #5f, #0f, #82
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #18, #c3, #0f, #af, #af, #af, #af, #ff
		db #ff, #ff, #ff, #af, #0f, #0f, #92, #08
		db #00, #0c, #30, #c3, #0f, #eb, #4b, #c3
		db #a4, #8d, #82, #01, #5a, #f0, #08, #00
		db #c9, #d2, #88, #0c, #24, #0c, #08, #00
		db #00, #00, #41, #7f, #c3, #f0, #70, #97
		db #0f, #0f, #3a, #00, #00, #00, #00, #98
		db #07, #30, #18, #e1, #c3, #88, #18, #53
		db #97, #0f, #88, #61, #4b, #4b, #4b, #0f
		db #00, #00, #00, #18, #87, #0f, #af, #af
		db #eb, #eb, #af, #0f, #af, #4b, #4b, #4b
		db #4b, #4b, #0f, #0f, #af, #af, #af, #4b
		db #4b, #c3, #c3, #d2, #b0, #4c, #07, #c3
		db #b0, #4c, #07, #d2, #70, #08, #00, #08
		db #dc, #d2, #88, #0c, #08, #08, #00, #00
		db #00, #00, #00, #00, #00, #0c, #0c, #0c
		db #08, #88, #88, #88, #00, #00, #cc, #cc
		db #cc, #a5, #30, #f0, #87, #88, #00, #0c
		db #73, #43, #07, #ee, #04, #71, #46, #30
		db #18, #2f, #5f, #af, #4b, #4b, #c3, #e1
		db #e1, #e1, #e1, #e1, #4b, #4b, #c3, #d6
		db #d6, #d6, #c3, #c3, #4b, #4b, #c3, #f0
		db #70, #24, #4c, #89, #5f, #c3, #30, #4c
		db #89, #4b, #d2, #24, #08, #00, #0c, #08
		db #54, #d2, #e4, #00, #08, #00, #00, #88
		db #88, #00, #00, #00, #00, #00, #00, #cc
		db #30, #b0, #b0, #30, #98, #cc, #98, #70
		db #98, #c9, #12, #70, #2f, #88, #00, #00
		db #0c, #19, #53, #97, #5f, #88, #18, #8c
		db #2f, #af, #4b, #4b, #c3, #e1, #f0, #b0
		db #b0, #b0, #30, #30, #f0, #c3, #c3, #d6
		db #fc, #cc, #cc, #fc, #d6, #c3, #e1, #f0
		db #30, #89, #4b, #d2, #b0, #30, #08, #83
		db #4b, #f0, #24, #08, #00, #0c, #24, #58
		db #07, #d2, #e4, #00, #00, #00, #cc, #cc
		db #cc, #88, #88, #00, #00, #00, #88, #d8
		db #97, #2b, #2b, #d2, #d2, #30, #30, #70
		db #f0, #e1, #e1, #70, #6b, #46, #00, #00
		db #00, #08, #0c, #db, #43, #0f, #46, #04
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #01, #0a, #03, #43
		db #83, #43, #c3, #c8, #42, #c6, #64, #7b
		db #e6, #98, #cc, #c8, #83, #94, #16, #a2
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #01, #01, #46, #83, #43, #c4, #c0, #90
		db #c3, #a6, #4c, #cc, #71, #59, #f3, #59
		db #a6, #44, #88, #d9, #64, #18, #30, #cc
		db #81, #88, #c3, #2a, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #01
		db #46, #81, #cc, #c6, #cc, #98, #64, #b3
		db #67, #67, #a6, #19, #04, #18, #30, #19
		db #b2, #0c, #0c, #04, #a6, #08, #71, #61
		db #c6, #c9, #92, #c3, #21, #03, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #cc, #c1
		db #dc, #c6, #cc, #cc, #24, #f3, #f3, #f3
		db #f3, #26, #8e, #59, #f3, #9b, #db, #73
		db #f3, #0c, #0c, #0c, #f3, #f3, #18, #a6
		db #59, #24, #30, #64, #92, #30, #c4, #82
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #10, #c8, #c1
		db #6c, #00, #04, #24, #0c, #59, #26, #0c
		db #19, #19, #8a, #18, #cf, #bb, #4d, #cf
		db #0c, #8e, #0c, #04, #0c, #04, #0c, #f3
		db #0c, #0c, #0c, #0c, #10, #92, #c3, #89
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #44, #cc, #71
		db #ff, #20, #00, #0c, #0c, #f3, #7f, #a6
		db #0c, #4d, #26, #04, #f7, #0c, #e7, #db
		db #08, #f3, #f7, #e7, #db, #e7, #08, #00
		db #0c, #04, #19, #00, #0c, #00, #44, #43
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #74, #03, #d8
		db #3a, #18, #24, #0c, #33, #cf, #0c, #f3
		db #00, #0c, #0c, #00, #04, #08, #00, #08
		db #31, #51, #0c, #a6, #04, #18, #b2, #0c
		db #59, #a2, #04, #26, #0c, #38, #64, #cc
		db #c2, #00, #00, #00, #00, #00, #00, #00
		db #00, #15, #2a, #3f, #15, #2a, #3f, #15
		db #2a, #00, #00, #3f, #00, #3f, #15, #2a
		db #3f, #15, #2a, #3f, #15, #2a, #00, #15
		db #2a, #00, #15, #2a, #3f, #15, #2a, #00
		db #00, #00, #00, #00, #00, #dc, #c8, #cc
		db #08, #51, #0c, #00, #04, #cf, #26, #0c
		db #db, #73, #ff, #e7, #8e, #08, #00, #00
		db #0c, #71, #20, #00, #f3, #a2, #04, #08
		db #10, #30, #0c, #30, #a6, #30, #64, #89
		db #80, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #01, #46, #ec, #10
		db #30, #65, #0c, #00, #00, #00, #a6, #19
		db #7b, #a6, #59, #ef, #cf, #0c, #73, #df
		db #f3, #24, #f3, #20, #0c, #59, #cf, #db
		db #a6, #24, #00, #18, #24, #44, #cc, #89
		db #80, #82, #00, #00, #00, #00, #00, #00
		db #00, #50, #00, #50, #50, #50, #50, #50
		db #50, #00, #00, #a0, #50, #50, #50, #50
		db #50, #50, #50, #50, #50, #50, #50, #50
		db #00, #50, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #cc, #cc, #89
		db #88, #00, #00, #00, #00, #88, #04, #59
		db #08, #08, #0c, #0c, #37, #0c, #1d, #08
		db #04, #59, #08, #00, #00, #04, #0c, #08
		db #00, #00, #00, #f3, #e6, #98, #64, #cc
		db #88, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #15, #03, #cc, #44
		db #20, #0c, #00, #00, #10, #f0, #88, #a6
		db #04, #08, #00, #04, #0c, #a6, #08, #59
		db #44, #e4, #00, #10, #30, #00, #30, #64
		db #6c, #00, #00, #0c, #18, #00, #44, #89
		db #02, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #83, #88, #00
		db #98, #00, #00, #04, #2f, #3a, #00, #00
		db #10, #cc, #00, #30, #8c, #00, #0c, #30
		db #0c, #08, #61, #4b, #00, #00, #00, #35
		db #0f, #0a, #00, #00, #20, #00, #81, #9c
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #41, #c6, #cc, #44
		db #a6, #00, #00, #61, #92, #30, #97, #6b
		db #28, #00, #00, #00, #00, #10, #3a, #34
		db #88, #00, #00, #00, #18, #c3, #c3, #f0
		db #97, #1e, #00, #00, #59, #00, #44, #88
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #16, #cc, #44
		db #e3, #a2, #00, #35, #1f, #3f, #3f, #c3
		db #f0, #c3, #07, #24, #44, #30, #35, #1f
		db #3a, #24, #25, #43, #f0, #f0, #03, #0f
		db #0f, #0a, #00, #51, #d3, #00, #89, #cc
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #44, #03, #88
		db #1d, #35, #00, #10, #2f, #0f, #d2, #f0
		db #f0, #70, #30, #64, #98, #b0, #c3, #af
		db #0f, #30, #3f, #c3, #c3, #03, #03, #0f
		db #1f, #20, #00, #2a, #2e, #44, #c8, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #44, #46, #00
		db #00, #49, #97, #00, #e1, #0b, #d2, #f0
		db #f0, #f0, #70, #30, #70, #c3, #a5, #4b
		db #3f, #30, #03, #03, #03, #03, #0b, #0f
		db #3a, #00, #6b, #86, #00, #00, #01, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #46, #88
		db #05, #ba, #04, #08, #50, #d2, #03, #d2
		db #d2, #d2, #52, #35, #30, #61, #97, #4b
		db #30, #3a, #92, #03, #03, #0b, #0f, #0f
		db #2a, #00, #00, #87, #88, #01, #82, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #01, #46, #88
		db #05, #4b, #20, #0c, #08, #f0, #d2, #83
		db #c3, #83, #03, #03, #43, #92, #00, #10
		db #0f, #0f, #0b, #0b, #0f, #5f, #0f, #5b
		db #00, #0c, #58, #d7, #a0, #00, #82, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #55, #00, #55, #00, #55, #00
		db #55, #00, #55, #55, #00, #55, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #08, #00
		db #8d, #4b, #e4, #04, #08, #00, #f0, #c3
		db #d2, #c3, #c6, #20, #98, #a5, #0f, #0f
		db #1a, #0c, #2f, #5f, #5f, #0f, #1f, #00
		db #04, #0c, #70, #43, #4e, #00, #20, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #10, #00, #10, #00, #10, #00
		db #10, #00, #10, #10, #00, #10, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #18, #d7, #af, #0f, #4b, #00
		db #dd, #4b, #e4, #04, #0c, #04, #00, #01
		db #0b, #43, #c3, #6b, #20, #00, #10, #30
		db #18, #87, #0f, #0f, #0f, #3a, #00, #24
		db #30, #24, #70, #c3, #4e, #00, #c9, #af
		db #af, #0f, #82, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #18, #87
		db #ff, #87, #87, #c3, #cc, #89, #a4, #00
		db #8d, #c3, #88, #04, #18, #0c, #04, #00
		db #00, #2b, #03, #d2, #d2, #b0, #f0, #87
		db #0f, #5f, #0f, #1f, #20, #00, #00, #34
		db #30, #24, #30, #e1, #0b, #00, #10, #97
		db #af, #98, #87, #0f, #af, #af, #ff, #eb
		db #00, #00, #00, #00, #00, #00, #00, #0c
		db #61, #0f, #5f, #5f, #ff, #ff, #ff, #ff
		db #ff, #ff, #ff, #ff, #af, #0f, #4b, #24
		db #0c, #30, #c3, #0f, #ff, #87, #c3, #d2
		db #64, #07, #20, #07, #d2, #b0, #00, #04
		db #c9, #c3, #88, #04, #18, #0c, #00, #00
		db #00, #00, #10, #3f, #d2, #b0, #70, #2f
		db #0f, #0f, #c6, #00, #00, #00, #44, #44
		db #8d, #30, #30, #e1, #c3, #88, #04, #8b
		db #c3, #0f, #02, #09, #87, #87, #87, #0f
		db #00, #00, #04, #61, #0f, #5f, #5f, #87
		db #d7, #87, #87, #5f, #0f, #87, #c3, #c3
		db #87, #87, #87, #0f, #5f, #5f, #0f, #87
		db #d2, #d2, #c3, #f0, #24, #89, #4b, #d2
		db #24, #01, #0f, #f0, #b0, #04, #04, #04
		db #dc, #c3, #a8, #04, #0c, #04, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #44, #44, #44, #44, #00, #44, #cc, #cc
		db #98, #83, #30, #61, #87, #88, #04, #04
		db #59, #e3, #97, #0b, #04, #21, #c3, #30
		db #35, #0f, #ff, #0f, #87, #c3, #d2, #d2
		db #d2, #f0, #f0, #c3, #87, #87, #c3, #e9
		db #fc, #e9, #e9, #c3, #87, #c3, #d2, #d2
		db #b0, #24, #44, #89, #eb, #d2, #30, #4c
		db #89, #4b, #b0, #a4, #00, #04, #04, #08
		db #c9, #c3, #e4, #04, #0c, #00, #00, #44
		db #44, #00, #00, #00, #00, #00, #44, #44
		db #70, #70, #70, #30, #64, #cc, #98, #70
		db #98, #d8, #12, #61, #3f, #88, #00, #04
		db #04, #0c, #8b, #c3, #0f, #88, #18, #64
		db #0f, #af, #0f, #87, #d2, #d2, #d2, #f0
		db #70, #30, #30, #70, #70, #c3, #c3, #c3
		db #fc, #cc, #44, #dc, #e9, #f8, #d2, #d2
		db #30, #89, #4b, #f0, #b0, #30, #08, #87
		db #c3, #b0, #a4, #00, #04, #0c, #24, #e1
		db #07, #c3, #e4, #00, #08, #44, #44, #cc
		db #cc, #cc, #44, #00, #00, #44, #44, #98
		db #a1, #3f, #17, #43, #f0, #b0, #30, #30
		db #f0, #f0, #c3, #61, #3f, #46, #00, #00
		db #00, #04, #04, #23, #e3, #07, #0b, #04
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
		db #00, #00, #00, #00, #00, #00, #00, #00
	.palette:
		db #54, #5e, #44, #5c, #58, #45, #40, #4c
		db #4e, #47, #43, #57, #5d, #5f, #4f, #4b
image_fin

fin',
    true,
    0
  );

  -- Add z80code tag
  SELECT id INTO tag_uuid FROM tags WHERE name = 'z80code';
  IF tag_uuid IS NOT NULL THEN
    INSERT INTO project_tags (project_id, tag_id) VALUES (project_uuid, tag_uuid);
  END IF;
END $$;

-- Project 186: program387 by Nolan Mars
DO $$
DECLARE
  project_uuid uuid := gen_random_uuid();
  tag_uuid uuid;
BEGIN
  INSERT INTO projects (id, user_id, name, description, visibility, is_library, is_sticky, created_at, updated_at)
  VALUES (
    project_uuid,
    'bd6a166d-e0bf-4374-94c3-5222e517d75c'::uuid,
    'program387',
    'Imported from z80Code. Author: Nolan Mars. Lecture musique avec vumetres',
    'public',
    false,
    false,
    '2024-03-10T10:44:42.218000'::timestamptz,
    '2024-03-10T10:53:57.079000'::timestamptz
  );

  INSERT INTO project_files (project_id, name, content, is_main, "order")
  VALUES (
    project_uuid,
    'main.asm',
    '// Joue une musique au format AKG en boucle
// Debit 50Hz
// Musique "Dead Floppy" de Ultrasyd
// Basé sur du code de MADRAM / SIKO

SNASET CPC_TYPE,2 ;Selection de la machine utilisé dans le snapshot (ici Amstrad CPC 6128)
BUILDSNA ;directive RASM création d''un snapshot
BANKSET 0 ;activation bank memoire 64ko (la memoire centrale)
SAVE "prg.bin",debut,fin-debut,DSK,"prg.dsk" ;directive RASM création d''un DSK avec entête AMSDOS
SAVE "prg.bin",debut,fin-debut ;directive RASM création d''un BIN sans entête AMSDOS

ORG #1000 ;placement du code en memoire
RUN debut ;adresse de démarrage du programme binaire

//Macro RASM pour tracer la ligne de volume d''un canal
MACRO tracevol CHAN,DEST
    ld hl,{dest}
    ld a,(ix+{chan})
    call traceligne
MEND

   
    
debut
        di ;desactivation des interruptions systemes
        ld hl,#c9fb ;on place dans HL les instructions EI et RET (opcodes respectifs #FB et #C9)
        ld (#38),hl ;ecrire le code EI et RET en #38
      
        ld hl,musique ;chargement de la musique
        xor a ;on selectionne la musique principale (il n''y pas de sous-musique dans cet exemple)
        call PLY_AKG_Init ;initialisation du lecteur de musique

syncvbl //Test attente VBL
        ld b,#f5 ;port d''accés à la VBL
        in a,(c)
        rra
        jr nc,syncvbl

        //Lecture et stockage du volume des trois canaux du PSG
        ld a,8              ; canal a
        call lecturepsg
        and #0f             ; volume sur 4 bits
        ld (ix+0),a         ; stocke le résultat [0]
        ld d,a              ; on met de coté

        ld a,9              ; canal b
        call lecturepsg
        and #0f             ; 
        ld (ix+1),a         ; stocke le résultat [1]
        ld e,a              ; on met de coté 

        ld a,10             ; canal c
        call lecturepsg
        and #0f             ; 
        ld (ix+2),a         ; stocke le résultat [2] 
        add d               ; somme volumes a+b+c
        add e               ;
        sra a               ; divisée par 4
        sra a               ;
        ld (ix+3),a         ; stocke le cumul [3]


        //On trace le volume
        tracevol 0,#c000
        tracevol 1,#c000+80
        tracevol 2,#c000+160
        tracevol 3,#c000+240



        call ply_akg_play ;joue la musique
        
        jp syncvbl ;on boucle pour une lecture à l''infinie de la musique
    
lecturepsg //Routine de lecture des registres du PSG
        ld bc,#f782
        out (c),c
        ld b,#f4 ; sélectionne le
        out (c),a ; registre
        ld bc,#f6c0
        out (c),c
        xor a
        out (c),a
        ld bc,#f792
        out (c),c
        ld bc,#f640
        out (c),c
        ld b,#f4 ; ici on vient lire
        in a,(c) ; sa valeur
        ld bc,#f782
        out (c),c
        ld bc,#f600
        out (c),c
        ret


traceligne //Routine pour dessiner une ligne
        inc a
        ld b,a
        ld c,b
        ld a,#ff
@lp1
        ld (hl),a
        inc hl
        djnz @lp1
        ld a,17
        sub c
        ld b,a
        ld a,#0f
@lp2
        ld (hl),a
        inc hl
        djnz @lp2
        ret

musique //Musique au format ASM
        DeadFloppy_Start
        DeadFloppy_StartDisarkGenerateExternalLabel

        DeadFloppy_DisarkByteRegionStart0
	        db "AT20"
        DeadFloppy_DisarkPointerRegionStart1
	        dw DeadFloppy_ArpeggioTable	; The address of the Arpeggio table.
            dw DeadFloppy_PitchTable	; The address of the Pitch table.
            dw DeadFloppy_InstrumentTable	; The address of the Instrument table.
            dw DeadFloppy_EffectBlockTable	; The address of the Effect Block table.
        DeadFloppy_DisarkPointerRegionEnd1


        ; The addresses of each Subsong:
        DeadFloppy_DisarkPointerRegionStart2
            dw DeadFloppy_Subsong0_Start
        DeadFloppy_DisarkPointerRegionEnd2

        ; Declares all the Arpeggios.
        DeadFloppy_ArpeggioTable
        DeadFloppy_DisarkPointerRegionStart3
        DeadFloppy_DisarkPointerRegionEnd3

        ; Declares all the Pitches.
        DeadFloppy_PitchTable
        DeadFloppy_DisarkPointerRegionStart4
        DeadFloppy_DisarkPointerRegionEnd4

        ; Declares all the Instruments.
        DeadFloppy_InstrumentTable
        DeadFloppy_DisarkPointerRegionStart5
            dw DeadFloppy_EmptyInstrument
            dw DeadFloppy_Instrument1
            dw DeadFloppy_Instrument2
            dw DeadFloppy_Instrument3
            dw DeadFloppy_Instrument4
            dw DeadFloppy_Instrument5
            dw DeadFloppy_Instrument6
            dw DeadFloppy_Instrument7
            dw DeadFloppy_Instrument8
            dw DeadFloppy_Instrument9
            dw DeadFloppy_Instrument10
        DeadFloppy_DisarkPointerRegionEnd5

        DeadFloppy_EmptyInstrument
            db 0	; The speed (>0, 0 for 256).
        DeadFloppy_EmptyInstrument_Loop	db 0	; No Soft no Hard. Volume: 0. Noise? false.

            db 6	; Loop to silence.

        DeadFloppy_Instrument1
            db 12	; The speed (>0, 0 for 256).
        DeadFloppy_Instrument1_Loop	db 34	; Soft to Hard. Envelope: 10. Retrig ? false. Noise ? false.
            db 133	; Simple case. Ratio: 2

            db 34	; Soft to Hard. Envelope: 10. Retrig ? false. Noise ? false.
            db 132	; Simple case. Ratio: 3

            db 7	; Loop.
        DeadFloppy_DisarkWordForceReference6
            dw DeadFloppy_Instrument1_Loop	; Loop here.

        DeadFloppy_Instrument2
            db 1	; The speed (>0, 0 for 256).
            db 232	; No Soft no Hard. Volume: 13. Noise? true.
            db 11	; Noise: 11.

            db 121	; Soft only. Volume: 15.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 22	; Arpeggio.

            db 121	; Soft only. Volume: 15.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 12	; Arpeggio.

            db 121	; Soft only. Volume: 15.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 10	; Arpeggio.

            db 121	; Soft only. Volume: 15.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 8	; Arpeggio.

            db 121	; Soft only. Volume: 15.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 4	; Arpeggio.

            db 113	; Soft only. Volume: 14.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 3	; Arpeggio.

            db 89	; Soft only. Volume: 11.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 1	; Arpeggio.

            db 6	; Loop to silence.

        DeadFloppy_Instrument3
            db 1	; The speed (>0, 0 for 256).
            db 248	; No Soft no Hard. Volume: 15. Noise? true.
            db 2	; Noise: 2.

            db 121	; Soft only. Volume: 15.
            db 10	; Additional data. Noise: 10. Pitch? false. Arp? false. Period? false.

            db 121	; Soft only. Volume: 15.
            db 74	; Additional data. Noise: 10. Pitch? false. Arp? true. Period? false.
            db 2	; Arpeggio.

            db 248	; No Soft no Hard. Volume: 15. Noise? true.
            db 11	; Noise: 11.

            db 248	; No Soft no Hard. Volume: 15. Noise? true.
            db 12	; Noise: 12.

            db 6	; Loop to silence.

        DeadFloppy_Instrument4
            db 3	; The speed (>0, 0 for 256).
            db 121	; Soft only. Volume: 15.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 24	; Arpeggio.

            db 105	; Soft only. Volume: 13.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 12	; Arpeggio.

            db 73	; Soft only. Volume: 9.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 12	; Arpeggio.

            db 25	; Soft only. Volume: 3.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 12	; Arpeggio.

            db 0	; No Soft no Hard. Volume: 0. Noise? false.

            db 0	; No Soft no Hard. Volume: 0. Noise? false.

            db 0	; No Soft no Hard. Volume: 0. Noise? false.

            db 6	; Loop to silence.

        DeadFloppy_Instrument5
            db 2	; The speed (>0, 0 for 256).
            db 233	; Soft only. Volume: 13. Volume only.

            db 89	; Soft only. Volume: 11.
            db 32	; Additional data. Noise: 0. Pitch? true. Arp? false. Period? false.
            dw -1	; Pitch.

            db 193	; Soft only. Volume: 8. Volume only.

            db 33	; Soft only. Volume: 4.
            db 32	; Additional data. Noise: 0. Pitch? true. Arp? false. Period? false.
            dw -1	; Pitch.

            db 6	; Loop to silence.

        DeadFloppy_Instrument6
            db 1	; The speed (>0, 0 for 256).
            db 249	; Soft only. Volume: 15. Volume only.

            db 121	; Soft only. Volume: 15.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 3	; Arpeggio.

            db 121	; Soft only. Volume: 15.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 7	; Arpeggio.

            db 225	; Soft only. Volume: 12. Volume only.

            db 97	; Soft only. Volume: 12.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 3	; Arpeggio.

            db 97	; Soft only. Volume: 12.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 7	; Arpeggio.

            db 0	; No Soft no Hard. Volume: 0. Noise? false.

            db 6	; Loop to silence.

        DeadFloppy_Instrument7
            db 1	; The speed (>0, 0 for 256).
            db 249	; Soft only. Volume: 15. Volume only.

            db 121	; Soft only. Volume: 15.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 4	; Arpeggio.

            db 121	; Soft only. Volume: 15.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 7	; Arpeggio.

            db 225	; Soft only. Volume: 12. Volume only.

            db 97	; Soft only. Volume: 12.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 4	; Arpeggio.

            db 97	; Soft only. Volume: 12.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 7	; Arpeggio.

            db 0	; No Soft no Hard. Volume: 0. Noise? false.

            db 6	; Loop to silence.

        DeadFloppy_Instrument8
            db 1	; The speed (>0, 0 for 256).
            db 249	; Soft only. Volume: 15. Volume only.

            db 121	; Soft only. Volume: 15.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 5	; Arpeggio.

            db 121	; Soft only. Volume: 15.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 8	; Arpeggio.

            db 225	; Soft only. Volume: 12. Volume only.

            db 97	; Soft only. Volume: 12.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 5	; Arpeggio.

            db 97	; Soft only. Volume: 12.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 8	; Arpeggio.

            db 0	; No Soft no Hard. Volume: 0. Noise? false.

            db 6	; Loop to silence.

        DeadFloppy_Instrument9
            db 1	; The speed (>0, 0 for 256).
            db 249	; Soft only. Volume: 15. Volume only.

            db 121	; Soft only. Volume: 15.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 4	; Arpeggio.

            db 121	; Soft only. Volume: 15.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 9	; Arpeggio.

            db 225	; Soft only. Volume: 12. Volume only.

            db 97	; Soft only. Volume: 12.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 4	; Arpeggio.

            db 97	; Soft only. Volume: 12.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 9	; Arpeggio.

            db 0	; No Soft no Hard. Volume: 0. Noise? false.

            db 6	; Loop to silence.

        DeadFloppy_Instrument10
            db 1	; The speed (>0, 0 for 256).
            db 249	; Soft only. Volume: 15. Volume only.

            db 121	; Soft only. Volume: 15.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 3	; Arpeggio.

            db 121	; Soft only. Volume: 15.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 8	; Arpeggio.

            db 225	; Soft only. Volume: 12. Volume only.

            db 97	; Soft only. Volume: 12.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 3	; Arpeggio.

            db 97	; Soft only. Volume: 12.
            db 64	; Additional data. Noise: 0. Pitch? false. Arp? true. Period? false.
            db 8	; Arpeggio.

            db 0	; No Soft no Hard. Volume: 0. Noise? false.

            db 6	; Loop to silence.


        ; The indexes of the effect blocks used by this song.
        DeadFloppy_EffectBlockTable
        DeadFloppy_DisarkPointerRegionStart7
            dw DeadFloppy_EffectBlock_P20P0P5	; Index 0
            dw DeadFloppy_EffectBlock_P20P0P8	; Index 1
        DeadFloppy_DisarkPointerRegionEnd7

        DeadFloppy_EffectBlock_P20P0P5
            db 20, 0, 5
        DeadFloppy_EffectBlock_P20P0P8
            db 20, 0, 8

        DeadFloppy_DisarkByteRegionEnd0

        ; Subsong 0
        ; ----------------------
        DeadFloppy_Subsong0_DisarkByteRegionStart0
        DeadFloppy_Subsong0_Start
            db 2	; ReplayFrequency (0=12.5hz, 1=25, 2=50, 3=100, 4=150, 5=300).
            db 0	; Digichannel (0-2).
            db 1	; PSG count (>0).
            db 0	; Loop start index (>=0).
            db 25	; End index (>=0).
            db 6	; Initial speed (>=0).
            db 19	; Base note index (>=0).

        DeadFloppy_Subsong0_Linker
        DeadFloppy_Subsong0_DisarkPointerRegionStart1
        ; Position 0
        DeadFloppy_Subsong0_Linker_Loop
            dw DeadFloppy_Subsong0_Track0
            dw DeadFloppy_Subsong0_Track6
            dw DeadFloppy_Subsong0_Track2
            dw DeadFloppy_Subsong0_LinkerBlock0

        ; Position 1
            dw DeadFloppy_Subsong0_Track0
            dw DeadFloppy_Subsong0_Track4
            dw DeadFloppy_Subsong0_Track2
            dw DeadFloppy_Subsong0_LinkerBlock0

        ; Position 2
            dw DeadFloppy_Subsong0_Track0
            dw DeadFloppy_Subsong0_Track1
            dw DeadFloppy_Subsong0_Track2
            dw DeadFloppy_Subsong0_LinkerBlock0

        ; Position 3
            dw DeadFloppy_Subsong0_Track0
            dw DeadFloppy_Subsong0_Track1
            dw DeadFloppy_Subsong0_Track3
            dw DeadFloppy_Subsong0_LinkerBlock0

        ; Position 4
            dw DeadFloppy_Subsong0_Track5
            dw DeadFloppy_Subsong0_Track8
            dw DeadFloppy_Subsong0_Track10
            dw DeadFloppy_Subsong0_LinkerBlock1

        ; Position 5
            dw DeadFloppy_Subsong0_Track7
            dw DeadFloppy_Subsong0_Track9
            dw DeadFloppy_Subsong0_Track0
            dw DeadFloppy_Subsong0_LinkerBlock1

        ; Position 6
            dw DeadFloppy_Subsong0_Track5
            dw DeadFloppy_Subsong0_Track8
            dw DeadFloppy_Subsong0_Track11
            dw DeadFloppy_Subsong0_LinkerBlock1

        ; Position 7
            dw DeadFloppy_Subsong0_Track7
            dw DeadFloppy_Subsong0_Track20
            dw DeadFloppy_Subsong0_Track12
            dw DeadFloppy_Subsong0_LinkerBlock1

        ; Position 8
            dw DeadFloppy_Subsong0_Track16
            dw DeadFloppy_Subsong0_Track18
            dw DeadFloppy_Subsong0_Track10
            dw DeadFloppy_Subsong0_LinkerBlock1

        ; Position 9
            dw DeadFloppy_Subsong0_Track17
            dw DeadFloppy_Subsong0_Track19
            dw DeadFloppy_Subsong0_Track10
            dw DeadFloppy_Subsong0_LinkerBlock1

        ; Position 10
            dw DeadFloppy_Subsong0_Track13
            dw DeadFloppy_Subsong0_Track18
            dw DeadFloppy_Subsong0_Track14
            dw DeadFloppy_Subsong0_LinkerBlock0

        ; Position 11
            dw DeadFloppy_Subsong0_Track21
            dw DeadFloppy_Subsong0_Track19
            dw DeadFloppy_Subsong0_Track15
            dw DeadFloppy_Subsong0_LinkerBlock0

        ; Position 12
            dw DeadFloppy_Subsong0_Track0
            dw DeadFloppy_Subsong0_Track8
            dw DeadFloppy_Subsong0_Track11
            dw DeadFloppy_Subsong0_LinkerBlock1

        ; Position 13
            dw DeadFloppy_Subsong0_Track0
            dw DeadFloppy_Subsong0_Track9
            dw DeadFloppy_Subsong0_Track11
            dw DeadFloppy_Subsong0_LinkerBlock1

        ; Position 14
            dw DeadFloppy_Subsong0_Track5
            dw DeadFloppy_Subsong0_Track8
            dw DeadFloppy_Subsong0_Track11
            dw DeadFloppy_Subsong0_LinkerBlock1

        ; Position 15
            dw DeadFloppy_Subsong0_Track7
            dw DeadFloppy_Subsong0_Track20
            dw DeadFloppy_Subsong0_Track12
            dw DeadFloppy_Subsong0_LinkerBlock1

        ; Position 16
            dw DeadFloppy_Subsong0_Track16
            dw DeadFloppy_Subsong0_Track18
            dw DeadFloppy_Subsong0_Track10
            dw DeadFloppy_Subsong0_LinkerBlock1

        ; Position 17
            dw DeadFloppy_Subsong0_Track17
            dw DeadFloppy_Subsong0_Track19
            dw DeadFloppy_Subsong0_Track10
            dw DeadFloppy_Subsong0_LinkerBlock1

        ; Position 18
            dw DeadFloppy_Subsong0_Track13
            dw DeadFloppy_Subsong0_Track18
            dw DeadFloppy_Subsong0_Track14
            dw DeadFloppy_Subsong0_LinkerBlock0

        ; Position 19
            dw DeadFloppy_Subsong0_Track21
            dw DeadFloppy_Subsong0_Track19
            dw DeadFloppy_Subsong0_Track15
            dw DeadFloppy_Subsong0_LinkerBlock0

        ; Position 20
            dw DeadFloppy_Subsong0_Track0
            dw DeadFloppy_Subsong0_Track22
            dw DeadFloppy_Subsong0_Track10
            dw DeadFloppy_Subsong0_LinkerBlock2

        ; Position 21
            dw DeadFloppy_Subsong0_Track23
            dw DeadFloppy_Subsong0_Track1
            dw DeadFloppy_Subsong0_Track2
            dw DeadFloppy_Subsong0_LinkerBlock0

        ; Position 22
            dw DeadFloppy_Subsong0_Track23
            dw DeadFloppy_Subsong0_Track1
            dw DeadFloppy_Subsong0_Track2
            dw DeadFloppy_Subsong0_LinkerBlock0

        ; Position 23
            dw DeadFloppy_Subsong0_Track23
            dw DeadFloppy_Subsong0_Track1
            dw DeadFloppy_Subsong0_Track2
            dw DeadFloppy_Subsong0_LinkerBlock0

        ; Position 24
            dw DeadFloppy_Subsong0_Track23
            dw DeadFloppy_Subsong0_Track1
            dw DeadFloppy_Subsong0_Track3
            dw DeadFloppy_Subsong0_LinkerBlock0

        ; Position 25
            dw DeadFloppy_Subsong0_Track0
            dw DeadFloppy_Subsong0_Track22
            dw DeadFloppy_Subsong0_Track10
            dw DeadFloppy_Subsong0_LinkerBlock2

        DeadFloppy_Subsong0_DisarkPointerRegionEnd1
            dw 0	; Loop.
        DeadFloppy_Subsong0_DisarkWordForceReference2
            dw DeadFloppy_Subsong0_Linker_Loop

        DeadFloppy_Subsong0_LinkerBlock0
            db 64	; Height.
            db 0	; Transposition 0.
            db 0	; Transposition 1.
            db 0	; Transposition 2.
        DeadFloppy_Subsong0_DisarkWordForceReference3
            dw DeadFloppy_Subsong0_SpeedTrack0	; SpeedTrack address.
        DeadFloppy_Subsong0_DisarkWordForceReference4
            dw DeadFloppy_Subsong0_EventTrack0	; EventTrack address.
        DeadFloppy_Subsong0_LinkerBlock1
            db 64	; Height.
            db -5	; Transposition 0.
            db 0	; Transposition 1.
            db 0	; Transposition 2.
        DeadFloppy_Subsong0_DisarkWordForceReference5
            dw DeadFloppy_Subsong0_SpeedTrack0	; SpeedTrack address.
        DeadFloppy_Subsong0_DisarkWordForceReference6
            dw DeadFloppy_Subsong0_EventTrack0	; EventTrack address.
        DeadFloppy_Subsong0_LinkerBlock2
            db 16	; Height.
            db 0	; Transposition 0.
            db 0	; Transposition 1.
            db 0	; Transposition 2.
        DeadFloppy_Subsong0_DisarkWordForceReference7
            dw DeadFloppy_Subsong0_SpeedTrack0	; SpeedTrack address.
        DeadFloppy_Subsong0_DisarkWordForceReference8
            dw DeadFloppy_Subsong0_EventTrack0	; EventTrack address.

        DeadFloppy_Subsong0_Track0
            db 61, 127	; Waits for 128 lines.


        DeadFloppy_Subsong0_Track1
            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 191
            db 9	; Escape note (9).
            db 4	; New Instrument (4).
            db 166
            db 6	; New Instrument (6).
            db 133
            db 3	; New Instrument (3).
            db 166
            db 6	; New Instrument (6).
            db 133
            db 2	; New Instrument (2).
            db 130
            db 4	; New Instrument (4).
            db 166
            db 6	; New Instrument (6).
            db 60	; Waits for 1 line.

            db 26
            db 60	; Waits for 1 line.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 130
            db 4	; New Instrument (4).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 191
            db 12	; Escape note (12).
            db 4	; New Instrument (4).
            db 169
            db 7	; New Instrument (7).
            db 133
            db 3	; New Instrument (3).
            db 169
            db 7	; New Instrument (7).
            db 133
            db 2	; New Instrument (2).
            db 133
            db 4	; New Instrument (4).
            db 169
            db 7	; New Instrument (7).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 137
            db 4	; New Instrument (4).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 191
            db 17	; Escape note (17).
            db 4	; New Instrument (4).
            db 174
            db 7	; New Instrument (7).
            db 133
            db 3	; New Instrument (3).
            db 174
            db 7	; New Instrument (7).
            db 133
            db 2	; New Instrument (2).
            db 191
            db 16	; Escape note (16).
            db 4	; New Instrument (4).
            db 173
            db 8	; New Instrument (8).
            db 60	; Waits for 1 line.

            db 33
            db 60	; Waits for 1 line.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 135
            db 4	; New Instrument (4).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 191
            db 17	; Escape note (17).
            db 4	; New Instrument (4).
            db 171
            db 6	; New Instrument (6).
            db 133
            db 3	; New Instrument (3).
            db 171
            db 6	; New Instrument (6).
            db 133
            db 2	; New Instrument (2).
            db 135
            db 4	; New Instrument (4).
            db 171
            db 6	; New Instrument (6).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 137
            db 4	; New Instrument (4).
            db 133
            db 2	; New Instrument (2).
            db 61, 127	; Waits for 128 lines.


        DeadFloppy_Subsong0_Track2
            db 166
            db 1	; New Instrument (1).
            db 61, 14	; Waits for 15 lines.

            db 41
            db 61, 10	; Waits for 11 lines.

            db 45
            db 62 + 1 * 64	; Optimized wait for 3 lines.

            db 34
            db 61, 6	; Waits for 7 lines.

            db 33
            db 61, 6	; Waits for 7 lines.

            db 31
            db 61, 10	; Waits for 11 lines.

            db 36
            db 61, 127	; Waits for 128 lines.


        DeadFloppy_Subsong0_Track3
            db 166
            db 1	; New Instrument (1).
            db 61, 14	; Waits for 15 lines.

            db 41
            db 61, 10	; Waits for 11 lines.

            db 45
            db 62 + 1 * 64	; Optimized wait for 3 lines.

            db 34
            db 61, 6	; Waits for 7 lines.

            db 33
            db 61, 6	; Waits for 7 lines.

            db 31
            db 61, 6	; Waits for 7 lines.

            db 124	; No note, but effects.
            db 0	; Index to an effect block.
            db 61, 127	; Waits for 128 lines.


        DeadFloppy_Subsong0_Track4
            db 133
            db 2	; New Instrument (2).
            db 62 + 1 * 64	; Optimized wait for 3 lines.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 62 + 3 * 64	; Optimized wait for 5 lines.

            db 133
            db 3	; New Instrument (3).
            db 62 + 1 * 64	; Optimized wait for 3 lines.

            db 133
            db 2	; New Instrument (2).
            db 62 + 1 * 64	; Optimized wait for 3 lines.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 62 + 1 * 64	; Optimized wait for 3 lines.

            db 5
            db 60	; Waits for 1 line.

            db 133
            db 3	; New Instrument (3).
            db 62 + 1 * 64	; Optimized wait for 3 lines.

            db 133
            db 2	; New Instrument (2).
            db 62 + 1 * 64	; Optimized wait for 3 lines.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 62 + 3 * 64	; Optimized wait for 5 lines.

            db 133
            db 3	; New Instrument (3).
            db 62 + 1 * 64	; Optimized wait for 3 lines.

            db 133
            db 2	; New Instrument (2).
            db 62 + 1 * 64	; Optimized wait for 3 lines.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 62 + 1 * 64	; Optimized wait for 3 lines.

            db 5
            db 60	; Waits for 1 line.

            db 133
            db 3	; New Instrument (3).
            db 159
            db 6	; New Instrument (6).
            db 133
            db 3	; New Instrument (3).
            db 5
            db 61, 127	; Waits for 128 lines.


        DeadFloppy_Subsong0_Track5
            db 183
            db 5	; New Instrument (5).
            db 60	; Waits for 1 line.

            db 46
            db 60	; Waits for 1 line.

            db 50
            db 60	; Waits for 1 line.

            db 46
            db 60	; Waits for 1 line.

            db 55
            db 60	; Waits for 1 line.

            db 46
            db 60	; Waits for 1 line.

            db 50
            db 60	; Waits for 1 line.

            db 46
            db 60	; Waits for 1 line.

            db 55
            db 60	; Waits for 1 line.

            db 46
            db 60	; Waits for 1 line.

            db 50
            db 60	; Waits for 1 line.

            db 46
            db 60	; Waits for 1 line.

            db 53
            db 60	; Waits for 1 line.

            db 45
            db 60	; Waits for 1 line.

            db 50
            db 62 + 1 * 64	; Optimized wait for 3 lines.

            db 55
            db 60	; Waits for 1 line.

            db 46
            db 60	; Waits for 1 line.

            db 50
            db 60	; Waits for 1 line.

            db 46
            db 60	; Waits for 1 line.

            db 55
            db 60	; Waits for 1 line.

            db 46
            db 60	; Waits for 1 line.

            db 50
            db 60	; Waits for 1 line.

            db 46
            db 60	; Waits for 1 line.

            db 55
            db 60	; Waits for 1 line.

            db 46
            db 60	; Waits for 1 line.

            db 50
            db 60	; Waits for 1 line.

            db 46
            db 60	; Waits for 1 line.

            db 53
            db 60	; Waits for 1 line.

            db 45
            db 60	; Waits for 1 line.

            db 48
            db 61, 127	; Waits for 128 lines.


        DeadFloppy_Subsong0_Track6
            db 61, 55	; Waits for 56 lines.

            db 133
            db 3	; New Instrument (3).
            db 5
            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 5
            db 5
            db 61, 127	; Waits for 128 lines.


        DeadFloppy_Subsong0_Track7
            db 183
            db 5	; New Instrument (5).
            db 60	; Waits for 1 line.

            db 46
            db 60	; Waits for 1 line.

            db 50
            db 60	; Waits for 1 line.

            db 46
            db 60	; Waits for 1 line.

            db 55
            db 60	; Waits for 1 line.

            db 46
            db 60	; Waits for 1 line.

            db 50
            db 60	; Waits for 1 line.

            db 46
            db 60	; Waits for 1 line.

            db 55
            db 60	; Waits for 1 line.

            db 46
            db 60	; Waits for 1 line.

            db 50
            db 60	; Waits for 1 line.

            db 46
            db 60	; Waits for 1 line.

            db 53
            db 60	; Waits for 1 line.

            db 45
            db 60	; Waits for 1 line.

            db 50
            db 62 + 1 * 64	; Optimized wait for 3 lines.

            db 55
            db 60	; Waits for 1 line.

            db 46
            db 60	; Waits for 1 line.

            db 50
            db 60	; Waits for 1 line.

            db 46
            db 60	; Waits for 1 line.

            db 55
            db 60	; Waits for 1 line.

            db 46
            db 60	; Waits for 1 line.

            db 50
            db 60	; Waits for 1 line.

            db 46
            db 60	; Waits for 1 line.

            db 55
            db 60	; Waits for 1 line.

            db 46
            db 60	; Waits for 1 line.

            db 50
            db 60	; Waits for 1 line.

            db 46
            db 60	; Waits for 1 line.

            db 55
            db 60	; Waits for 1 line.

            db 48
            db 60	; Waits for 1 line.

            db 52
            db 60	; Waits for 1 line.

            db 48
            db 61, 127	; Waits for 128 lines.


        DeadFloppy_Subsong0_Track8
            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 191
            db 9	; Escape note (9).
            db 4	; New Instrument (4).
            db 169
            db 9	; New Instrument (9).
            db 133
            db 3	; New Instrument (3).
            db 169
            db 9	; New Instrument (9).
            db 133
            db 2	; New Instrument (2).
            db 130
            db 4	; New Instrument (4).
            db 169
            db 9	; New Instrument (9).
            db 60	; Waits for 1 line.

            db 29
            db 60	; Waits for 1 line.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 191
            db 9	; Escape note (9).
            db 4	; New Instrument (4).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 191
            db 9	; Escape note (9).
            db 4	; New Instrument (4).
            db 169
            db 9	; New Instrument (9).
            db 133
            db 3	; New Instrument (3).
            db 169
            db 9	; New Instrument (9).
            db 133
            db 2	; New Instrument (2).
            db 128
            db 4	; New Instrument (4).
            db 168
            db 8	; New Instrument (8).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 191
            db 7	; Escape note (7).
            db 4	; New Instrument (4).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 191
            db 9	; Escape note (9).
            db 4	; New Instrument (4).
            db 169
            db 9	; New Instrument (9).
            db 133
            db 3	; New Instrument (3).
            db 169
            db 9	; New Instrument (9).
            db 133
            db 2	; New Instrument (2).
            db 130
            db 4	; New Instrument (4).
            db 169
            db 9	; New Instrument (9).
            db 60	; Waits for 1 line.

            db 29
            db 60	; Waits for 1 line.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 191
            db 9	; Escape note (9).
            db 4	; New Instrument (4).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 191
            db 9	; Escape note (9).
            db 4	; New Instrument (4).
            db 169
            db 9	; New Instrument (9).
            db 133
            db 3	; New Instrument (3).
            db 169
            db 9	; New Instrument (9).
            db 133
            db 2	; New Instrument (2).
            db 128
            db 4	; New Instrument (4).
            db 168
            db 10	; New Instrument (10).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 159
            db 6	; New Instrument (6).
            db 133
            db 3	; New Instrument (3).
            db 159
            db 6	; New Instrument (6).
            db 133
            db 3	; New Instrument (3).
            db 5
            db 61, 127	; Waits for 128 lines.


        DeadFloppy_Subsong0_Track9
            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 191
            db 9	; Escape note (9).
            db 4	; New Instrument (4).
            db 169
            db 9	; New Instrument (9).
            db 133
            db 3	; New Instrument (3).
            db 169
            db 9	; New Instrument (9).
            db 133
            db 2	; New Instrument (2).
            db 130
            db 4	; New Instrument (4).
            db 169
            db 9	; New Instrument (9).
            db 60	; Waits for 1 line.

            db 29
            db 60	; Waits for 1 line.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 191
            db 9	; Escape note (9).
            db 4	; New Instrument (4).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 191
            db 9	; Escape note (9).
            db 4	; New Instrument (4).
            db 169
            db 9	; New Instrument (9).
            db 133
            db 3	; New Instrument (3).
            db 169
            db 9	; New Instrument (9).
            db 133
            db 2	; New Instrument (2).
            db 128
            db 4	; New Instrument (4).
            db 168
            db 8	; New Instrument (8).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 191
            db 7	; Escape note (7).
            db 4	; New Instrument (4).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 191
            db 9	; Escape note (9).
            db 4	; New Instrument (4).
            db 169
            db 9	; New Instrument (9).
            db 133
            db 3	; New Instrument (3).
            db 169
            db 9	; New Instrument (9).
            db 133
            db 2	; New Instrument (2).
            db 130
            db 4	; New Instrument (4).
            db 169
            db 9	; New Instrument (9).
            db 60	; Waits for 1 line.

            db 29
            db 60	; Waits for 1 line.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 191
            db 9	; Escape note (9).
            db 4	; New Instrument (4).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 191
            db 9	; Escape note (9).
            db 4	; New Instrument (4).
            db 169
            db 9	; New Instrument (9).
            db 133
            db 3	; New Instrument (3).
            db 169
            db 9	; New Instrument (9).
            db 133
            db 2	; New Instrument (2).
            db 191
            db 14	; Escape note (14).
            db 4	; New Instrument (4).
            db 171
            db 7	; New Instrument (7).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 159
            db 7	; New Instrument (7).
            db 133
            db 3	; New Instrument (3).
            db 159
            db 7	; New Instrument (7).
            db 133
            db 3	; New Instrument (3).
            db 5
            db 61, 127	; Waits for 128 lines.


        DeadFloppy_Subsong0_Track10
            db 128
            db 0	; New Instrument (0).
            db 61, 127	; Waits for 128 lines.


        DeadFloppy_Subsong0_Track11
            db 166
            db 1	; New Instrument (1).
            db 61, 22	; Waits for 23 lines.

            db 48
            db 62 + 1 * 64	; Optimized wait for 3 lines.

            db 36
            db 62 + 1 * 64	; Optimized wait for 3 lines.

            db 38
            db 61, 22	; Waits for 23 lines.

            db 43
            db 62 + 1 * 64	; Optimized wait for 3 lines.

            db 31
            db 61, 127	; Waits for 128 lines.


        DeadFloppy_Subsong0_Track12
            db 166
            db 1	; New Instrument (1).
            db 61, 22	; Waits for 23 lines.

            db 48
            db 62 + 1 * 64	; Optimized wait for 3 lines.

            db 36
            db 62 + 1 * 64	; Optimized wait for 3 lines.

            db 38
            db 61, 22	; Waits for 23 lines.

            db 43
            db 124	; No note, but effects.
            db 1	; Index to an effect block.
            db 61, 127	; Waits for 128 lines.


        DeadFloppy_Subsong0_Track13
            db 166
            db 5	; New Instrument (5).
            db 60	; Waits for 1 line.

            db 36
            db 60	; Waits for 1 line.

            db 33
            db 60	; Waits for 1 line.

            db 38
            db 26
            db 41
            db 60	; Waits for 1 line.

            db 40
            db 60	; Waits for 1 line.

            db 38
            db 60	; Waits for 1 line.

            db 36
            db 60	; Waits for 1 line.

            db 33
            db 60	; Waits for 1 line.

            db 36
            db 60	; Waits for 1 line.

            db 33
            db 60	; Waits for 1 line.

            db 31
            db 60	; Waits for 1 line.

            db 40
            db 61, 6	; Waits for 7 lines.

            db 40
            db 60	; Waits for 1 line.

            db 33
            db 60	; Waits for 1 line.

            db 36
            db 60	; Waits for 1 line.

            db 33
            db 60	; Waits for 1 line.

            db 40
            db 62 + 3 * 64	; Optimized wait for 5 lines.

            db 41
            db 60	; Waits for 1 line.

            db 38
            db 60	; Waits for 1 line.

            db 29
            db 60	; Waits for 1 line.

            db 34
            db 60	; Waits for 1 line.

            db 29
            db 60	; Waits for 1 line.

            db 38
            db 62 + 3 * 64	; Optimized wait for 5 lines.

            db 43
            db 61, 127	; Waits for 128 lines.


        DeadFloppy_Subsong0_Track14
            db 166
            db 1	; New Instrument (1).
            db 61, 14	; Waits for 15 lines.

            db 33
            db 61, 14	; Waits for 15 lines.

            db 36
            db 61, 14	; Waits for 15 lines.

            db 34
            db 61, 10	; Waits for 11 lines.

            db 36
            db 61, 127	; Waits for 128 lines.


        DeadFloppy_Subsong0_Track15
            db 166
            db 1	; New Instrument (1).
            db 61, 14	; Waits for 15 lines.

            db 33
            db 61, 14	; Waits for 15 lines.

            db 36
            db 61, 14	; Waits for 15 lines.

            db 34
            db 61, 10	; Waits for 11 lines.

            db 36
            db 60	; Waits for 1 line.

            db 33
            db 61, 127	; Waits for 128 lines.


        DeadFloppy_Subsong0_Track16
            db 171
            db 5	; New Instrument (5).
            db 60	; Waits for 1 line.

            db 34
            db 60	; Waits for 1 line.

            db 38
            db 60	; Waits for 1 line.

            db 34
            db 60	; Waits for 1 line.

            db 43
            db 61, 6	; Waits for 7 lines.

            db 41
            db 60	; Waits for 1 line.

            db 33
            db 60	; Waits for 1 line.

            db 38
            db 60	; Waits for 1 line.

            db 33
            db 60	; Waits for 1 line.

            db 41
            db 61, 6	; Waits for 7 lines.

            db 45
            db 60	; Waits for 1 line.

            db 38
            db 60	; Waits for 1 line.

            db 41
            db 60	; Waits for 1 line.

            db 38
            db 60	; Waits for 1 line.

            db 45
            db 61, 6	; Waits for 7 lines.

            db 43
            db 60	; Waits for 1 line.

            db 34
            db 60	; Waits for 1 line.

            db 39
            db 60	; Waits for 1 line.

            db 34
            db 60	; Waits for 1 line.

            db 43
            db 61, 127	; Waits for 128 lines.


        DeadFloppy_Subsong0_Track17
            db 171
            db 5	; New Instrument (5).
            db 60	; Waits for 1 line.

            db 41
            db 60	; Waits for 1 line.

            db 38
            db 60	; Waits for 1 line.

            db 41
            db 60	; Waits for 1 line.

            db 43
            db 62 + 3 * 64	; Optimized wait for 5 lines.

            db 45
            db 60	; Waits for 1 line.

            db 41
            db 60	; Waits for 1 line.

            db 33
            db 60	; Waits for 1 line.

            db 38
            db 60	; Waits for 1 line.

            db 33
            db 60	; Waits for 1 line.

            db 41
            db 62 + 3 * 64	; Optimized wait for 5 lines.

            db 38
            db 60	; Waits for 1 line.

            db 45
            db 60	; Waits for 1 line.

            db 38
            db 60	; Waits for 1 line.

            db 41
            db 60	; Waits for 1 line.

            db 38
            db 60	; Waits for 1 line.

            db 45
            db 62 + 3 * 64	; Optimized wait for 5 lines.

            db 46
            db 60	; Waits for 1 line.

            db 43
            db 60	; Waits for 1 line.

            db 34
            db 60	; Waits for 1 line.

            db 39
            db 60	; Waits for 1 line.

            db 34
            db 60	; Waits for 1 line.

            db 43
            db 62 + 3 * 64	; Optimized wait for 5 lines.

            db 41
            db 61, 127	; Waits for 128 lines.


        DeadFloppy_Subsong0_Track18
            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 191
            db 9	; Escape note (9).
            db 4	; New Instrument (4).
            db 169
            db 9	; New Instrument (9).
            db 133
            db 3	; New Instrument (3).
            db 169
            db 9	; New Instrument (9).
            db 133
            db 2	; New Instrument (2).
            db 130
            db 4	; New Instrument (4).
            db 169
            db 9	; New Instrument (9).
            db 60	; Waits for 1 line.

            db 29
            db 60	; Waits for 1 line.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 191
            db 9	; Escape note (9).
            db 4	; New Instrument (4).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 191
            db 4	; Escape note (4).
            db 4	; New Instrument (4).
            db 168
            db 8	; New Instrument (8).
            db 133
            db 3	; New Instrument (3).
            db 168
            db 8	; New Instrument (8).
            db 133
            db 2	; New Instrument (2).
            db 191
            db 16	; Escape note (16).
            db 4	; New Instrument (4).
            db 168
            db 8	; New Instrument (8).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 191
            db 4	; Escape note (4).
            db 4	; New Instrument (4).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 191
            db 7	; Escape note (7).
            db 4	; New Instrument (4).
            db 164
            db 7	; New Instrument (7).
            db 133
            db 3	; New Instrument (3).
            db 164
            db 7	; New Instrument (7).
            db 133
            db 2	; New Instrument (2).
            db 128
            db 4	; New Instrument (4).
            db 164
            db 7	; New Instrument (7).
            db 60	; Waits for 1 line.

            db 24
            db 60	; Waits for 1 line.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 191
            db 7	; Escape note (7).
            db 4	; New Instrument (4).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 191
            db 5	; Escape note (5).
            db 4	; New Instrument (4).
            db 162
            db 7	; New Instrument (7).
            db 133
            db 3	; New Instrument (3).
            db 162
            db 7	; New Instrument (7).
            db 133
            db 2	; New Instrument (2).
            db 191
            db 17	; Escape note (17).
            db 4	; New Instrument (4).
            db 162
            db 7	; New Instrument (7).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 159
            db 6	; New Instrument (6).
            db 133
            db 3	; New Instrument (3).
            db 159
            db 6	; New Instrument (6).
            db 133
            db 3	; New Instrument (3).
            db 5
            db 61, 127	; Waits for 128 lines.


        DeadFloppy_Subsong0_Track19
            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 191
            db 9	; Escape note (9).
            db 4	; New Instrument (4).
            db 169
            db 9	; New Instrument (9).
            db 133
            db 3	; New Instrument (3).
            db 169
            db 9	; New Instrument (9).
            db 133
            db 2	; New Instrument (2).
            db 130
            db 4	; New Instrument (4).
            db 169
            db 9	; New Instrument (9).
            db 60	; Waits for 1 line.

            db 29
            db 60	; Waits for 1 line.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 191
            db 9	; Escape note (9).
            db 4	; New Instrument (4).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 191
            db 4	; Escape note (4).
            db 4	; New Instrument (4).
            db 168
            db 8	; New Instrument (8).
            db 133
            db 3	; New Instrument (3).
            db 168
            db 8	; New Instrument (8).
            db 133
            db 2	; New Instrument (2).
            db 191
            db 16	; Escape note (16).
            db 4	; New Instrument (4).
            db 168
            db 8	; New Instrument (8).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 191
            db 4	; Escape note (4).
            db 4	; New Instrument (4).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 191
            db 7	; Escape note (7).
            db 4	; New Instrument (4).
            db 164
            db 7	; New Instrument (7).
            db 133
            db 3	; New Instrument (3).
            db 164
            db 7	; New Instrument (7).
            db 133
            db 2	; New Instrument (2).
            db 128
            db 4	; New Instrument (4).
            db 164
            db 7	; New Instrument (7).
            db 60	; Waits for 1 line.

            db 24
            db 60	; Waits for 1 line.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 191
            db 7	; Escape note (7).
            db 4	; New Instrument (4).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 191
            db 5	; Escape note (5).
            db 4	; New Instrument (4).
            db 162
            db 7	; New Instrument (7).
            db 133
            db 3	; New Instrument (3).
            db 162
            db 7	; New Instrument (7).
            db 133
            db 2	; New Instrument (2).
            db 191
            db 17	; Escape note (17).
            db 4	; New Instrument (4).
            db 162
            db 7	; New Instrument (7).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 159
            db 6	; New Instrument (6).
            db 133
            db 3	; New Instrument (3).
            db 159
            db 6	; New Instrument (6).
            db 133
            db 3	; New Instrument (3).
            db 133
            db 2	; New Instrument (2).
            db 61, 127	; Waits for 128 lines.


        DeadFloppy_Subsong0_Track20
            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 191
            db 9	; Escape note (9).
            db 4	; New Instrument (4).
            db 169
            db 9	; New Instrument (9).
            db 133
            db 3	; New Instrument (3).
            db 169
            db 9	; New Instrument (9).
            db 133
            db 2	; New Instrument (2).
            db 130
            db 4	; New Instrument (4).
            db 169
            db 9	; New Instrument (9).
            db 60	; Waits for 1 line.

            db 29
            db 60	; Waits for 1 line.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 191
            db 9	; Escape note (9).
            db 4	; New Instrument (4).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 191
            db 9	; Escape note (9).
            db 4	; New Instrument (4).
            db 169
            db 9	; New Instrument (9).
            db 133
            db 3	; New Instrument (3).
            db 169
            db 9	; New Instrument (9).
            db 133
            db 2	; New Instrument (2).
            db 128
            db 4	; New Instrument (4).
            db 168
            db 8	; New Instrument (8).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 191
            db 7	; Escape note (7).
            db 4	; New Instrument (4).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 191
            db 9	; Escape note (9).
            db 4	; New Instrument (4).
            db 169
            db 9	; New Instrument (9).
            db 133
            db 3	; New Instrument (3).
            db 169
            db 9	; New Instrument (9).
            db 133
            db 2	; New Instrument (2).
            db 130
            db 4	; New Instrument (4).
            db 169
            db 9	; New Instrument (9).
            db 60	; Waits for 1 line.

            db 29
            db 60	; Waits for 1 line.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 191
            db 9	; Escape note (9).
            db 4	; New Instrument (4).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 191
            db 9	; Escape note (9).
            db 4	; New Instrument (4).
            db 60	; Waits for 1 line.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 133
            db 2	; New Instrument (2).
            db 191
            db 14	; Escape note (14).
            db 4	; New Instrument (4).
            db 62 + 0 * 64	; Optimized wait for 2 lines.

            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 5
            db 5
            db 61, 127	; Waits for 128 lines.


        DeadFloppy_Subsong0_Track21
            db 173
            db 5	; New Instrument (5).
            db 60	; Waits for 1 line.

            db 41
            db 60	; Waits for 1 line.

            db 38
            db 60	; Waits for 1 line.

            db 41
            db 29
            db 45
            db 60	; Waits for 1 line.

            db 41
            db 60	; Waits for 1 line.

            db 45
            db 60	; Waits for 1 line.

            db 50
            db 60	; Waits for 1 line.

            db 48
            db 60	; Waits for 1 line.

            db 45
            db 60	; Waits for 1 line.

            db 40
            db 60	; Waits for 1 line.

            db 45
            db 60	; Waits for 1 line.

            db 48
            db 61, 6	; Waits for 7 lines.

            db 40
            db 60	; Waits for 1 line.

            db 33
            db 60	; Waits for 1 line.

            db 36
            db 60	; Waits for 1 line.

            db 33
            db 60	; Waits for 1 line.

            db 40
            db 62 + 3 * 64	; Optimized wait for 5 lines.

            db 41
            db 60	; Waits for 1 line.

            db 40
            db 60	; Waits for 1 line.

            db 38
            db 60	; Waits for 1 line.

            db 34
            db 60	; Waits for 1 line.

            db 38
            db 60	; Waits for 1 line.

            db 41
            db 61, 127	; Waits for 128 lines.


        DeadFloppy_Subsong0_Track22
            db 133
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 33
            db 60	; Waits for 1 line.

            db 133
            db 3	; New Instrument (3).
            db 145
            db 2	; New Instrument (2).
            db 60	; Waits for 1 line.

            db 5
            db 14
            db 60	; Waits for 1 line.

            db 5
            db 60	; Waits for 1 line.

            db 133
            db 3	; New Instrument (3).
            db 60	; Waits for 1 line.

            db 5
            db 5
            db 61, 127	; Waits for 128 lines.


        DeadFloppy_Subsong0_Track23
            db 173
            db 5	; New Instrument (5).
            db 60	; Waits for 1 line.

            db 41
            db 60	; Waits for 1 line.

            db 45
            db 60	; Waits for 1 line.

            db 41
            db 60	; Waits for 1 line.

            db 45
            db 60	; Waits for 1 line.

            db 41
            db 60	; Waits for 1 line.

            db 45
            db 60	; Waits for 1 line.

            db 41
            db 60	; Waits for 1 line.

            db 48
            db 60	; Waits for 1 line.

            db 36
            db 60	; Waits for 1 line.

            db 48
            db 60	; Waits for 1 line.

            db 36
            db 60	; Waits for 1 line.

            db 48
            db 60	; Waits for 1 line.

            db 36
            db 60	; Waits for 1 line.

            db 48
            db 60	; Waits for 1 line.

            db 36
            db 60	; Waits for 1 line.

            db 38
            db 60	; Waits for 1 line.

            db 26
            db 60	; Waits for 1 line.

            db 38
            db 60	; Waits for 1 line.

            db 26
            db 60	; Waits for 1 line.

            db 38
            db 60	; Waits for 1 line.

            db 26
            db 60	; Waits for 1 line.

            db 38
            db 60	; Waits for 1 line.

            db 26
            db 60	; Waits for 1 line.

            db 34
            db 60	; Waits for 1 line.

            db 22
            db 60	; Waits for 1 line.

            db 34
            db 60	; Waits for 1 line.

            db 22
            db 60	; Waits for 1 line.

            db 34
            db 60	; Waits for 1 line.

            db 22
            db 60	; Waits for 1 line.

            db 34
            db 60	; Waits for 1 line.

            db 22
            db 61, 127	; Waits for 128 lines.


        ; The speed tracks
        DeadFloppy_Subsong0_SpeedTrack0
            db 255	; Wait for 128 lines.

        ; The event tracks
        DeadFloppy_Subsong0_EventTrack0
            db 255	; Wait for 128 lines.

        DeadFloppy_Subsong0_DisarkByteRegionEnd0


        //Parametres de configs de la musique (pour gagner de la memoire/optimisation)
        PLY_CFG_ConfigurationIsPresent = 1
	    PLY_CFG_UseTranspositions = 1
	    PLY_CFG_UseHardwareSounds = 1
	    PLY_CFG_UseEffects = 1
	    PLY_CFG_UseInstrumentLoopTo = 1
	    PLY_CFG_NoSoftNoHard = 1
	    PLY_CFG_NoSoftNoHard_Noise = 1
	    PLY_CFG_SoftOnly = 1
	    PLY_CFG_SoftOnly_Noise = 1
	    PLY_CFG_SoftOnly_SoftwareArpeggio = 1
	    PLY_CFG_SoftOnly_SoftwarePitch = 1
	    PLY_CFG_SoftToHard = 1
	    PLY_CFG_UseEffect_PitchDown = 1

lecteur
        PLY_AKG_Start:
        
                ;Checks the hardware. Only one must be selected.
        PLY_AKG_HardwareCounter = 0
                IFDEF PLY_AKG_HARDWARE_CPC
                        PLY_AKG_HardwareCounter = PLY_AKG_HardwareCounter + 1
                ENDIF
                IFDEF PLY_AKG_HARDWARE_MSX
                        PLY_AKG_HardwareCounter = PLY_AKG_HardwareCounter + 1
                        PLY_AKG_HARDWARE_SPECTRUM_OR_MSX = 1
                ENDIF
                IFDEF PLY_AKG_HARDWARE_SPECTRUM
                        PLY_AKG_HardwareCounter = PLY_AKG_HardwareCounter + 1
                        PLY_AKG_HARDWARE_SPECTRUM_OR_PENTAGON = 1
                        PLY_AKG_HARDWARE_SPECTRUM_OR_MSX = 1
                ENDIF
                IFDEF PLY_AKG_HARDWARE_PENTAGON
                        PLY_AKG_HardwareCounter = PLY_AKG_HardwareCounter + 1
                        PLY_AKG_HARDWARE_SPECTRUM_OR_PENTAGON = 1
                ENDIF
                IF PLY_AKG_HardwareCounter > 1
                        FAIL ''Only one hardware must be selected!''
                ENDIF
                ;By default, selects the Amstrad CPC.
                IF PLY_AKG_HardwareCounter == 0
                        PLY_AKG_HARDWARE_CPC = 1
                ENDIF
                

        PLY_AKG_USE_HOOKS: equ 1                            ;Use hooks for external calls? 0 if the Init/Play/Stop methods are directly called. Will save a few bytes.
        PLY_AKG_STOP_SOUNDS: equ 1                          ;1 to have the "stop sounds" code. Set it to 0 if you never plan on stopping your music.
        PLY_AKG_FULL_INIT_CODE: equ 1                       ;0 to skip some init code/values, saving memory. Possible if you don''t plan on restarting your song.


                ;Is there a loaded Player Configuration source? If no, use a default configuration.
                IFNDEF PLY_CFG_ConfigurationIsPresent
                        PLY_CFG_UseSpeedTracks = 1
                        PLY_CFG_UseEventTracks = 1
                        PLY_CFG_UseTranspositions = 1
                        PLY_CFG_UseHardwareSounds = 1
                        PLY_CFG_UseEffects = 1
                        PLY_CFG_UseRetrig = 1
                        ;PLY_CFG_UseInstrumentRetrig = 1        ;Not tested, the UseRetrig is used instead.
                        PLY_CFG_UseInstrumentLoopTo = 1
                        ;PLY_CFG_NoSoftNoHard = 1               ;Not tested, because always present.
                        PLY_CFG_NoSoftNoHard_Noise = 1
                        PLY_CFG_SoftOnly = 1
                        PLY_CFG_SoftOnly_Noise = 1
                        PLY_CFG_SoftOnly_ForcedSoftwarePeriod = 1
                        PLY_CFG_SoftOnly_SoftwareArpeggio = 1
                        PLY_CFG_SoftOnly_SoftwarePitch = 1
                        PLY_CFG_SoftToHard = 1
                        PLY_CFG_SoftToHard_Noise = 1
                        PLY_CFG_SoftToHard_ForcedSoftwarePeriod = 1
                        PLY_CFG_SoftToHard_SoftwareArpeggio = 1
                        PLY_CFG_SoftToHard_SoftwarePitch = 1
                        PLY_CFG_SoftToHard_HardwarePitch = 1
                        PLY_CFG_SoftToHard_Retrig = 1
                        PLY_CFG_HardOnly = 1
                        PLY_CFG_HardOnly_Noise = 1
                        PLY_CFG_HardOnly_ForcedHardwarePeriod = 1
                        PLY_CFG_HardOnly_HardwareArpeggio = 1
                        PLY_CFG_HardOnly_HardwarePitch = 1
                        PLY_CFG_HardOnly_Retrig = 1
                        PLY_CFG_HardToSoft = 1
                        PLY_CFG_HardToSoft_Noise = 1
                        PLY_CFG_HardToSoft_ForcedHardwarePeriod = 1
                        PLY_CFG_HardToSoft_HardwareArpeggio = 1
                        PLY_CFG_HardToSoft_HardwarePitch = 1
                        PLY_CFG_HardToSoft_SoftwarePitch = 1
                        PLY_CFG_HardToSoft_Retrig = 1
                        PLY_CFG_SoftAndHard = 1
                        PLY_CFG_SoftAndHard_Noise = 1
                        PLY_CFG_SoftAndHard_ForcedSoftwarePeriod = 1
                        PLY_CFG_SoftAndHard_SoftwareArpeggio = 1
                        PLY_CFG_SoftAndHard_SoftwarePitch = 1
                        PLY_CFG_SoftAndHard_ForcedHardwarePeriod = 1
                        PLY_CFG_SoftAndHard_HardwareArpeggio = 1
                        PLY_CFG_SoftAndHard_HardwarePitch = 1
                        PLY_CFG_SoftAndHard_Retrig = 1
                        PLY_CFG_UseEffect_Legato = 1
                        PLY_CFG_UseEffect_Reset = 1
                        PLY_CFG_UseEffect_ForcePitchTableSpeed = 1
                        PLY_CFG_UseEffect_ForceArpeggioSpeed = 1
                        PLY_CFG_UseEffect_ForceInstrumentSpeed = 1
                        PLY_CFG_UseEffect_PitchGlide = 1
                        PLY_CFG_UseEffect_PitchUp = 1
                        PLY_CFG_UseEffect_PitchDown = 1
                        PLY_CFG_UseEffect_PitchTable = 1
                        PLY_CFG_UseEffect_Arpeggio3Notes = 1
                        PLY_CFG_UseEffect_Arpeggio4Notes = 1
                        PLY_CFG_UseEffect_ArpeggioTable = 1
                        PLY_CFG_UseEffect_SetVolume = 1
                        PLY_CFG_UseEffect_VolumeIn = 1
                        PLY_CFG_UseEffect_VolumeOut = 1
                ENDIF

                ;Agglomerates some flags, because they are treated the same way by this player.
                ;--------------------------------------------------
                ;Special Track Used?
                IFDEF PLY_CFG_UseSpeedTracks
                        PLY_AKG_UseSpecialTracks = 1
                ENDIF
                IFDEF PLY_CFG_UseEventTracks
                        PLY_AKG_UseSpecialTracks = 1
                ENDIF
                ;SoftwareOnly and HardOnly share some code.
                IFDEF PLY_CFG_SoftOnly
                        PLY_AKG_UseSoftOnlyOrHardOnly = 1
                ENDIF
                IFDEF PLY_CFG_HardOnly
                        PLY_AKG_UseSoftOnlyOrHardOnly = 1
                ENDIF
                ;The same for their noise.
                IFDEF PLY_CFG_SoftOnly_Noise
                        PLY_AKG_UseSoftOnlyOrHardOnly_Noise = 1
                ENDIF
                IFDEF PLY_CFG_HardOnly_Noise
                        PLY_AKG_UseSoftOnlyOrHardOnly_Noise = 1
                ENDIF
                
                ;Agglomerates the Forced periods (soft/hard).
                IFDEF PLY_CFG_SoftOnly_ForcedSoftwarePeriod
                        PLY_AKG_UseInstrumentForcedPeriods = 1
                ENDIF
                IFDEF PLY_CFG_HardOnly_ForcedHardwarePeriod
                        PLY_AKG_UseInstrumentForcedPeriods = 1
                ENDIF
                IFDEF PLY_CFG_SoftToHard_ForcedSoftwarePeriod
                        PLY_AKG_UseInstrumentForcedPeriods = 1
                ENDIF
                IFDEF PLY_CFG_HardToSoft_ForcedHardwarePeriod
                        PLY_AKG_UseInstrumentForcedPeriods = 1
                ENDIF
                IFDEF PLY_CFG_SoftAndHard_ForcedSoftwarePeriod
                        PLY_AKG_UseInstrumentForcedPeriods = 1
                ENDIF
                ;Agglomerates the Instrument Arpeggios (soft/hard).
                IFDEF PLY_CFG_SoftOnly_SoftwareArpeggio
                        PLY_AKG_UseInstrumentArpeggios = 1
                ENDIF
                IFDEF PLY_CFG_SoftToHard_SoftwareArpeggio
                        PLY_AKG_UseInstrumentArpeggios = 1
                ENDIF
                IFDEF PLY_CFG_HardOnly_HardwareArpeggio
                        PLY_AKG_UseInstrumentArpeggios = 1
                ENDIF
                IFDEF PLY_CFG_HardToSoft_HardwareArpeggio
                        PLY_AKG_UseInstrumentArpeggios = 1
                ENDIF
                IFDEF PLY_CFG_SoftAndHard_SoftwareArpeggio
                        PLY_AKG_UseInstrumentArpeggios = 1
                ENDIF
                IFDEF PLY_CFG_SoftAndHard_HardwareArpeggio
                        PLY_AKG_UseInstrumentArpeggios = 1
                ENDIF
                ;Agglomerates the Instrument Pitchs (soft/hard).
                IFDEF PLY_CFG_SoftOnly_SoftwarePitch
                        PLY_AKG_UseInstrumentPitchs = 1
                ENDIF
                IFDEF PLY_CFG_SoftToHard_SoftwarePitch
                        PLY_AKG_UseInstrumentPitchs = 1
                ENDIF
                IFDEF PLY_CFG_HardOnly_HardwarePitch
                        PLY_AKG_UseInstrumentPitchs = 1
                ENDIF
                IFDEF PLY_CFG_HardToSoft_HardwarePitch
                        PLY_AKG_UseInstrumentPitchs = 1
                ENDIF
                IFDEF PLY_CFG_SoftAndHard_SoftwarePitch
                        PLY_AKG_UseInstrumentPitchs = 1
                ENDIF
                IFDEF PLY_CFG_SoftAndHard_HardwarePitch
                        PLY_AKG_UseInstrumentPitchs = 1
                ENDIF
                ;Agglomerates the Instrument Forced Periods, Arpeggios and Pitchs (soft/hard).
                IFDEF PLY_AKG_UseInstrumentForcedPeriods
                        PLY_AKG_UseInstrumentForcedPeriodsOrArpeggiosOrPitchs = 1
                ENDIF
                IFDEF PLY_AKG_UseInstrumentArpeggios
                        PLY_AKG_UseInstrumentForcedPeriodsOrArpeggiosOrPitchs = 1
                ENDIF
                IFDEF PLY_AKG_UseInstrumentPitchs
                        PLY_AKG_UseInstrumentForcedPeriodsOrArpeggiosOrPitchs = 1
                ENDIF
                
                ;Agglomerates the Retrig flags for SoftToHard, HardToSoft, SoftAndHard.
                IFDEF PLY_CFG_SoftToHard_Retrig
                        PLY_AKG_UseRetrig_StoH_HtoS_SandH = 1
                ENDIF
                IFDEF PLY_CFG_HardToSoft_Retrig
                        PLY_AKG_UseRetrig_StoH_HtoS_SandH = 1
                ENDIF
                IFDEF PLY_CFG_SoftAndHard_Retrig
                        PLY_AKG_UseRetrig_StoH_HtoS_SandH = 1
                ENDIF
                ;Agglomerates the noise flags for SoftToHard, HardToSoft, SoftAndHard.
                IFDEF PLY_CFG_SoftToHard_Noise
                        PLY_AKG_UseNoise_StoH_HtoS_SandH = 1
                ENDIF
                IFDEF PLY_CFG_HardToSoft_Noise
                        PLY_AKG_UseNoise_StoH_HtoS_SandH = 1
                ENDIF
                IFDEF PLY_CFG_SoftAndHard_Noise
                        PLY_AKG_UseNoise_StoH_HtoS_SandH = 1
                ENDIF
                ;Agglomerates the noise flags to know if the code about R6 must be compiled.
                IFDEF PLY_CFG_NoSoftNoHard_Noise
                        PLY_AKG_Use_NoiseRegister = 1
                ENDIF
                IFDEF PLY_CFG_SoftOnly_Noise
                        PLY_AKG_Use_NoiseRegister = 1
                ENDIF
                IFDEF PLY_CFG_HardOnly_Noise
                        PLY_AKG_Use_NoiseRegister = 1
                ENDIF
                IFDEF PLY_CFG_SoftToHard_Noise
                        PLY_AKG_Use_NoiseRegister = 1
                ENDIF
                IFDEF PLY_CFG_HardToSoft_Noise
                        PLY_AKG_Use_NoiseRegister = 1
                ENDIF
                IFDEF PLY_CFG_SoftAndHard_Noise
                        PLY_AKG_Use_NoiseRegister = 1
                ENDIF
                
                ;Agglomerates the effect volume in/out.
                IFDEF PLY_CFG_UseEffect_VolumeIn
                        PLY_AKG_UseEffect_VolumeSlide = 1
                ENDIF
                IFDEF PLY_CFG_UseEffect_VolumeOut
                        PLY_AKG_UseEffect_VolumeSlide = 1
                ENDIF
                
                ;Agglomerates the Arpeggios Table effects.
                IFDEF PLY_CFG_UseEffect_Arpeggio3Notes
                        PLY_AKS_UseEffect_Arpeggio = 1
                ENDIF
                IFDEF PLY_CFG_UseEffect_Arpeggio4Notes
                        PLY_AKS_UseEffect_Arpeggio = 1
                ENDIF
                IFDEF PLY_CFG_UseEffect_ArpeggioTable
                        PLY_AKS_UseEffect_Arpeggio = 1
                ENDIF
                
                ;Agglomerates the PitchUp/Down effects.
                IFDEF PLY_CFG_UseEffect_PitchUp
                        PLY_AKS_UseEffect_PitchUpOrDown = 1
                ENDIF
                IFDEF PLY_CFG_UseEffect_PitchDown
                        PLY_AKS_UseEffect_PitchUpOrDown = 1
                ENDIF
                ;Agglomerates the PitchUp/Down/Glide effects.
                ;IMPORTANT TO NOTE that if there is Glide, there WILL be pitch up/down, because the Glide is
                ;embedded in the pitch up/down code.
                IFDEF PLY_AKS_UseEffect_PitchUpOrDown
                        PLY_AKS_UseEffect_PitchUpOrDownOrGlide = 1
                ENDIF
                IFDEF PLY_CFG_UseEffect_PitchGlide
                        PLY_AKS_UseEffect_PitchUpOrDownOrGlide = 1
                ENDIF
                
                ;Agglomerates a special flag combining ArpeggioTable and PitchTable.
                IFDEF PLY_AKS_UseEffect_Arpeggio
                        PLY_AKS_UseEffect_ArpeggioTableOrPitchTable = 1
                ENDIF
                IFDEF PLY_CFG_UseEffect_PitchTable
                        PLY_AKS_UseEffect_ArpeggioTableOrPitchTable = 1
                ENDIF

        ;A nice trick to manage the offset using the same instructions, according to the player (ROM or not).
                IFDEF PLY_AKG_Rom
        PLY_AKG_Offset1b: equ 0
        PLY_AKG_Offset2b: equ 0         ;Used for instructions such as ld iyh,xx
                ELSE
        PLY_AKG_Offset1b: equ 1
        PLY_AKG_Offset2b: equ 2
                ENDIF

                IFNDEF PLY_AKG_Rom
        PLY_AKG_OPCODE_OR_A: equ #b7                        ;Opcode for "or a".
        PLY_AKG_OPCODE_SCF: equ #37                         ;Opcode for "scf".
                ELSE
                ;Another trick for the ROM player. The original opcodes are converted to number, which will be multiplied by 2, provoking a carry or not.
        PLY_AKG_OPCODE_OR_A: equ 0                          ;0 * 2 = 0, no carry.
        PLY_AKG_OPCODE_SCF: equ #ff                         ;255 * 2 = carry.
        PLY_AKG_OPCODE_JP: equ #c3
                ENDIF

        PLY_AKG_OPCODE_ADD_HL_BC_LSB: equ #09               ;Opcode for "add hl,bc", LSB.
        PLY_AKG_OPCODE_ADD_HL_BC_MSB: equ #00               ;Opcode for "add hl,bc", MSB (fake, it is only 8 bits).
        PLY_AKG_OPCODE_SBC_HL_BC_LSB: equ #42               ;Opcode for "sbc hl,bc", LSB.
        PLY_AKG_OPCODE_SBC_HL_BC_MSB: equ #ed               ;Opcode for "sbc hl,bc", MSB.
        PLY_AKG_OPCODE_INC_HL: equ #23                      ;Opcode for "inc hl".
        PLY_AKG_OPCODE_DEC_HL: equ #2b                      ;Opcode for "dec hl".
        PLY_AKG_OPCODE_ADD_A_IMMEDIATE: equ #c6             ;Opcode for "add a,x".
        PLY_AKG_OPCODE_SUB_IMMEDIATE: equ #d6               ;Opcode for "sub x".


                ;Disark macro: Word region Start.
                disarkCounter = 0
                IFNDEF dkws
                MACRO dkws
        PLY_AKG_DisarkWordRegionStart_{disarkCounter}
                ENDM
                ENDIF
                ;Disark macro: Word region End.
                IFNDEF dkwe
                MACRO dkwe
        PLY_AKG_DisarkWordRegionEnd_{disarkCounter}:
                disarkCounter = disarkCounter + 1
                ENDM
                ENDIF
                
                ;Disark macro: Pointer region Start.
                disarkCounter = 0
                IFNDEF dkps
                MACRO dkps
        PLY_AKG_DisarkPointerRegionStart_{disarkCounter}
                ENDM
                ENDIF
                ;Disark macro: Pointer region End.
                IFNDEF dkpe
                MACRO dkpe
        PLY_AKG_DisarkPointerRegionEnd_{disarkCounter}:
                disarkCounter = disarkCounter + 1
                ENDM
                ENDIF
                
                ;Disark macro: Byte region Start.
                disarkCounter = 0
                IFNDEF dkbs
                MACRO dkbs
        PLY_AKG_DisarkByteRegionStart_{disarkCounter}
                ENDM
                ENDIF
                ;Disark macro: Byte region End.
                IFNDEF dkbe
                MACRO dkbe
        PLY_AKG_DisarkByteRegionEnd_{disarkCounter}:
                disarkCounter = disarkCounter + 1
                ENDM
                ENDIF

                ;Disark macro: Force "No Reference Area" for 3 bytes (ld hl,xxxx).
                IFNDEF dknr3
                MACRO dknr3
        PLY_AKG_DisarkForceNonReferenceDuring3_{disarkCounter}:
                disarkCounter = disarkCounter + 1
                ENDM
                ENDIF
                
                ;Hooks for external calls. Can be removed if not needed.
                if PLY_AKG_USE_HOOKS
                        assert PLY_AKG_Start == $		;Makes sure no extra byte were inserted before the hooks.
                        jp PLY_AKG_Init                         ;PLY_AKG_Start + 0.
                        jp PLY_AKG_Play                         ;PLY_AKG_Start + 3.
                        if PLY_AKG_STOP_SOUNDS
                                jp PLY_AKG_Stop                         ;PLY_AKG_Start + 6.
                        endif ;PLY_AKG_STOP_SOUNDS
                endif ;PLY_AKG_USE_HOOKS

                ;Includes the sound effects player, if wanted. Important to do it as soon as possible, so that
                ;its code can react to the Player Configuration and possibly alter it.
                IFDEF PLY_AKG_MANAGE_SOUND_EFFECTS
                        include "PlayerAkg_SoundEffects.asm"
                ENDIF ;PLY_AKG_MANAGE_SOUND_EFFECTS
                ;[[INSERT_SOUND_EFFECT_SOURCE]]                 ;A tag for test units. Don''t touch or you''re dead.

        ;Initializes the player.
        ;IN:    HL = music address.
        ;       A = subsong index (>=0).
        PLY_AKG_InitDisarkGenerateExternalLabel:
        PLY_AKG_Init:
                
                                IFDEF PLY_CFG_UseEffects                ;CONFIG SPECIFIC
                ;Skips the tag.
        dknr3 (void): ld de,4
                add hl,de
                                        IFDEF PLY_AKS_UseEffect_Arpeggio        ;CONFIG SPECIFIC
                ld de,PLY_AKG_ArpeggiosTable + PLY_AKG_Offset1b
                ldi
                ldi
                                        ELSE
                        inc hl
                        inc hl
                                        ENDIF
                                        IFDEF PLY_CFG_UseEffect_PitchTable              ;CONFIG SPECIFIC
                ld de,PLY_AKG_PitchesTable + PLY_AKG_Offset1b
                ldi
                ldi
                                        ELSE
                        inc hl
                        inc hl
                                        ENDIF ;PLY_CFG_UseEffect_PitchTable
                                ELSE
                        ;No effects. Skips the tag and the arp/pitch table.
        dknr3 (void):   ld de,4 + 2 + 2
                        add hl,de
                                ENDIF ;PLY_CFG_UseEffects
                ld de,PLY_AKG_InstrumentsTable + PLY_AKG_Offset1b
                ldi
                ldi
                                IFDEF PLY_CFG_UseEffects                ;CONFIG SPECIFIC
                ld c,(hl)
                inc hl
                ld b,(hl)
                inc hl
                ld (PLY_AKG_Channel_ReadEffects_EffectBlocks1 + PLY_AKG_Offset1b),bc
                                        IFNDEF PLY_AKG_Rom
                ;Not used in ROM, the same value is used.
                ld (PLY_AKG_Channel_ReadEffects_EffectBlocks2 + PLY_AKG_Offset1b),bc
                                        ENDIF
                                ELSE
                        ;No effects. Skips the effect block table.
                        inc hl
                        inc hl
                                ENDIF ;PLY_CFG_UseEffects

                
                ;We have reached the Subsong addresses. Which one to use?
                add a,a
                ld e,a
                ld d,0
                add hl,de
                ld a,(hl)
                inc hl
                ld h,(hl)
                ld l,a
                ;HL points on the Subsong metadata.
        dknr3 (void): ld de,5         ;Skips the replay frequency, digichannel, psg count, loop ^art index, end index.
                add hl,de
                ld de,PLY_AKG_CurrentSpeed + PLY_AKG_Offset1b       ;Reads the initial speed (>0).
                ldi
                ld de,PLY_AKG_BaseNoteIndex + PLY_AKG_Offset1b      ;Reads the base note of the note that is considered "optimized", contrary to "escaped".
                ldi
                ld (PLY_AKG_ReadLinker_PtLinker + PLY_AKG_Offset1b),hl

                ;Initializes values. You can remove this part if you don''t stop/restart your song.
                if PLY_AKG_FULL_INIT_CODE
                        ld hl,PLY_AKG_InitTable0
        dknr3 (void):   ld bc,((PLY_AKG_InitTable0_End - PLY_AKG_InitTable0) / 2 + 1) * 256 + 0
                        call PLY_AKG_Init_ReadWordsAndFill
                        inc c
                        ld hl,PLY_AKG_InitTable1
                        ld b,(PLY_AKG_InitTable1_End - PLY_AKG_InitTable1) / 2 + 1
                        call PLY_AKG_Init_ReadWordsAndFill
                        ld hl,PLY_AKG_InitTableOrA
        dknr3 (void):   ld bc,((PLY_AKG_InitTableOrA_End - PLY_AKG_InitTableOrA) / 2 + 1) * 256 + PLY_AKG_OPCODE_OR_A
                        call PLY_AKG_Init_ReadWordsAndFill
                        
                        IFDEF PLY_AKG_Rom
                                ;The ROM version requires a bit more of setup.        
                                ld hl,PLY_AKG_InitTableJp
        dknr3 (void):           ld bc,((PLY_AKG_InitTableJp_End - PLY_AKG_InitTableJp) / 2 + 1) * 256 + PLY_AKG_OPCODE_JP
                                call PLY_AKG_Init_ReadWordsAndFill
                        ENDIF
                        
                                IFDEF PLY_CFG_UseRetrig         ;CONFIG SPECIFIC
                        ld a,255
                        ld (PLY_AKG_PSGReg13_OldValue + PLY_AKG_Offset1b),a
                                ENDIF ;PLY_CFG_UseRetrig
                endif

                ;Stores the address to the empty instrument *data* (header skipped).
                ld hl,(PLY_AKG_InstrumentsTable + PLY_AKG_Offset1b)
                ld e,(hl)
                inc hl
                ld d,(hl)
                ex de,hl
                inc hl                  ;Skips the header.
                ld (PLY_AKG_EmptyInstrumentDataPt + PLY_AKG_Offset1b),hl
                ;Sets all the instrument to "empty".
                ld (PLY_AKG_Channel1_PtInstrument + PLY_AKG_Offset1b),hl
                ld (PLY_AKG_Channel2_PtInstrument + PLY_AKG_Offset1b),hl
                ld (PLY_AKG_Channel3_PtInstrument + PLY_AKG_Offset1b),hl
                
                ;The ROM version requires a bit more of setup.        
                IFDEF PLY_AKG_Rom
                        IFDEF PLY_AKS_UseEffect_PitchUpOrDownOrGlide            ;CONFIG SPECIFIC
                                xor a
                                REPEAT 3, channelNumber
                                        ;In the non-ROM code, the MSB is always 0, the LSB is updated. The MSB must be reset for ROM version.
                                        ld (PLY_AKG_Channel{channelNumber}_PitchTrack + 1),a
                                
                                        ld hl,PLY_AKG_Channel{channelNumber}_PitchTrackIntegerAddOrSubReturn
                                        ld (PLY_AKG_Channel{channelNumber}_PitchTrackIntegerAfterAddOrSubJumpInstrAndAddress + 1),hl
                                        ld hl,PLY_AKG_Channel{channelNumber}_PitchTrackAddOrSbc_16bitsReturn
                                        ld (PLY_AKG_Channel{channelNumber}_PitchTrackAfterAddOrSbcJumpInstrAndAddress + 1),hl
                                        
                                        ld hl,PLY_AKG_Channel{channelNumber}_PitchTrackDecimalInstrAndValueReturnAfterJp
                                        ld (PLY_AKG_Channel{channelNumber}_PitchTrackDecimalInstrAndValueReturnJp + 1),hl
                                REND
                        ENDIF ;PLY_AKS_UseEffect_PitchUpOrDownOrGlide
                ENDIF
                
                ;If sound effects, clears the SFX state.
                IFDEF PLY_AKG_MANAGE_SOUND_EFFECTS
        dknr3 (void):   ld hl,0
                        REPEAT 3, channelNumber
                                ld (PLY_AKG_Channel{channelNumber}_SoundEffectData),hl
                        REND
                ENDIF ;PLY_AKG_MANAGE_SOUND_EFFECTS
                
                ret

                if PLY_AKG_FULL_INIT_CODE
        ;Fills all the read addresses with a byte.
        ;IN:    HL = table where the addresses are.
        ;       B = how many items in the table + 1.
        ;       C = byte to fill.
        PLY_AKG_Init_ReadWordsAndFill_Loop:
                ld e,(hl)
                inc hl
                ld d,(hl)
                inc hl
                ld a,c
                ld (de),a
        PLY_AKG_Init_ReadWordsAndFill:
                djnz PLY_AKG_Init_ReadWordsAndFill_Loop
                ret

        ;Table initializing some data with 0.
        PLY_AKG_InitTable0:
        dkps (void):    ;Disark macro.
                dw PLY_AKG_Channel1_InvertedVolumeIntegerAndDecimal + PLY_AKG_Offset1b
                dw PLY_AKG_Channel1_InvertedVolumeIntegerAndDecimal + PLY_AKG_Offset1b + 1  ;PLY_AKG_Offset2b must NOT be used here.
                dw PLY_AKG_Channel2_InvertedVolumeIntegerAndDecimal + PLY_AKG_Offset1b
                dw PLY_AKG_Channel2_InvertedVolumeIntegerAndDecimal + PLY_AKG_Offset1b + 1
                dw PLY_AKG_Channel3_InvertedVolumeIntegerAndDecimal + PLY_AKG_Offset1b
                dw PLY_AKG_Channel3_InvertedVolumeIntegerAndDecimal + PLY_AKG_Offset1b + 1
                                IFDEF PLY_AKS_UseEffect_PitchUpOrDown        ;CONFIG SPECIFIC
                dw PLY_AKG_Channel1_Pitch + PLY_AKG_Offset1b
                dw PLY_AKG_Channel1_Pitch + PLY_AKG_Offset1b + 1
                dw PLY_AKG_Channel2_Pitch + PLY_AKG_Offset1b
                dw PLY_AKG_Channel2_Pitch + PLY_AKG_Offset1b + 1
                dw PLY_AKG_Channel3_Pitch + PLY_AKG_Offset1b
                dw PLY_AKG_Channel3_Pitch + PLY_AKG_Offset1b + 1
                                ENDIF ;PLY_AKS_UseEffect_PitchUpOrDown
                                IFDEF PLY_CFG_UseRetrig         ;CONFIG SPECIFIC
                dw PLY_AKG_Retrig + 1
                                ENDIF ;PLY_CFG_UseRetrig
        dkpe (void):    ;Disark macro.
        PLY_AKG_InitTable0_End:

        PLY_AKG_InitTable1:
        dkps (void):    ;Disark macro.
                dw PLY_AKG_PatternDecreasingHeight + PLY_AKG_Offset1b
                dw PLY_AKG_TickDecreasingCounter + PLY_AKG_Offset1b
        dkpe (void):    ;Disark macro.
        PLY_AKG_InitTable1_End:

        PLY_AKG_InitTableOrA:
        dkps (void):    ;Disark macro.
                                IFDEF PLY_AKG_UseEffect_VolumeSlide             ;CONFIG SPECIFIC
                dw PLY_AKG_Channel1_IsVolumeSlide
                dw PLY_AKG_Channel2_IsVolumeSlide
                dw PLY_AKG_Channel3_IsVolumeSlide
                                ENDIF ;PLY_AKG_UseEffect_VolumeSlide
                                IFDEF PLY_AKS_UseEffect_Arpeggio        ;CONFIG SPECIFIC
                dw PLY_AKG_Channel1_IsArpeggioTable
                dw PLY_AKG_Channel2_IsArpeggioTable
                dw PLY_AKG_Channel3_IsArpeggioTable
                                ENDIF ;PLY_AKS_UseEffect_Arpeggio
                                IFDEF PLY_CFG_UseEffect_PitchTable              ;CONFIG SPECIFIC
                dw PLY_AKG_Channel1_IsPitchTable
                dw PLY_AKG_Channel2_IsPitchTable
                dw PLY_AKG_Channel3_IsPitchTable
                                ENDIF ;PLY_CFG_UseEffect_PitchTable
                                IFDEF PLY_AKS_UseEffect_PitchUpOrDown        ;CONFIG SPECIFIC
                dw PLY_AKG_Channel1_IsPitch
                dw PLY_AKG_Channel2_IsPitch
                dw PLY_AKG_Channel3_IsPitch
                                ENDIF ;PLY_AKS_UseEffect_PitchUpOrDown
        dkpe (void):    ;Disark macro.
        PLY_AKG_InitTableOrA_End:
                endif           ;PLY_AKG_FULL_INIT_CODE

                IFDEF PLY_AKG_Rom
        PLY_AKG_InitTableJp:
        dkps (void):    ;Disark macro.
                IFDEF PLY_AKS_UseEffect_PitchUpOrDownOrGlide
                dw PLY_AKG_Channel1_PitchTrackIntegerAfterAddOrSubJumpInstrAndAddress
                dw PLY_AKG_Channel2_PitchTrackIntegerAfterAddOrSubJumpInstrAndAddress
                dw PLY_AKG_Channel3_PitchTrackIntegerAfterAddOrSubJumpInstrAndAddress
                dw PLY_AKG_Channel1_PitchTrackAfterAddOrSbcJumpInstrAndAddress
                dw PLY_AKG_Channel2_PitchTrackAfterAddOrSbcJumpInstrAndAddress
                dw PLY_AKG_Channel3_PitchTrackAfterAddOrSbcJumpInstrAndAddress
                dw PLY_AKG_Channel1_PitchTrackDecimalInstrAndValueReturnJp
                dw PLY_AKG_Channel2_PitchTrackDecimalInstrAndValueReturnJp
                dw PLY_AKG_Channel3_PitchTrackDecimalInstrAndValueReturnJp
                ENDIF
                
                IFDEF PLY_CFG_UseEffects
                dw PLY_AKG_Channel_ReadEffects_EndJumpInstrAndAddress
                ENDIF
                dw PLY_AKG_TempPlayInstrumentJumpInstrAndAddress
        dkpe (void):    ;Disark macro.
        PLY_AKG_InitTableJp_End:
                ENDIF

                if PLY_AKG_STOP_SOUNDS
        ;Stops the music. This code can be removed if you don''t intend to stop it!
        PLY_AKG_StopDisarkGenerateExternalLabel:
        PLY_AKG_Stop:
                ld (PLY_AKG_SaveSP + PLY_AKG_Offset1b),sp              ;Only useful because the PLY_AKG_SendPSGRegisters restores it at the end.
                
                ;All the volumes to 0, all sound/noise channels stopped.
                xor a
                ld l,a
                ld h,a
                ld (PLY_AKG_PSGReg8),a
                ld (PLY_AKG_PSGReg9_10_Instr + PLY_AKG_Offset1b),hl
                IFDEF PLY_AKG_HARDWARE_MSX
                        ld a,%10111111          ;On MSX, bit 7 must be 1, bit 6 0.
                ELSE
                        ld a,%00111111          ;On CPC, bit 6 must be 0. Other platforms don''t care.
                ENDIF
                jp PLY_AKG_SendPSGRegisters
                endif ;PLY_AKG_STOP_SOUNDS

        ;Plays one frame of the subsong.
        PLY_AKG_PlayDisarkGenerateExternalLabel:
        PLY_AKG_Play:
                ld (PLY_AKG_SaveSP + PLY_AKG_Offset1b),sp

                                IFDEF PLY_CFG_UseEventTracks            ;CONFIG SPECIFIC
                xor a
                ld (PLY_AKG_Event),a
                                ENDIF ;PLY_CFG_UseEventTracks

                ;Decreases the tick counter. If 0 is reached, a new line must be read.
                IFNDEF PLY_AKG_Rom
        PLY_AKG_TickDecreasingCounter: ld a,1
                ELSE
                ld a,(PLY_AKG_TickDecreasingCounter)
                ENDIF
                dec a
                jp nz,PLY_AKG_SetSpeedBeforePlayStreams                 ;Jumps if there is no new line: continues playing the sound stream.

                ;New line! Is the Pattern ended? Not as long as there are lines to read.
                IFNDEF PLY_AKG_Rom
        PLY_AKG_PatternDecreasingHeight: ld a,1
                ELSE
                ld a,(PLY_AKG_PatternDecreasingHeight)
                ENDIF
                dec a
                jr nz,PLY_AKG_SetCurrentLineBeforeReadLine  ;Jumps if the pattern isn''t ended.

                ;New pattern!
                ;Reads the Linker. This is called at the start of the song, or at the end of every position.
        PLY_AKG_ReadLinker:
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_ReadLinker_PtLinker: ld sp,0
                ELSE
                ld sp,(PLY_AKG_ReadLinker_PtLinker)
                ENDIF
                ;Reads the address of each Track.
                pop hl
                ld a,l
                or h
                jr nz,PLY_AKG_ReadLinker_NoLoop         ;Reached the end of the song?
                ;End of the song.
                pop hl          ;HL is the loop address.
                ld sp,hl
                pop hl          ;Reads once again the address of Track 1, in the pattern looped to.
        PLY_AKG_ReadLinker_NoLoop:
                ld (PLY_AKG_Channel1_PtTrack + PLY_AKG_Offset1b),hl
                pop hl
                ld (PLY_AKG_Channel2_PtTrack + PLY_AKG_Offset1b),hl
                pop hl
                ld (PLY_AKG_Channel3_PtTrack + PLY_AKG_Offset1b),hl
                ;Reads the address of the LinkerBlock.
                pop hl
                ld (PLY_AKG_ReadLinker_PtLinker + PLY_AKG_Offset1b),sp
                ld sp,hl

                ;Reads the LinkerBlock. SP = LinkerBlock.
                ;Reads the height and transposition1.
                pop hl
                ld c,l                                ;Stores the pattern height, used below.
                                IFDEF PLY_CFG_UseTranspositions            ;CONFIG SPECIFIC
                ld a,h
                ld (PLY_AKG_Channel1_Transposition + PLY_AKG_Offset1b),a
                                ENDIF ;PLY_CFG_UseTranspositions
                ;Reads the transposition2 and 3.
                                IFDEF PLY_AKG_UseSpecialTracks                  ;CONFIG SPECIFIC
                                        IFNDEF PLY_CFG_UseTranspositions            ;CONFIG SPECIFIC
                                        ;Transpositions not used? We could stop here. BUT the SpecialTracks, if present, must access their data after.
                                        ;So in this case, the transpositions must be skipped.
                                        pop hl
                                        ENDIF ;PLY_CFG_UseTranspositions
                                ENDIF ;PLY_AKG_UseSpecialTracks
                                IFDEF PLY_CFG_UseTranspositions            ;CONFIG SPECIFIC
                pop hl
                ld a,l
                ld (PLY_AKG_Channel2_Transposition + PLY_AKG_Offset1b),a
                ld a,h
                ld (PLY_AKG_Channel3_Transposition + PLY_AKG_Offset1b),a
                                ENDIF ;PLY_CFG_UseTranspositions
                                IFDEF PLY_AKG_UseSpecialTracks                  ;CONFIG SPECIFIC
                ;Reads the special Tracks addresses.
                pop hl          ;Must be performed even SpeedTracks not used, because EventTracks might be present, the word must be skipped.
                                        IFDEF PLY_CFG_UseSpeedTracks            ;CONFIG SPECIFIC
                ld (PLY_AKG_SpeedTrack_PtTrack + PLY_AKG_Offset1b),hl
                                        ENDIF ;PLY_CFG_UseSpeedTracks
                
                                        IFDEF PLY_CFG_UseEventTracks            ;CONFIG SPECIFIC
                pop hl
                ld (PLY_AKG_EventTrack_PtTrack + PLY_AKG_Offset1b),hl
                                        ENDIF ;PLY_CFG_UseEventTracks
                                ENDIF ;PLY_AKG_UseSpecialTracks

                xor a
                ;Forces the reading of every Track and Special Track.
                                IFDEF PLY_CFG_UseSpeedTracks            ;CONFIG SPECIFIC
                ld (PLY_AKG_SpeedTrack_WaitCounter + PLY_AKG_Offset1b),a
                                ENDIF ;PLY_CFG_UseSpeedTracks
                                IFDEF PLY_CFG_UseEventTracks            ;CONFIG SPECIFIC
                ld (PLY_AKG_EventTrack_WaitCounter + PLY_AKG_Offset1b),a
                                ENDIF ;PLY_CFG_UseEventTracks
                ld (PLY_AKG_Channel1_WaitCounter + PLY_AKG_Offset1b),a
                ld (PLY_AKG_Channel2_WaitCounter + PLY_AKG_Offset1b),a
                ld (PLY_AKG_Channel3_WaitCounter + PLY_AKG_Offset1b),a
                ld a,c
        PLY_AKG_SetCurrentLineBeforeReadLine:
                ld (PLY_AKG_PatternDecreasingHeight + PLY_AKG_Offset1b),a


                ;Reads the new line (notes, effects, Special Tracks, etc.).
        PLY_AKG_ReadLine:
                ;Reads the Speed Track.
                                IFDEF PLY_CFG_UseSpeedTracks            ;CONFIG SPECIFIC
                ;-------------------------------------------------------------------
                IFNDEF PLY_AKG_Rom
        PLY_AKG_SpeedTrack_WaitCounter: ld a,0      ;Lines to wait?
                ELSE
                ld a,(PLY_AKG_SpeedTrack_WaitCounter)
                ENDIF
                sub 1
                jr nc,PLY_AKG_SpeedTrack_MustWait       ;Jump if there are still lines to wait.
                ;No more lines to wait. Reads a new data. It may be an event value or a wait value.
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_SpeedTrack_PtTrack: ld hl,0
                ELSE
                ld hl,(PLY_AKG_SpeedTrack_PtTrack)
                ENDIF
                ld a,(hl)
                inc hl
                srl a           ;Bit 0: wait?
                jr c,PLY_AKG_SpeedTrack_StorePointerAndWaitCounter      ;Jump if wait: A is the wait value.
                ;Value found. If 0, escape value (rare).
                jr nz,PLY_AKG_SpeedTrack_NormalValue
                ;Escape code. Reads the right value.
                ld a,(hl)
                inc hl
        PLY_AKG_SpeedTrack_NormalValue:
                ld (PLY_AKG_CurrentSpeed + PLY_AKG_Offset1b),a

                xor a                   ;Next time, a new value is read.
        PLY_AKG_SpeedTrack_StorePointerAndWaitCounter:
                ld (PLY_AKG_SpeedTrack_PtTrack + PLY_AKG_Offset1b),hl
        PLY_AKG_SpeedTrack_MustWait:
                ld (PLY_AKG_SpeedTrack_WaitCounter + PLY_AKG_Offset1b),a
        PLY_AKG_SpeedTrack_End:
                                ENDIF ;PLY_CFG_UseSpeedTracks

                
        


                ;Reads the Event Track.
                ;-------------------------------------------------------------------
                                IFDEF PLY_CFG_UseEventTracks            ;CONFIG SPECIFIC
                IFNDEF PLY_AKG_Rom
        PLY_AKG_EventTrack_WaitCounter: ld a,0          ;Lines to wait?
                ELSE
                ld a,(PLY_AKG_EventTrack_WaitCounter)
                ENDIF
                sub 1
                jr nc,PLY_AKG_EventTrack_MustWait       ;Jump if there are still lines to wait.
                ;No more lines to wait. Reads a new data. It may be an event value or a wait value.
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_EventTrack_PtTrack: ld hl,0
                ELSE
                ld hl,(PLY_AKG_EventTrack_PtTrack)
                ENDIF
                ld a,(hl)
                inc hl
                srl a           ;Bit 0: wait?
                jr c,PLY_AKG_EventTrack_StorePointerAndWaitCounter      ;Jump if wait: A is the wait value.
                ;Value found. If 0, escape value (rare).
                jr nz,PLY_AKG_EventTrack_NormalValue
                ;Escape code. Reads the right value.
                ld a,(hl)
                inc hl
        PLY_AKG_EventTrack_NormalValue:
                ld (PLY_AKG_Event),a

                xor a                   ;Next time, a new value is read.
        PLY_AKG_EventTrack_StorePointerAndWaitCounter:
                ld (PLY_AKG_EventTrack_PtTrack + PLY_AKG_Offset1b),hl
        PLY_AKG_EventTrack_MustWait:
                ld (PLY_AKG_EventTrack_WaitCounter + PLY_AKG_Offset1b),a
        PLY_AKG_EventTrack_End:
                                ENDIF ;PLY_CFG_UseEventTracks







                ;-------------------------------------------------------------------------
                ;Reads the possible Cell of the Channel 1, 2 and 3. Use a Macro for each channel, but the code is duplicated.
                ;-------------------------------------------------------------------------

                MACRO PLY_AKG_ReadTrack channelNumber

                IFNDEF PLY_AKG_Rom
        PLY_AKG_Channel{channelNumber}_WaitCounter: ld a,0      ;Lines to wait?
                ELSE
                ld a,(PLY_AKG_Channel{channelNumber}_WaitCounter)
                ENDIF
                sub 1
                jr c,PLY_AKG_Channel{channelNumber}_ReadTrack
                ;Still some lines to wait.
                ld (PLY_AKG_Channel{channelNumber}_WaitCounter + PLY_AKG_Offset1b),a
                jp PLY_AKG_Channel{channelNumber}_ReadCellEnd
                
        PLY_AKG_Channel{channelNumber}_ReadTrack:
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_Channel{channelNumber}_PtTrack: ld hl,0      ;Points on the Cell to read.
                ELSE
                ld hl,(PLY_AKG_Channel{channelNumber}_PtTrack)
                ENDIF
                ;Reads note data. It can be a note, a wait...

                ld c,(hl)       ;C = data (b5-0) + effect? (b6) + new Instrument? (b7).
                inc hl
                ld a,c
                and %111111     ;A = data.
                cp 60           ;0-59: note. "cp" is preferred to "sub" so that the "note" branch (the slowest) is note-ready.
                jr c,PLY_AKG_Channel{channelNumber}_Note
                sub 60
                jp z,PLY_AKG_Channel{channelNumber}_MaybeEffects        ;60 = no note, but maybe effects.
                dec a
                jr z,PLY_AKG_Channel{channelNumber}_Wait                ;61 = wait, no effect.
                dec a
                jr z,PLY_AKG_Channel{channelNumber}_SmallWait           ;62 = small wait, no effect.
                ;63 = escape code for note, maybe effects.
                ;Reads the note in the next byte (HL has already been incremented).
                ld a,(hl)
                inc hl
                jr PLY_AKG_Channel{channelNumber}_AfterNoteKnown

                ;Small wait, no effect.
        PLY_AKG_Channel{channelNumber}_SmallWait:
                ld a,c          ;Uses bit 6/7 to indicate how many lines to wait.
                rlca
                rlca
                and %11
                inc a         ;This wait start at 2 lines, to 5.
                ld (PLY_AKG_Channel{channelNumber}_WaitCounter + PLY_AKG_Offset1b),a
                jr PLY_AKG_Channel{channelNumber}_BeforeEnd_StoreCellPointer

                ;Wait, no effect.
        PLY_AKG_Channel{channelNumber}_Wait:
                ld a,(hl)   ;Reads the wait value on the next byte (HL has already been incremented).
                ld (PLY_AKG_Channel{channelNumber}_WaitCounter + PLY_AKG_Offset1b),a
                inc hl
                jr PLY_AKG_Channel{channelNumber}_BeforeEnd_StoreCellPointer

                ;Little subcode put here, called just below. A bit dirty, but avoids long jump.
        PLY_AKG_Channel{channelNumber}_SameInstrument:
                ;No new instrument. The instrument pointer must be reset.
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_Channel{channelNumber}_PtBaseInstrument: ld de,0
                ELSE
                ld de,(PLY_AKG_Channel{channelNumber}_PtBaseInstrument)
                ENDIF 
                ld (PLY_AKG_Channel{channelNumber}_PtInstrument + PLY_AKG_Offset1b),de
                jr PLY_AKG_Channel{channelNumber}_AfterInstrument

                ;A note has been found, plus maybe an Instrument and effects. A = note. C = still has the New Instrument/Effects flags.
        PLY_AKG_Channel{channelNumber}_Note:
                if {channelNumber} == 1                 ;Declares this only for the first channel, else refers to it.
                        IFNDEF PLY_AKG_Rom
        PLY_AKG_BaseNoteIndex: add a,0                  ;The encoded note is only from a 4 octave range, but the first note depends on he best window, determined by the song generator.
                        ELSE
                        ld b,a
                        ld a,(PLY_AKG_BaseNoteIndex + PLY_AKG_Offset1b)
                        add a,b
                        ENDIF
                else
                        ld b,a
                        ld a,(PLY_AKG_BaseNoteIndex + PLY_AKG_Offset1b)
                        add a,b
                endif
        PLY_AKG_Channel{channelNumber}_AfterNoteKnown:
                                IFDEF PLY_CFG_UseTranspositions                  ;CONFIG SPECIFIC
                                        IFNDEF PLY_AKG_Rom
        PLY_AKG_Channel{channelNumber}_Transposition: add a,0           ;Adds the Track transposition.
                                        ELSE
                                        ld b,a
                                        ld a,(PLY_AKG_Channel{channelNumber}_Transposition + PLY_AKG_Offset1b)
                                        add a,b
                                        ENDIF
                                ENDIF ;PLY_CFG_UseTranspositions
                ld (PLY_AKG_Channel{channelNumber}_TrackNote + PLY_AKG_Offset1b),a
        
                ;HL = next data. C = data byte.
                rl c                ;New Instrument?
                jr nc,PLY_AKG_Channel{channelNumber}_SameInstrument
                ;Gets the new Instrument.
                ld a,(hl)
                inc hl
                exx
                if {channelNumber} == 1               ;Declares this only for the first channel, else refers to it.
                        ld l,a
                        ld h,0
                        add hl,hl
                        IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_InstrumentsTable: ld de,0           ;Points on the Instruments table of the music (set on song initialization).
                        ELSE
                                ld de,(PLY_AKG_InstrumentsTable + PLY_AKG_Offset1b)
                        ENDIF
                        add hl,de
                else
                        ld e,a
                        ld d,0
                        ld hl,(PLY_AKG_InstrumentsTable + PLY_AKG_Offset1b)           ;Points on the Instruments table of the music (set on song initialization).
                        add hl,de
                        add hl,de
                endif
                        ld sp,hl
                        pop hl
                
                        ld a,(hl)       ;Gets the speed.
                        inc hl
                                ;No need to store an "original speed" if "force instrument speed" effect is not used.
                                IFDEF PLY_CFG_UseEffect_ForceInstrumentSpeed            ;CONFIG SPECIFIC
                                        ld (PLY_AKG_Channel{channelNumber}_InstrumentOriginalSpeed + PLY_AKG_Offset1b),a
                                ELSE
                                        ld (PLY_AKG_Channel{channelNumber}_InstrumentSpeed + PLY_AKG_Offset1b),a
                                ENDIF ;PLY_CFG_UseEffect_ForceInstrumentSpeed
                        ld (PLY_AKG_Channel{channelNumber}_PtInstrument + PLY_AKG_Offset1b),hl
                        ld (PLY_AKG_Channel{channelNumber}_PtBaseInstrument + PLY_AKG_Offset1b),hl   ;Useful when playing another note with the same instrument.
                exx
        PLY_AKG_Channel{channelNumber}_AfterInstrument:

                ;There is a new note. The instrument pointer has already been reset.
                ;-------------------------------------------------------------------
                ;Instrument number is set.
                ;Arpeggio and Pitch Table are reset.
                
                ;HL must be preserved! But it is faster to use HL than DE when storing 16 bits value.
                ;So it is stored in DE for now.
                ex de,hl

                ;The track pitch and glide, instrument step are reset.
                xor a
                                IFDEF PLY_AKS_UseEffect_PitchUpOrDownOrGlide        ;CONFIG SPECIFIC
                ld l,a
                ld h,a
                ld (PLY_AKG_Channel{channelNumber}_Pitch + PLY_AKG_Offset1b),hl
                                ENDIF ;PLY_AKS_UseEffect_PitchUpOrDownOrGlide
                                IFDEF PLY_AKS_UseEffect_Arpeggio        ;CONFIG SPECIFIC
                ld (PLY_AKG_Channel{channelNumber}_ArpeggioTableCurrentStep + PLY_AKG_Offset1b),a
                                ENDIF ;PLY_AKS_UseEffect_Arpeggio
                                IFDEF PLY_CFG_UseEffect_PitchTable              ;CONFIG SPECIFIC
                ld (PLY_AKG_Channel{channelNumber}_PitchTableCurrentStep + PLY_AKG_Offset1b),a
                                ENDIF ;PLY_CFG_UseEffect_PitchTable
                ld (PLY_AKG_Channel{channelNumber}_InstrumentStep + PLY_AKG_Offset2b),a
                
                                ;If the "force instrument speed" effect is used, the instrument speed must be reset to its original value.
                                IFDEF PLY_CFG_UseEffect_ForceInstrumentSpeed            ;CONFIG SPECIFIC
                IFNDEF PLY_AKG_Rom
        PLY_AKG_Channel{channelNumber}_InstrumentOriginalSpeed ld a,0
                ELSE
                ld a,(PLY_AKG_Channel{channelNumber}_InstrumentOriginalSpeed)
                ENDIF
                ld (PLY_AKG_Channel{channelNumber}_InstrumentSpeed + PLY_AKG_Offset1b),a
                                ENDIF ;PLY_CFG_UseEffect_ForceInstrumentSpeed
                
                                IFDEF PLY_AKS_UseEffect_PitchUpOrDown        ;CONFIG SPECIFIC
                ld a,PLY_AKG_OPCODE_OR_A
                ld (PLY_AKG_Channel{channelNumber}_IsPitch),a
                                ENDIF ;PLY_AKS_UseEffect_PitchUpOrDown
                
                ;Resets the speed of the Arpeggio and the Pitch.
                                IFDEF PLY_AKS_UseEffect_Arpeggio        ;CONFIG SPECIFIC
                ld a,(PLY_AKG_Channel{channelNumber}_ArpeggioBaseSpeed)
                ld (PLY_AKG_Channel{channelNumber}_ArpeggioTableSpeed),a
                                ENDIF ;PLY_AKS_UseEffect_Arpeggio
                                IFDEF PLY_CFG_UseEffect_PitchTable        ;CONFIG SPECIFIC
                ld a,(PLY_AKG_Channel{channelNumber}_PitchBaseSpeed)
                ld (PLY_AKG_Channel{channelNumber}_PitchTableSpeed),a        
                                ENDIF ;PLY_CFG_UseEffect_PitchTable

                                IFDEF PLY_AKS_UseEffect_Arpeggio        ;CONFIG SPECIFIC
                ld hl,(PLY_AKG_Channel{channelNumber}_ArpeggioTableBase)              ;Points to the first value of the Arpeggio.
                ld (PLY_AKG_Channel{channelNumber}_ArpeggioTable + PLY_AKG_Offset1b),hl
                                ENDIF ;PLY_AKS_UseEffect_Arpeggio
                                IFDEF PLY_CFG_UseEffect_PitchTable        ;CONFIG SPECIFIC
                ld hl,(PLY_AKG_Channel{channelNumber}_PitchTableBase)                 ;Points to the first value of the Pitch.
                ld (PLY_AKG_Channel{channelNumber}_PitchTable + PLY_AKG_Offset1b),hl
                                ENDIF ;PLY_CFG_UseEffect_PitchTable

                ex de,hl
                
                                IFDEF PLY_CFG_UseEffects                ;CONFIG SPECIFIC
                ;Effects?
                rl c
                jp c,PLY_AKG_Channel{channelNumber}_ReadEffects
                                ENDIF ;PLY_CFG_UseEffects

                ;No effects. Nothing more to read for this cell.
        PLY_AKG_Channel{channelNumber}_BeforeEnd_StoreCellPointer:
                ld (PLY_AKG_Channel{channelNumber}_PtTrack + PLY_AKG_Offset1b),hl
        PLY_AKG_Channel{channelNumber}_ReadCellEnd:

                ENDM ;PLY_AKG_ReadTrack

                ;Generates the code for each channel, from the macro above.
                PLY_AKG_ReadTrack 1
                PLY_AKG_ReadTrack 2
                PLY_AKG_ReadTrack 3












                IFNDEF PLY_AKG_Rom
        PLY_AKG_CurrentSpeed: ld a,0      ;>0.
                ELSE
                ld a,(PLY_AKG_CurrentSpeed)
                ENDIF
        PLY_AKG_SetSpeedBeforePlayStreams:
                ld (PLY_AKG_TickDecreasingCounter + PLY_AKG_Offset1b),a







                ;-----------------------------------------------------------------------------------------
                ;Applies the trailing effects for channel 1, 2, 3. Uses a macro instead of duplicating the code.
                ;-----------------------------------------------------------------------------------------
                
                MACRO PLY_AKG_ApplyTrailingEffects channelNumber
                
                ;Use Volume slide?
                ;----------------------------
                        IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_Channel{channelNumber}_InvertedVolumeIntegerAndDecimal: ld hl,0
                ELSE
                ld hl,(PLY_AKG_Channel{channelNumber}_InvertedVolumeIntegerAndDecimal)
                ENDIF
        PLY_AKG_Channel{channelNumber}_InvertedVolumeInteger: equ PLY_AKG_Channel{channelNumber}_InvertedVolumeIntegerAndDecimal + PLY_AKG_Offset1b + 1
                                IFDEF PLY_AKG_UseEffect_VolumeSlide             ;CONFIG SPECIFIC
                IFNDEF PLY_AKG_Rom
        PLY_AKG_Channel{channelNumber}_IsVolumeSlide: or a                   ;Is there a Volume Slide ? Automodified. SCF if yes, OR A if not.
                ELSE
                ld a,(PLY_AKG_Channel{channelNumber}_IsVolumeSlide)
                add a,a         ;Creates the carry or not.
                ENDIF
                jr nc,PLY_AKG_Channel{channelNumber}_VolumeSlide_End
                
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_Channel{channelNumber}_VolumeSlideValue: ld de,0              ;May be negative.
                ELSE
                ld de,(PLY_AKG_Channel{channelNumber}_VolumeSlideValue)
                ENDIF
                add hl,de
                ;Went below 0?
                bit 7,h
                jr z,PLY_AKG_Channel{channelNumber}_VolumeNotOverflow
                ld h,0                  ;No need to set L to 0... Shouldn''t make any hearable difference.
                jr PLY_AKG_Channel{channelNumber}_VolumeSetAgain
        PLY_AKG_Channel{channelNumber}_VolumeNotOverflow:
                ;Higher than 15?
                ld a,h
                cp 16
                jr c,PLY_AKG_Channel{channelNumber}_VolumeSetAgain
                ld h,15        
        PLY_AKG_Channel{channelNumber}_VolumeSetAgain:
                ld (PLY_AKG_Channel{channelNumber}_InvertedVolumeIntegerAndDecimal + PLY_AKG_Offset1b),hl
                
        PLY_AKG_Channel{channelNumber}_VolumeSlide_End:
                                ENDIF ;PLY_AKG_UseEffect_VolumeSlide
                ld a,h
                ld (PLY_AKG_Channel{channelNumber}_GeneratedCurrentInvertedVolume + PLY_AKG_Offset1b),a
                
                
                
                
                
                ;Use Arpeggio table? OUT: C = value.
                ;----------------------------------------
                                IFDEF PLY_AKS_UseEffect_Arpeggio        ;CONFIG SPECIFIC
                ld c,0  ;Default value of the arpeggio.

                IFNDEF PLY_AKG_Rom
        PLY_AKG_Channel{channelNumber}_IsArpeggioTable: or a                   ;Is there an arpeggio table? Automodified. SCF if yes, OR A if not.
                ELSE
                ld a,(PLY_AKG_Channel{channelNumber}_IsArpeggioTable)
                add a,a         ;Creates the carry or not.
                ENDIF
                jr nc,PLY_AKG_Channel{channelNumber}_ArpeggioTable_End

                ;We can read the Arpeggio table for a new value.
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_Channel{channelNumber}_ArpeggioTable: ld hl,0                 ;Points on the data, after the header.
                ELSE
                ld hl,(PLY_AKG_Channel{channelNumber}_ArpeggioTable)
                ENDIF
                ld a,(hl)
                cp -128                  ;Loop?
                jr nz,PLY_AKG_Channel{channelNumber}_ArpeggioTable_AfterLoopTest
                ;Loop. Where to?
                inc hl
                ld a,(hl)
                inc hl
                ld h,(hl)
                ld l,a
                ld a,(hl)               ;Reads the value. Safe, we know there is no loop here.
                
                ;HL = pointer on what is follows.
                ;A = value to use.
        PLY_AKG_Channel{channelNumber}_ArpeggioTable_AfterLoopTest:
                ld c,a
                
                ;Checks the speed. If reached, the pointer can be saved to read a new value next time.
                ld a,(PLY_AKG_Channel{channelNumber}_ArpeggioTableSpeed)
                ld d,a
                IFNDEF PLY_AKG_Rom
        PLY_AKG_Channel{channelNumber}_ArpeggioTableCurrentStep: ld a,0
                ELSE
                ld a,(PLY_AKG_Channel{channelNumber}_ArpeggioTableCurrentStep)
                ENDIF
                inc a
                cp d               ;From 1 to 256.
                jr c,PLY_AKG_Channel{channelNumber}_ArpeggioTable_BeforeEnd_SaveStep  ;C, not NZ, because the current step may be higher than the limit if Force Speed effect is used.
                ;Stores the pointer to read a new value next time.
                inc hl
                ld (PLY_AKG_Channel{channelNumber}_ArpeggioTable + PLY_AKG_Offset1b),hl

                xor a
        PLY_AKG_Channel{channelNumber}_ArpeggioTable_BeforeEnd_SaveStep:
                ld (PLY_AKG_Channel{channelNumber}_ArpeggioTableCurrentStep + PLY_AKG_Offset1b),a
        PLY_AKG_Channel{channelNumber}_ArpeggioTable_End:
                                ENDIF ;PLY_AKS_UseEffect_Arpeggio



                ;Use Pitch table? OUT: DE = pitch value.
                ;C must NOT be modified!
                ;-----------------------
                
        dknr3 (void):
                ld de,0         ;Default value.
                                IFDEF PLY_CFG_UseEffect_PitchTable              ;CONFIG SPECIFIC
                IFNDEF PLY_AKG_Rom
        PLY_AKG_Channel{channelNumber}_IsPitchTable: or a                   ;Is there an arpeggio table? Automodified. SCF if yes, OR A if not.
                ELSE
                ld a,(PLY_AKG_Channel{channelNumber}_IsPitchTable)
                add a,a         ;Creates the carry or not.
                ENDIF
                jr nc,PLY_AKG_Channel{channelNumber}_PitchTable_End
                
                ;Read the Pitch table for a value.
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_Channel{channelNumber}_PitchTable: ld sp,0                 ;Points on the data, after the header.
                ELSE
                ld sp,(PLY_AKG_Channel{channelNumber}_PitchTable)
                ENDIF
                pop de                  ;Reads the value.
                pop hl                  ;Reads the pointer to the next value. Manages the loop automatically!
                
                ;Checks the speed. If reached, the pointer can be saved (advance in the Pitch).
                ld a,(PLY_AKG_Channel{channelNumber}_PitchTableSpeed)
                ld b,a
                IFNDEF PLY_AKG_Rom
        PLY_AKG_Channel{channelNumber}_PitchTableCurrentStep: ld a,0
                ELSE
                ld a,(PLY_AKG_Channel{channelNumber}_PitchTableCurrentStep)
                ENDIF
                inc a
                cp b                                                 ;From 1 to 256.
                jr c,PLY_AKG_Channel{channelNumber}_PitchTable_BeforeEnd_SaveStep  ;C, not NZ, because the current step may be higher than the limit if Force Speed effect is used.
                ;Advances in the Pitch.
                ld (PLY_AKG_Channel{channelNumber}_PitchTable + PLY_AKG_Offset1b),hl
                
                xor a
        PLY_AKG_Channel{channelNumber}_PitchTable_BeforeEnd_SaveStep:
                ld (PLY_AKG_Channel{channelNumber}_PitchTableCurrentStep + PLY_AKG_Offset1b),a
        PLY_AKG_Channel{channelNumber}_PitchTable_End:        
                                ENDIF ;PLY_CFG_UseEffect_PitchTable



                ;Pitch management. The Glide is embedded, but relies on the Pitch (Pitch can exist without Glide, but Glide can not without Pitch).
                ;Do NOT modify C or DE.
                ;------------------------------------------------------------------------------------------
                                IFNDEF PLY_AKS_UseEffect_PitchUpOrDownOrGlide        ;CONFIG SPECIFIC
        dknr3 (void):   ld hl,0 ;No pitch.
                                        IFNDEF PLY_AKG_Rom              ;Nothing to declare if ROM.
                                        ;Some dirty duplication in case there is no pitch up/down/glide. The "real" vars are a bit below.
        PLY_AKG_Channel{channelNumber}_SoundStream_RelativeModifierAddress:                 ;Put here, no need for better place (see the real label below, with the same name).
                                                IFDEF PLY_AKS_UseEffect_ArpeggioTableOrPitchTable       ;CONFIG SPECIFIC
                                                jr PLY_AKG_Channel{channelNumber}_AfterArpeggioPitchVariables
                                        
                                                        IFDEF PLY_AKS_UseEffect_Arpeggio        ;CONFIG SPECIFIC
        dkbs (void):    ;Disark macro.
        PLY_AKG_Channel{channelNumber}_ArpeggioTableSpeed: db 0
        PLY_AKG_Channel{channelNumber}_ArpeggioBaseSpeed: db 0
        PLY_AKG_Channel{channelNumber}_ArpeggioTableBase: dw 0
        dkbe (void):    ;Disark macro.
                                                        ENDIF ;PLY_AKS_UseEffect_Arpeggio
                                                        IFDEF PLY_CFG_UseEffect_PitchTable              ;CONFIG SPECIFIC
        dkbs (void):    ;Disark macro.
        PLY_AKG_Channel{channelNumber}_PitchTableSpeed: db 0
        PLY_AKG_Channel{channelNumber}_PitchBaseSpeed: db 0
        PLY_AKG_Channel{channelNumber}_PitchTableBase: dw 0
        dkbe (void):    ;Disark macro.
                                                        ENDIF ;PLY_CFG_UseEffect_PitchTable
        PLY_AKG_Channel{channelNumber}_AfterArpeggioPitchVariables:
                                                ENDIF ;PLY_AKS_UseEffect_ArpeggioTableOrPitchTable
                                        ENDIF ;PLY_AKG_ROM       
                                ELSE ;PLY_AKS_UseEffect_PitchUpOrDownOrGlide
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_Channel{channelNumber}_Pitch: ld hl,0
        PLY_AKG_Channel{channelNumber}_IsPitch: or a                          ;Is there a Pitch? Automodified. SCF if yes, OR A if not.
                ELSE
                ld hl,(PLY_AKG_Channel{channelNumber}_Pitch)
                ld a,(PLY_AKG_Channel{channelNumber}_IsPitch)
                add a,a         ;Creates the carry or not.
                ENDIF
                jr nc,PLY_AKG_Channel{channelNumber}_Pitch_End
                ;C must NOT be modified, stores it.
                                        IFDEF PLY_AKS_UseEffect_Arpeggio        ;CONFIG SPECIFIC
                ld ixl,c
                                        ENDIF ;PLY_AKS_UseEffect_Arpeggio
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_Channel{channelNumber}_PitchTrack: ld bc,0                    ;Value from the user. ALWAYS POSITIVE. Does not evolve. B is always 0.
                ELSE
                ld bc,(PLY_AKG_Channel{channelNumber}_PitchTrack)
                ENDIF

                or a                                            ;Required if the code is changed to sbc.
                IFNDEF PLY_AKG_Rom
        PLY_AKG_Channel{channelNumber}_PitchTrackAddOrSbc_16bits: nop : add hl,bc          ;WILL BE AUTOMODIFIED to add or sbc. But SBC requires 2*8 bits! Damn.
                ELSE
                jp PLY_AKG_Channel{channelNumber}_PitchTrackAddOrSbc_16bits   ;Calls a code that holds the instruction.
        PLY_AKG_Channel{channelNumber}_PitchTrackAddOrSbc_16bitsReturn:
                ENDIF
                
                ;Makes the decimal part evolves.
                IFNDEF PLY_AKG_Rom
        PLY_AKG_Channel{channelNumber}_PitchTrackDecimalCounter: ld a,0
        PLY_AKG_Channel{channelNumber}_PitchTrackDecimalInstr: add a,0              ;Value from the user. WILL BE AUTOMODIFIED to add or sub.
        PLY_AKG_Channel{channelNumber}_PitchTrackDecimalValue: equ PLY_AKG_Channel{channelNumber}_PitchTrackDecimalInstr + 1
                ELSE
                ld a,(PLY_AKG_Channel{channelNumber}_PitchTrackDecimalValue)
                ld b,a
                ld a,(PLY_AKG_Channel{channelNumber}_PitchTrackDecimalCounter)
                ;Add a,b or sub b? Lets the subcode decide. It will return just below.
                jp PLY_AKG_Channel{channelNumber}_PitchTrackDecimalInstrAndValue
        PLY_AKG_Channel{channelNumber}_PitchTrackDecimalInstrAndValueReturnAfterJp:
                ENDIF
                ld (PLY_AKG_Channel{channelNumber}_PitchTrackDecimalCounter + PLY_AKG_Offset1b),a

                jr nc,PLY_AKG_Channel{channelNumber}_PitchNoCarry
                IFNDEF PLY_AKG_Rom
        PLY_AKG_Channel{channelNumber}_PitchTrackIntegerAddOrSub: inc hl                   ;WILL BE AUTOMODIFIED to inc hl/dec hl
                ELSE
                jp PLY_AKG_Channel{channelNumber}_PitchTrackIntegerAddOrSub   ;Calls a code that holds the instruction.
        PLY_AKG_Channel{channelNumber}_PitchTrackIntegerAddOrSubReturn:
                ENDIF
        PLY_AKG_Channel{channelNumber}_PitchNoCarry:
                ld (PLY_AKG_Channel{channelNumber}_Pitch + PLY_AKG_Offset1b),hl

                IFNDEF PLY_AKG_Rom
        PLY_AKG_Channel{channelNumber}_SoundStream_RelativeModifierAddress:                   ;This must be placed at the any location to allow reaching the variables via IX/IY.
                ENDIF
                                        IFDEF PLY_CFG_UseEffect_PitchGlide        ;CONFIG SPECIFIC
                ;Glide?
                IFNDEF PLY_AKG_Rom
        PLY_AKG_Channel{channelNumber}_GlideDirection: ld a,0         ;0 = no glide. 1 = glide/pitch up. 2 = glide/pitch down.
                ELSE
                ld a,(PLY_AKG_Channel{channelNumber}_GlideDirection)
                ENDIF
                or a                                    ;Is there a Glide?
                jr z,PLY_AKG_Channel{channelNumber}_Glide_End

                ld (PLY_AKG_Channel{channelNumber}_Glide_SaveHL + PLY_AKG_Offset1b),hl
                ld c,l
                ld b,h
                ;Finds the period of the current note.
                ex af,af''
                        ld a,(PLY_AKG_Channel{channelNumber}_TrackNote + PLY_AKG_Offset1b)
                        add a,a                                         ;Encoded on 7 bits, so no problem.
                        ld l,a
                ex af,af''
                ld h,0
                ld sp,PLY_AKG_PeriodTable
                add hl,sp
                ld sp,hl
                pop hl                                          ;HL = current note period.
                dec sp
                dec sp                                          ;We will need this value if the glide is over, it is faster to reuse the stack.
                
                add hl,bc                                       ;HL is now the current period (note period + track pitch).
                
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_Channel{channelNumber}_GlideToReach: ld bc,0                  ;Period to reach (note given by the user, converted to period).
                ELSE
                ld bc,(PLY_AKG_Channel{channelNumber}_GlideToReach)
                ENDIF
                ;Have we reached the glide destination?
                ;Depends on the direction.        
                rra                                             ;If 1, the carry is set. If 2, no.
                jr nc,PLY_AKG_Channel{channelNumber}_GlideDownCheck
                ;Glide up. Check.
                ;The glide period should be lower than the current pitch.
                or a
                sbc hl,bc
                jr nc,PLY_AKG_Channel{channelNumber}_Glide_BeforeEnd           ;If not reached yet, continues the pitch.
                jr PLY_AKG_Channel{channelNumber}_GlideOver

        PLY_AKG_Channel{channelNumber}_GlideDownCheck:
                ;The glide period should be higher than the current pitch.
                sbc hl,bc                                       ;No carry, no need to remove it.
                jr c,PLY_AKG_Channel{channelNumber}_Glide_BeforeEnd           ;If not reached yet, continues the pitch.
        PLY_AKG_Channel{channelNumber}_GlideOver:
                ;The glide is over. However, it may be over, so we can''t simply use the current pitch period. We have to set the exact needed value.
                ld l,c
                ld h,b
                pop bc
                or a
                sbc hl,bc
                
                ld (PLY_AKG_Channel{channelNumber}_Pitch + PLY_AKG_Offset1b),hl
                ld a,PLY_AKG_OPCODE_OR_A
                ld (PLY_AKG_Channel{channelNumber}_IsPitch),a
                ;Skips the HL restoration, the one we have is fine and will give us the right pitch to use.
                jr PLY_AKG_Channel{channelNumber}_Glide_End
                                        ELSE
                IFNDEF PLY_AKG_Rom
                        ;Skips the variables below, if there are present.
                                                IFDEF PLY_AKS_UseEffect_ArpeggioTableOrPitchTable       ;CONFIG SPECIFIC
                        jr PLY_AKG_Channel{channelNumber}_AfterArpeggioPitchVariables
                                                ENDIF ;PLY_AKS_UseEffect_ArpeggioTableOrPitchTable
                ENDIF ;PLY_AKG_Rom
                                        ENDIF ;PLY_CFG_UseEffect_PitchGlide
                ;A small place to stash some vars which have to be within relative range. Dirty, but no choice.
                ;Note that the vars just below are duplicated due to the conditional assembling (they are a bit above).
                IFNDEF PLY_AKG_Rom
                                        IFDEF PLY_AKS_UseEffect_Arpeggio        ;CONFIG SPECIFIC
        dkbs (void):    ;Disark macro.
        PLY_AKG_Channel{channelNumber}_ArpeggioTableSpeed: db 0
        PLY_AKG_Channel{channelNumber}_ArpeggioBaseSpeed: db 0
        PLY_AKG_Channel{channelNumber}_ArpeggioTableBase: dw 0
        dkbe (void):    ;Disark macro.
                                        ENDIF ;PLY_AKS_UseEffect_Arpeggio
                                        IFDEF PLY_CFG_UseEffect_PitchTable              ;CONFIG SPECIFIC
        dkbs (void):    ;Disark macro.
        PLY_AKG_Channel{channelNumber}_PitchTableSpeed: db 0
        PLY_AKG_Channel{channelNumber}_PitchBaseSpeed: db 0
        PLY_AKG_Channel{channelNumber}_PitchTableBase: dw 0
        dkbe (void):    ;Disark macro.
                                        ENDIF ;PLY_CFG_UseEffect_PitchTable
        PLY_AKG_Channel{channelNumber}_AfterArpeggioPitchVariables:
                ENDIF ;PLY_AKG_Rom

                                        IFDEF PLY_CFG_UseEffect_PitchGlide        ;CONFIG SPECIFIC
        PLY_AKG_Channel{channelNumber}_Glide_BeforeEnd:
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_Channel{channelNumber}_Glide_SaveHL: ld hl,0               ;Restores HL.
                ELSE
                ld hl,(PLY_AKG_Channel{channelNumber}_Glide_SaveHL)
                ENDIF
        PLY_AKG_Channel{channelNumber}_Glide_End:
                                        ENDIF ;PLY_CFG_UseEffect_PitchGlide
                                
                                        IFDEF PLY_AKS_UseEffect_Arpeggio        ;CONFIG SPECIFIC
                ld c,ixl                                        ;Restores C (arp), saved before.
                                        ENDIF ;PLY_AKS_UseEffect_Arpeggio

        PLY_AKG_Channel{channelNumber}_Pitch_End:
                                ENDIF ;PLY_AKS_UseEffect_PitchUpOrDownOrGlide
                                
                                
                add hl,de                               ;Adds the Pitch Table value.
                ld (PLY_AKG_Channel{channelNumber}_GeneratedCurrentPitch + PLY_AKG_Offset1b),hl
                                IFDEF PLY_AKS_UseEffect_Arpeggio        ;CONFIG SPECIFIC
                ld a,c
                ld (PLY_AKG_Channel{channelNumber}_GeneratedCurrentArpNote + PLY_AKG_Offset1b),a
                                ENDIF ;PLY_AKS_UseEffect_Arpeggio

                ENDM ;PLY_AKG_ApplyTrailingEffects

                ;Applies the macro for each channel.
                PLY_AKG_ApplyTrailingEffects 1
                PLY_AKG_ApplyTrailingEffects 2
                PLY_AKG_ApplyTrailingEffects 3













                ;The stack must NOT be diverted during the Play Streams!
                ld sp,(PLY_AKG_SaveSP + PLY_AKG_Offset1b)


        ;-------------------------------------------------------------------------------------
        ;Plays the instrument on channel 1, 2, 3. The PSG registers related to the channels are set.
        ;A macro is used instead of duplicating the code.
        ;-------------------------------------------------------------------------------------

                MACRO PLY_AKG_PlayInstrument channelNumber

                IFNDEF PLY_AKG_Rom
        PLY_AKG_Channel{channelNumber}_PlayInstrument_RelativeModifierAddress:                   ;This must be placed at the any location to allow reaching the variables via IX/IY.
                ENDIF
                
                ;What note to play?
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_Channel{channelNumber}_GeneratedCurrentPitch: ld hl,0 ;The pitch to add to the real note, according to the Pitch Table + Pitch/Glide effect.
                ELSE
                ld hl,(PLY_AKG_Channel{channelNumber}_GeneratedCurrentPitch)
                ENDIF
                                IFDEF PLY_AKS_UseEffect_Arpeggio        ;CONFIG SPECIFIC
                IFNDEF PLY_AKG_Rom
        PLY_AKG_Channel{channelNumber}_TrackNote: ld a,0
        PLY_AKG_Channel{channelNumber}_GeneratedCurrentArpNote: add 0                           ;Adds the arpeggio value.
                ELSE
                ld a,(PLY_AKG_Channel{channelNumber}_TrackNote)
                ld e,a
                ld a,(PLY_AKG_Channel{channelNumber}_GeneratedCurrentArpNote)
                add a,e
                ENDIF
                        ld e,a
                        ld d,0
                                ELSE ;PLY_AKS_UseEffect_Arpeggio
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_Channel{channelNumber}_TrackNote: ld de,0               ;Not automodified, stays this way.
                ELSE
                ld a,(PLY_AKG_Channel{channelNumber}_TrackNote)        ;In ROM, MUST pass by a variable anyway to be analog to if Arpeggio is used (see above).
                ld e,a
                ld d,0
                ENDIF
                                ENDIF ;PLY_AKS_UseEffect_Arpeggio
                exx
                IFNDEF PLY_AKG_Rom
        PLY_AKG_Channel{channelNumber}_InstrumentStep: ld iyl,0
        dknr3 (void):
        PLY_AKG_Channel{channelNumber}_PtInstrument: ld hl,0       ;Instrument data to read (past the header).
                        if {channelNumber} == 1         ;Different code for the first channel.
        PLY_AKG_Channel{channelNumber}_GeneratedCurrentInvertedVolume: ld de,%11100000 * 256 + 15             ;R7, shift twice TO THE LEFT. By default, the noise is cut (111), the sound is on (most usual case).
                        else
        PLY_AKG_Channel{channelNumber}_GeneratedCurrentInvertedVolume: ld e,15
                        nop                     ;Stupid, but required for relative registers to reach addresses independently of the channels.
                        endif
                ELSE
                ld a,(PLY_AKG_Channel{channelNumber}_InstrumentStep)
                ld iyl,a
                ld hl,(PLY_AKG_Channel{channelNumber}_PtInstrument)
                ld a,(PLY_AKG_Channel{channelNumber}_GeneratedCurrentInvertedVolume)
                ld e,a
                if {channelNumber} == 1
                        ;For the first channel, sets the R7 value to no noise, all channel on by default ().
                        ld d,%11100000
                endif
                ENDIF
                
        ;       D = Reg7
        ;       E = inverted volume.
        ;       D'' = 0, E'' = note (instrument + Track transposition).
        ;       HL'' = track pitch.

                call PLY_AKG_ReadInstrumentCell

                ;The new and increased Instrument pointer is stored only if its speed has been reached.
                IFDEF PLY_AKG_Rom
                ld a,(PLY_AKG_Channel{channelNumber}_InstrumentSpeed)
                ld b,a
                ENDIF
                ld a,iyl
                inc a
                IFNDEF PLY_AKG_Rom
        PLY_AKG_Channel{channelNumber}_InstrumentSpeed: cp 0          ;(>0)
                ELSE
                cp b
                ENDIF
                jr c,PLY_AKG_Channel{channelNumber}_SetInstrumentStep         ;Checks C, not only NZ because since the speed can be changed via an effect, the step can get beyond the limit, this must be taken in account.
                ;The speed is reached. We can go to the next line on the next frame.
                ld (PLY_AKG_Channel{channelNumber}_PtInstrument + PLY_AKG_Offset1b),hl
                xor a
        PLY_AKG_Channel{channelNumber}_SetInstrumentStep:
                ld (PLY_AKG_Channel{channelNumber}_InstrumentStep + PLY_AKG_Offset2b),a

                
                ;Saves the software period and volume for the PSG to send later.
                ld a,e
                ld (PLY_AKG_PSGReg{{channelNumber} + 7}),a          ;Reaches register/label 8/9/10.
                
                if {channelNumber} != 3
                        IFDEF PLY_AKG_HARDWARE_CPC
                                srl d           ;Shift D to the right to let room for the other channels. Use SRL, not RR, to make sure bit 6 is 0 at the end (else, no more keyboard on CPC!).
                        ELSE
                                IFDEF PLY_AKG_HARDWARE_MSX
                                        if {channelNumber} == 1
                                                srl d           ;R7 bit 6 on MSX must be 0.
                                        else
                                                scf             ;R7 bit 7 on MSX must be 1.
                                                rr d
                                        endif
                                ELSE
                                        rr d            ;On other platform, we don''t care.
                                ENDIF
                        ENDIF


                else
                        ;Gets the R7.
                        ld a,d
                endif
                
                exx
                        if {channelNumber} == 1
                                ld (PLY_AKG_PSGReg01_Instr + PLY_AKG_Offset1b),hl
                        elseif {channelNumber} == 2
                                ld (PLY_AKG_PSGReg23_Instr + PLY_AKG_Offset1b),hl
                        elseif {channelNumber} == 3
                                ld (PLY_AKG_PSGReg45_Instr + PLY_AKG_Offset1b),hl
                        endif

                ENDM ;PLY_AKG_PlayInstrument
            
                
                ;Generates the code for all channels using the macro above.
                PLY_AKG_PlayInstrument 1
                PLY_AKG_PlayInstrument 2
                PLY_AKG_PlayInstrument 3
                
                
                
        
                
        ;Plays the sound effects, if desired.
        ;-------------------------------------------
                IFDEF PLY_AKG_MANAGE_SOUND_EFFECTS
                        ;IN : A = R7
                        ;OUT: A = R7, possibly modified.
                        call PLY_AKG_PlaySoundEffectsStream
                ENDIF ;PLY_AKG_MANAGE_SOUND_EFFECTS
            


        ; -----------------------------------------------------------------------------------
        ; PSG access.
        ; -----------------------------------------------------------------------------------

        ;Sends the registers to the PSG. Only general registers are sent, the specific ones have already been sent.
        ;IN:    A = R7.
        PLY_AKG_SendPSGRegisters:
                IFDEF PLY_AKG_HARDWARE_CPC
        dknr3 (void):   ld bc,#f680
                        ld e,#c0
                    out (c),e	;#f6c0          ;Madram''s trick requires to start with this. out (c),b works, but will activate K7''s relay! Not clean.
                exx
        dknr3 (void):   ld bc,#f401                     ;C is the PSG register.

                ;Register 0 and 1.
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_PSGReg01_Instr: ld hl,0
                ELSE
                ld hl,(PLY_AKG_PSGReg01_Instr)
                ENDIF
                out (c),0                       ;#f400 + register.
                exx
                        out (c),0               ;#f600.
                exx
                out (c),l                       ;#f400 + value.
                exx
                        out (c),c               ;#f680.
                        out (c),e               ;#f6c0.
                exx
                
                out (c),c                       ;#f400 + register.
                exx
                        out (c),0               ;#f600.
                exx
                out (c),h                       ;#f400 + value.
                exx
                        out (c),c               ;#f680.
                        out (c),e               ;#f6c0.
                exx
            
                ;Register 2 and 3.
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_PSGReg23_Instr: ld hl,0
                ELSE
                ld hl,(PLY_AKG_PSGReg23_Instr)
                ENDIF
                inc c
                out (c),c                       ;#f400 + register.
                exx
                        out (c),0               ;#f600.
                exx
                out (c),l                       ;#f400 + value.
                exx
                        out (c),c               ;#f680.
                        out (c),e               ;#f6c0.
                exx
                
                inc c
                out (c),c                       ;#f400 + register.
                exx
                        out (c),0               ;#f600.
                exx
                out (c),h                       ;#f400 + value.
                exx
                        out (c),c               ;#f680.
                        out (c),e               ;#f6c0.
                exx
                
                ;Register 4 and 5.
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_PSGReg45_Instr: ld hl,0
                ELSE
                ld hl,(PLY_AKG_PSGReg45_Instr)
                ENDIF
                inc c
                out (c),c                       ;#f400 + register.
                exx
                        out (c),0               ;#f600.
                exx
                out (c),l                       ;#f400 + value.
                exx
                        out (c),c               ;#f680.
                        out (c),e               ;#f6c0.
                exx
                
                inc c
                out (c),c                       ;#f400 + register.
                exx
                        out (c),0               ;#f600.
                exx
                out (c),h                       ;#f400 + value.
                exx
                        out (c),c               ;#f680.
                        out (c),e               ;#f6c0.
                exx
                
                ;Register 6.
                                IFDEF PLY_AKG_Use_NoiseRegister         ;CONFIG SPECIFIC
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_PSGReg6_8_Instr: ld hl,0          ;L is R6, H is R8. Faster to set a 16 bits register than 2 8-bit.
        PLY_AKG_PSGReg6: equ PLY_AKG_PSGReg6_8_Instr + 1
        PLY_AKG_PSGReg8: equ PLY_AKG_PSGReg6_8_Instr + 2
                ELSE
                ld hl,(PLY_AKG_PSGReg6_8_Instr)
                ENDIF
                inc c
                out (c),c                       ;#f400 + register.
                exx
                        out (c),0               ;#f600.
                exx
                out (c),l                       ;#f400 + value.
                exx
                        out (c),c               ;#f680.
                        out (c),e               ;#f6c0.
                exx
                                ELSE
                        ;No noise. But R8 must still be set.
                IFNDEF PLY_AKG_Rom
        PLY_AKG_PSGReg8_Instr: ld h,0
        PLY_AKG_PSGReg8: equ PLY_AKG_PSGReg8_Instr + 1
                ELSE
                ld hl,(PLY_AKG_PSGReg6_8_Instr) ;L was not useful, but A must not be modified yet.
                ENDIF
                        inc c
                                ENDIF ;PLY_AKG_Use_NoiseRegister
                                        
                ;Register 7. The value is A.
                inc c
                out (c),c                       ;#f400 + register.
                exx
                        out (c),0               ;#f600.
                exx
                out (c),a                       ;#f400 + value.
                exx
                        out (c),c               ;#f680.
                        out (c),e               ;#f6c0.
                exx
                
                ;Register 8. The value is loaded above via HL.
                inc c
                out (c),c                       ;#f400 + register.
                exx
                        out (c),0               ;#f600.
                exx
                out (c),h                       ;#f400 + value.
                exx
                        out (c),c               ;#f680.
                        out (c),e               ;#f6c0.
                exx

                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_PSGReg9_10_Instr: ld hl,0          ;L is R9, H is R10. Faster to set a 16 bits register than 2 8-bit.
        PLY_AKG_PSGReg9: equ PLY_AKG_PSGReg9_10_Instr + 1
        PLY_AKG_PSGReg10: equ PLY_AKG_PSGReg9_10_Instr + 2
                ELSE
                ld hl,(PLY_AKG_PSGReg9_10_Instr)
                ENDIF
                ;Register 9.
                inc c
                out (c),c                       ;#f400 + register.
                exx
                        out (c),0               ;#f600.
                exx
                out (c),l                       ;#f400 + value.
                exx
                        out (c),c               ;#f680.
                        out (c),e               ;#f6c0.
                exx
                
                ;Register 10.
                inc c
                out (c),c                       ;#f400 + register.
                exx
                        out (c),0               ;#f600.
                exx
                out (c),h                       ;#f400 + value.
                exx
                        out (c),c               ;#f680.
                        out (c),e               ;#f6c0.
                exx
                
                                IFDEF PLY_CFG_UseHardwareSounds         ;CONFIG SPECIFIC
                ;Register 11 and 12.
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_PSGHardwarePeriod_Instr: ld hl,0
                ELSE
                ld hl,(PLY_AKG_PSGHardwarePeriod_Instr)
                ENDIF
                inc c
                out (c),c                       ;#f400 + register.
                exx
                        out (c),0               ;#f600.
                exx
                out (c),l                       ;#f400 + value.
                exx
                        out (c),c               ;#f680.
                        out (c),e               ;#f6c0.
                exx  

                inc c
                out (c),c                       ;#f400 + register.
                exx
                        out (c),0               ;#f600.
                exx
                out (c),h                       ;#f400 + value.
                exx
                        out (c),c               ;#f680.
                        out (c),e               ;#f6c0.
                exx
                                ENDIF ;PLY_CFG_UseHardwareSounds
                ENDIF
                IFDEF PLY_AKG_HARDWARE_SPECTRUM_OR_PENTAGON
                
                ex af,af''       ;Saves R7.
        dknr3 (void): ld de,#bfff
        dknr3 (void): ld bc,#fffd
                
                ld a,1          ;Register.
                
                ;Register 0 and 1.
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_PSGReg01_Instr: ld hl,0
                ELSE
                ld hl,(PLY_AKG_PSGReg01_Instr)
                ENDIF
                out (c),0       ;#fffd + register.
                ld b,d
                out (c),l       ;#bffd + value
                ld b,e
                
                out (c),a       ;#fffd + register.
                ld b,d
                out (c),h       ;#bffd + value
                ld b,e
            
                ;Register 2 and 3.
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_PSGReg23_Instr: ld hl,0
                ELSE
                ld hl,(PLY_AKG_PSGReg23_Instr)
                ENDIF
                inc a
                out (c),a       ;#fffd + register.
                ld b,d
                out (c),l       ;#bffd + value
                ld b,e
                
                inc a
                out (c),a       ;#fffd + register.
                ld b,d
                out (c),h       ;#bffd + value
                ld b,e
                
                ;Register 4 and 5.
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_PSGReg45_Instr: ld hl,0
                ELSE
                ld hl,(PLY_AKG_PSGReg45_Instr)
                ENDIF
                inc a
                out (c),a       ;#fffd + register.
                ld b,d
                out (c),l       ;#bffd + value
                ld b,e
                
                inc a
                out (c),a       ;#fffd + register.
                ld b,d
                out (c),h       ;#bffd + value
                ld b,e
                
                ;Register 6.
                                IFDEF PLY_AKG_Use_NoiseRegister         ;CONFIG SPECIFIC
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_PSGReg6_8_Instr: ld hl,0          ;L is R6, H is R8. Faster to set a 16 bits register than 2 8-bit.
        PLY_AKG_PSGReg6: equ PLY_AKG_PSGReg6_8_Instr + 1
        PLY_AKG_PSGReg8: equ PLY_AKG_PSGReg6_8_Instr + 2
                ELSE
                ld hl,(PLY_AKG_PSGReg6_8_Instr)
                ENDIF
                inc a
                out (c),a       ;#fffd + register.
                ld b,d
                out (c),l       ;#bffd + value
                ld b,e
                                ELSE
                        ;No noise. But R8 must still be set.
                IFNDEF PLY_AKG_Rom
        PLY_AKG_PSGReg8_Instr: ld h,0
        PLY_AKG_PSGReg8: equ PLY_AKG_PSGReg8_Instr + 1
                ELSE
                ld hl,(PLY_AKG_PSGReg6_8_Instr)         ;L not useful, but A needs to be not modified.
                ENDIF
                        inc a
                                ENDIF ;PLY_AKG_Use_NoiseRegister
            
                ;Register 7. The value is A.
                inc a
                out (c),a       ;#fffd + register.
                ld b,d
                ex af,af''       ;Retrieves R7.
                out (c),a       ;#bffd + value
                ex af,af''
                ld b,e
                
                ;Register 8. The value is loaded above via HL.
                inc a
                out (c),a       ;#fffd + register.
                ld b,d
                out (c),h       ;#bffd + value
                ld b,e
                
                ;Register 9 and 10.
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_PSGReg9_10_Instr: ld hl,0
        PLY_AKG_PSGReg9: equ PLY_AKG_PSGReg9_10_Instr + 1
        PLY_AKG_PSGReg10: equ PLY_AKG_PSGReg9_10_Instr + 2
                ELSE
                ld hl,(PLY_AKG_PSGReg9_10_Instr)
                ENDIF
                inc a
                out (c),a       ;#fffd + register.
                ld b,d
                out (c),l       ;#bffd + value
                ld b,e
                
                inc a
                out (c),a       ;#fffd + register.
                ld b,d
                out (c),h       ;#bffd + value
                ld b,e
                
                                IFDEF PLY_CFG_UseHardwareSounds         ;CONFIG SPECIFIC
                ;Register 11 and 12.
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_PSGHardwarePeriod_Instr: ld hl,0
                ELSE
                ld hl,(PLY_AKG_PSGHardwarePeriod_Instr)
                ENDIF
                inc a
                out (c),a       ;#fffd + register.
                ld b,d
                out (c),l       ;#bffd + value
                ld b,e
                
                inc a
                out (c),a       ;#fffd + register.
                ld b,d
                out (c),h       ;#bffd + value
                ld b,e
                                ENDIF ;PLY_CFG_UseHardwareSounds

                ENDIF
                IFDEF PLY_AKG_HARDWARE_MSX
            
                ld b,a          ;Preserves R7.
                ld a,7
                out (#a0),a     ;Register.
                ld a,b
                out (#a1),a     ;Value.

                IFNDEF PLY_AKG_Rom
        dknr3 (void):      
        PLY_AKG_PSGReg01_Instr: ld hl,0
                ELSE
                ld hl,(PLY_AKG_PSGReg01_Instr)
                ENDIF
                xor a
                out (#a0),a     ;Register.
                ld a,l
                out (#a1),a     ;Value.

                ld a,1
                out (#a0),a     ;Register.
                ld a,h
                out (#a1),a     ;Value.
                
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_PSGReg23_Instr: ld hl,0
                ELSE
                ld hl,(PLY_AKG_PSGReg23_Instr)
                ENDIF
                ld a,2
                out (#a0),a     ;Register.
                ld a,l
                out (#a1),a     ;Value.

                ld a,3
                out (#a0),a     ;Register.
                ld a,h
                out (#a1),a     ;Value.
                
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_PSGReg45_Instr: ld hl,0
                ELSE
                ld hl,(PLY_AKG_PSGReg45_Instr)
                ENDIF
                ld a,4
                out (#a0),a     ;Register.
                ld a,l
                out (#a1),a     ;Value.

                ld a,5
                out (#a0),a     ;Register.
                ld a,h
                out (#a1),a     ;Value.
                
                ;Register 6.
                                IFDEF PLY_AKG_Use_NoiseRegister         ;CONFIG SPECIFIC
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_PSGReg6_8_Instr: ld hl,0          ;L is R6, H is R8. Faster to set a 16 bits register than 2 8-bit.
        PLY_AKG_PSGReg6: equ PLY_AKG_PSGReg6_8_Instr + 1
        PLY_AKG_PSGReg8: equ PLY_AKG_PSGReg6_8_Instr + 2
                ELSE
                ld hl,(PLY_AKG_PSGReg6_8_Instr)
                ENDIF
                ld a,6
                out (#a0),a     ;Register.
                ld a,l
                out (#a1),a     ;Value.
                
                ld a,8
                out (#a0),a     ;Register.
                ld a,h
                out (#a1),a     ;Value.
                                ELSE
                        ;No noise. Takes care of R8.
                        ld a,8
                        out (#a0),a     ;Register.
                IFNDEF PLY_AKG_Rom
        PLY_AKG_PSGReg8_Instr: ld a,0
        PLY_AKG_PSGReg8: equ PLY_AKG_PSGReg8_Instr + 1
                ELSE
                ld a,(PLY_AKG_PSGReg8)
                ENDIF
                        out (#a1),a     ;Value.
                                ENDIF ;PLY_AKG_Use_NoiseRegister
                
                ;Register 9 and 10.
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_PSGReg9_10_Instr: ld hl,0
        PLY_AKG_PSGReg9: equ PLY_AKG_PSGReg9_10_Instr + 1
        PLY_AKG_PSGReg10: equ PLY_AKG_PSGReg9_10_Instr + 2
                ELSE
                ld hl,(PLY_AKG_PSGReg9_10_Instr)
                ENDIF
                ld a,9
                out (#a0),a     ;Register.
                ld a,l
                out (#a1),a     ;Value.
                
                ld a,10
                out (#a0),a     ;Register.
                ld a,h
                out (#a1),a     ;Value.
                
                                IFDEF PLY_CFG_UseHardwareSounds         ;CONFIG SPECIFIC
                ;Register 11 and 12.
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_PSGHardwarePeriod_Instr: ld hl,0
                ELSE
                ld hl,(PLY_AKG_PSGHardwarePeriod_Instr)
                ENDIF
                ld a,11
                out (#a0),a     ;Register.
                ld a,l
                out (#a1),a     ;Value.
                
                ld a,12
                out (#a0),a     ;Register.
                ld a,h
                out (#a1),a     ;Value.
                                ENDIF ;PLY_CFG_UseHardwareSounds
                
                ENDIF
                
                
                                IFDEF PLY_CFG_UseHardwareSounds         ;CONFIG SPECIFIC
                ;R13.
                IFDEF PLY_AKG_HARDWARE_MSX
                ld a,13         ;Selects R13 now, even if not changed, because A will be modified.
                out (#a0),a     ;Register.
                ENDIF
                IFDEF PLY_AKG_HARDWARE_SPECTRUM_OR_PENTAGON
                inc a           ;Selects R13 now, even if not changed, because A will be modified.
                out (c),a       ;#fffd + register.
                ENDIF
                                        IFDEF PLY_CFG_UseRetrig         ;CONFIG SPECIFIC
                IFNDEF PLY_AKG_Rom
        PLY_AKG_PSGReg13_OldValue: ld a,255
        PLY_AKG_Retrig: or 0                    ;0 = no retrig. Else, should be >0xf to be sure the old value becomes a sentinel (i.e. unreachable) value.
        PLY_AKG_PSGReg13_Instr: ld l,0          ;Register 13.
                ELSE
                ld a,(PLY_AKG_PSGReg13_Instr)
                ld l,a
                ld a,(PLY_AKG_Retrig)
                ld h,a
                ld a,(PLY_AKG_PSGReg13_OldValue)
                or h
                ENDIF
                cp l                            ;Is the new value still the same? If yes, the new value must not be set again.
                jr z,PLY_AKG_PSGReg13_End
                ;Different R13.
                ld a,l
                                        ELSE ;PLY_CFG_UseRetrig
                IFNDEF PLY_AKG_Rom
        PLY_AKG_PSGReg13_Instr: ld a,0          ;Register 13.
        PLY_AKG_PSGReg13_OldValue: cp 255
                ELSE
                ld a,(PLY_AKG_PSGReg13_OldValue)
                ld l,a
                ld a,(PLY_AKG_PSGReg13_Instr)
                cp l
                ENDIF
                jr z,PLY_AKG_PSGReg13_End
                                        ENDIF ;PLY_CFG_UseRetrig         ;CONFIG SPECIFIC
                ld (PLY_AKG_PSGReg13_OldValue + PLY_AKG_Offset1b),a

                
                IFDEF PLY_AKG_HARDWARE_CPC
                inc c
                out (c),c                       ;#f400 + register.
                exx
                        out (c),0               ;#f600.
                exx
                out (c),a                       ;#f400 + value.
                exx
                        out (c),c               ;#f680.
                        out (c),e               ;#f6c0.
                ;exx
                
                ENDIF
                IFDEF PLY_AKG_HARDWARE_MSX
                out (#a1),a     ;Value.
                ENDIF
                IFDEF PLY_AKG_HARDWARE_SPECTRUM_OR_PENTAGON
                ld b,d
                out (c),a       ;#bffd + value
                
                ENDIF
                                        IFDEF PLY_CFG_UseRetrig         ;CONFIG SPECIFIC
                xor a
                ld (PLY_AKG_Retrig + PLY_AKG_Offset1b),a
                                        ENDIF ;PLY_CFG_UseRetrig
        PLY_AKG_PSGReg13_End:
                                ENDIF ;PLY_CFG_UseHardwareSounds
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_SaveSP: ld sp,0
                ELSE
                ld sp,(PLY_AKG_SaveSp)
                ENDIF
                
                ret
                













        ;Channel1/2/3 sub-codes. Uses a macro to mutualize the code.
        ;-----------------------------------------------------------

                MACRO PLY_AKG_ChannelSubcodes channelNumber

        PLY_AKG_Channel{channelNumber}_MaybeEffects:
                ;There is one wait in all cases.
                ;xor a                  ;A is supposed to be 0.
                ld (PLY_AKG_Channel{channelNumber}_WaitCounter + PLY_AKG_Offset1b),a
                                IFNDEF PLY_CFG_UseEffects                ;CONFIG SPECIFIC
                jp PLY_AKG_Channel{channelNumber}_BeforeEnd_StoreCellPointer
                                ELSE
                bit 6,c         ;Effects?
                jp z,PLY_AKG_Channel{channelNumber}_BeforeEnd_StoreCellPointer
                ;Manage effects.
                
        ;Reads the effects.
        ;IN:    HL = Points on the effect blocks
        ;OUT:   HL = Points after on the effect blocks
        PLY_AKG_Channel{channelNumber}_ReadEffects:
                ld iy,PLY_AKG_Channel{channelNumber}_SoundStream_RelativeModifierAddress
                ld ix,PLY_AKG_Channel{channelNumber}_PlayInstrument_RelativeModifierAddress
                ld de,PLY_AKG_Channel{channelNumber}_BeforeEnd_StoreCellPointer
                ;Only adds a jump if this is not the last channel, as the code only need to jump below.
                if {channelNumber} != 3
                        jr PLY_AKG_Channel_ReadEffects
                endif
                                ENDIF ;PLY_CFG_UseEffects
        PLY_AKG_Channel{channelNumber}_ReadEffectsEnd:
                ENDM ;PLY_AKG_ChannelSubcodes

                ;Generates the code thanks to the macro declare above.
                PLY_AKG_ChannelSubcodes 1
                PLY_AKG_ChannelSubcodes 2
                PLY_AKG_ChannelSubcodes 3

                ;** NO CODE between the code above and below! **
                            
                                IFDEF PLY_CFG_UseEffects                ;CONFIG SPECIFIC
        ;IN:    HL = Points on the effect blocks
        ;       DE = Where to go to when over.
        ;       IX = Address from which the data of the instrument are modified.
        ;       IY = Address from which data of the channels (pitch, volume, etc) are modified.
        ;OUT:   HL = Points after on the effect blocks
        PLY_AKG_Channel_ReadEffects:
                assert $ == PLY_AKG_Channel3_ReadEffectsEnd             ;Makes sure this code is directly below the one above.
                
                IFNDEF PLY_AKG_Rom
                        ld (PLY_AKG_Channel_ReadEffects_EndJump + PLY_AKG_Offset1b),de
                ELSE
                        ld (PLY_AKG_Channel_ReadEffects_EndJumpInstrAndAddress + 1),de
                ENDIF
                ;HL will be very useful, so we store the pointer in DE.
                ex de,hl

                ;Reads the effect block. It may be an index or a relative address.        
                ld a,(de)
                inc de
                sla a
                jr c,PLY_AKG_Channel_ReadEffects_RelativeAddress
                ;Index.
                exx
                        ld l,a
                        ld h,0

                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_Channel_ReadEffects_EffectBlocks1: ld de,0
                ELSE
                ld de,(PLY_AKG_Channel_ReadEffects_EffectBlocks1)
                ENDIF
                        add hl,de               ;The index is already *2.
                        ld e,(hl)               ;Gets the address referred by the table.
                        inc hl
                        ld d,(hl)
        PLY_AKG_Channel_RE_EffectAddressKnown:
                        ;DE points on the current effect block header/data.
                        ld a,(de)               ;Gets the effect number/more effect flag.
                        inc de
                        ld (PLY_AKG_Channel_RE_ReadNextEffectInBlock + PLY_AKG_Offset1b),a     ;Stores the flag indicating whether there are more effects.
                        
                        ;Gets the effect number.
                        and %11111110
                        ld l,a
                        ld h,0
                        ld sp,PLY_AKG_EffectTable
                        add hl,sp                ;Effect is already * 2.
                        ld sp,hl                ;Jumps to the effect code.
                        ret
                        ;All the effects return here.
        PLY_AKG_Channel_RE_EffectReturn:
                        ;Is there another effect?
                IFNDEF PLY_AKG_Rom
        PLY_AKG_Channel_RE_ReadNextEffectInBlock: ld a,0                ;Bit 0 indicates whether there are more effects.
                ELSE
                        ld a,(PLY_AKG_Channel_RE_ReadNextEffectInBlock)
                ENDIF
                        rra
                        jr c,PLY_AKG_Channel_RE_EffectAddressKnown
                        ;No more effects.
                exx
                
                ;Put back in HL the point on the Track Cells.
                ex de,hl
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_Channel_ReadEffects_EndJump: jp 0        ;PLY_AKG_Channel1/2/3_BeforeEnd_StoreCellPointer
                ELSE
                jp PLY_AKG_Channel_ReadEffects_EndJumpInstrAndAddress
                ENDIF

        PLY_AKG_Channel_ReadEffects_RelativeAddress:
                srl a           ;A was the relative MSB. Only 7 relevant bits.
                exx
                        ld h,a
                exx
                ld a,(de)       ;Reads the relative LSB.
                inc de
                exx
                        ld l,a
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_Channel_ReadEffects_EffectBlocks2: ld de,0
                ELSE
                ld de,(PLY_AKG_Channel_ReadEffects_EffectBlocks1)       ;In ROM, reads the first value, it is the same. Duplicating it is only an optimization for RAM player to avoid reading memory.
                ENDIF
                        add hl,de
                        jr PLY_AKG_Channel_RE_EffectAddressKnown
                                ENDIF ;PLY_CFG_UseEffects





        ;---------------------------------
        ;Codes that read InstrumentCells.
        ;IN:    HL = pointer on the Instrument data cell to read.
        ;       IX = can be modified.
        ;       IYL = Instrument step (>=0). Useful for retrig.
        ;       SP = normal use of the stack, do not pervert it!
        ;       D = register 7, as if it was the channel 3 (so, bit 2 and 5 filled only).
        ;             By default, the noise is OFF, the sound is ON, so no need to do anything if these values match.
        ;       E = inverted volume.
        ;       A = SET BELOW: first byte of the data, shifted of 3 bits to the right.
        ;       B = SET BELOW: first byte of the data, unmodified.
        ;       HL'' = track pitch.
        ;       DE'' = 0 / note (instrument + Track transposition).
        ;       BC'' = temp, use at will.

        ;OUT:   HL = new pointer on the Instrument (may be on the empty sound). If not relevant, any value can be returned, it doesn''t matter.
        ;       IYL = Not 0 if retrig for this channel.
        ;       D = register 7, updated, as if it was the channel 1 (so, bit 2 and 5 filled only).
        ;       E = volume to encode (0-16).
        ;       HL'' = software period. If not relevant, do not set it.
        ;       DE'' = output period.

        PLY_AKG_BitForSound: equ 2
        PLY_AKG_BitForNoise: equ 5


        PLY_AKG_ReadInstrumentCell:
                ld a,(hl)               ;Gets the first byte of the cell.
                inc hl
                ld b,a                  ;Stores the first byte, handy in many cases.
                
                ;What type if the cell?
                rra
                jp c,PLY_AKG_S_Or_H_Or_SaH_Or_EndWithLoop
                ;No Soft No Hard, or Soft To Hard, or Hard To Soft, or End without loop.
                rra
                IFNDEF PLY_AKG_Rom
                        jr c,PLY_AKG_StH_Or_EndWithoutLoop
                ELSE
                        jp c,PLY_AKG_StH_Or_EndWithoutLoop
                ENDIF
                ;No Soft No Hard, or Hard to Soft.
                rra
                                IFDEF PLY_CFG_HardToSoft       ;CONFIG SPECIFIC
                jr c,PLY_AKG_HardToSoft
                                ENDIF ;PLY_CFG_HardToSoft
                
                
                
                
                
                
                ;-------------------------------------------------
                ;"No soft, no hard".
                ;-------------------------------------------------
        PLY_AKG_NoSoftNoHard:
                and %1111               ;Necessary, we don''t know what crap is in the 4th bit of A.
                sub e                   ;Decreases the volume, watching for overflow.
                jr nc,$ + 3
                xor a
                
                ld e,a                  ;Sets the volume.

                                IFDEF PLY_CFG_NoSoftNoHard_Noise                ;CONFIG SPECIFIC
                rl b            ;Noise?
                jr nc,PLY_AKG_NSNH_NoNoise
                ;Noise.
                ld a,(hl)
                inc hl
                ld (PLY_AKG_PSGReg6),a
                set PLY_AKG_BitForSound,d      ;Noise, no sound (both non-default values).
                res PLY_AKG_BitForNoise,d
                ret
        PLY_AKG_NSNH_NoNoise:
                                ENDIF ;PLY_CFG_NoSoftNoHard_Noise
                set PLY_AKG_BitForSound,d      ;No noise (default), no sound.
                ret







                ;-------------------------------------------------
                ;"Soft only".
                ;-------------------------------------------------
                                IFDEF PLY_CFG_SoftOnly          ;CONFIG SPECIFIC
        PLY_AKG_Soft:
                ;Calculates the volume.
                and %1111               ;Necessary, we don''t know what crap is in the 4th bit of A.
                
                sub e                   ;Decreases the volume, watching for overflow.
                jr nc,$ + 3             ;Checks for overflow.
                xor a
            
                ld e,a                  ;Sets the volume.
                                ENDIF ;PLY_CFG_SoftOnly
                                IFDEF PLY_AKG_UseSoftOnlyOrHardOnly     ;CONFIG SPECIFIC
        PLY_AKG_SoftOnly_HardOnly_TestSimple_Common:        ;This code is also used by "Hard only".
                ;Simple sound? Gets the bit, let the subroutine do the job.
                rl b
                jr nc,PLY_AKG_S_NotSimple
                ;Simple.
                ld c,0                  ;This will force the noise to 0.
                jr PLY_AKG_S_AfterSimpleTest
        PLY_AKG_S_NotSimple:
                ;Not simple. Reads and keeps the next byte, containing the noise. WARNING, the following code must NOT modify the Carry!
                ld b,(hl)
                ld c,b
                inc hl
        PLY_AKG_S_AfterSimpleTest:

                call PLY_AKG_S_Or_H_CheckIfSimpleFirst_CalculatePeriod
                
                                        IFDEF PLY_AKG_UseSoftOnlyOrHardOnly_Noise       ;CONFIG SPECIFIC
                ;Noise?
                ld a,c
                and %11111
                ret z                                   ;if noise not present, sound present, we can stop here, R7 is fine.
                ;Noise is present.
                ld (PLY_AKG_PSGReg6),a
                res PLY_AKG_BitForNoise,d               ;Noise present.
                                        ENDIF ;PLY_AKG_UseSoftOnlyOrHardOnly_Noise
                ret
                                ENDIF ;PLY_AKG_UseSoftOnlyOrHardOnly
                




                ;-------------------------------------------------
                ;"Hard to soft".
                ;-------------------------------------------------
                                IFDEF PLY_CFG_HardToSoft       ;CONFIG SPECIFIC
        PLY_AKG_HardToSoft:
                call PLY_AKG_StoH_HToS_SandH_Common
                ;We have the ratio jump calculated and the primary period too. It must be divided to get the software frequency.
                
                IFNDEF PLY_AKG_Rom
                ld (PLY_AKG_HS_JumpRatio + 1),a
                ELSE
                ;Stores where to jump after the JumpRatio label. Only BC'' is free...
                exx
                        ld bc,PLY_AKG_HS_JumpRatio
                        add a,c
                        ld c,a
                        ld a,b
                        adc a,0
                        ld b,a
                        ld (PLY_AKG_TempPlayInstrumentJumpInstrAndAddress + 1),bc         ;The first byte has a jump.
                exx
                ENDIF
                
                ;Gets B, we need the bit to know if a software pitch shift is added.
                                        IFDEF PLY_CFG_HardToSoft_SoftwarePitch  ;CONFIG SPECIFIC
                ld a,b
                                        ENDIF ;PLY_CFG_HardToSoft_SoftwarePitch
                exx
                        ;The hardware period can be stored.
                        ld (PLY_AKG_PSGHardwarePeriod_Instr + PLY_AKG_Offset1b),hl
                IFNDEF PLY_AKG_Rom
        PLY_AKG_HS_JumpRatio: jr $ + 2               ;Automodified by the line above to jump on the right code.
                ELSE
                        jp PLY_AKG_TempPlayInstrumentJumpInstrAndAddress        ;If ROM, jumps to the buffer, it will jump back just after according to the ratio.
        PLY_AKG_HS_JumpRatio:
                ENDIF
                        sla l
                        rl h
                        sla l
                        rl h
                        sla l
                        rl h
                        sla l
                        rl h
                        sla l
                        rl h
                        sla l
                        rl h
                        sla l
                        rl h
                        ;Any Software pitch shift?
                                        IFDEF PLY_CFG_HardToSoft_SoftwarePitch  ;CONFIG SPECIFIC
                        rla
                        jr nc,PLY_AKG_SH_NoSoftwarePitchShift
        ;Pitch shift. Reads it.
                exx
                ld a,(hl)
                inc hl
                exx
                        add a,l
                        ld l,a
                exx
                ld a,(hl)
                inc hl
                exx
                        adc a,h
                        ld h,a        
        PLY_AKG_SH_NoSoftwarePitchShift:
                                        ENDIF ;PLY_CFG_HardToSoft_SoftwarePitch
                exx
                
                ret
                                ENDIF ;PLY_CFG_HardToSoft
                


                ;-------------------------------------------------
                ;End without loop. Put here to satisfy the JR range below.
                ;-------------------------------------------------
        PLY_AKG_EndWithoutLoop:
                ;Loops to the "empty" instrument, and makes another iteration.
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_EmptyInstrumentDataPt: ld hl,0
                ELSE
                ld hl,(PLY_AKG_EmptyInstrumentDataPt)
                ENDIF
                ;No need to read the data, consider a void value.
                inc hl
                xor a
                ld b,a
                IFNDEF PLY_AKG_Rom
                        jr PLY_AKG_NoSoftNoHard
                ELSE
                        jp PLY_AKG_NoSoftNoHard
                ENDIF
                
                
                
                ;-----------------------------------------
        PLY_AKG_StH_Or_EndWithoutLoop:
                rra
                                IFNDEF PLY_CFG_SoftToHard                ;CONFIG SPECIFIC
                jr PLY_AKG_EndWithoutLoop
                                ELSE
                jr c,PLY_AKG_EndWithoutLoop
                
                ;-------------------------------------------------
                ;"Soft to Hard".
                ;-------------------------------------------------
                                
                call PLY_AKG_StoH_HToS_SandH_Common
                ;We have the ratio jump calculated and the primary period too. It must be divided to get the hardware frequency.

                IFNDEF PLY_AKG_Rom
                ld (PLY_AKG_SH_JumpRatio + 1),a
                ELSE
                ;Stores where to jump after the JumpRatio label. Only BC'' is free...
                exx
                        ld bc,PLY_AKG_SH_JumpRatio
                        add a,c
                        ld c,a
                        ld a,b
                        adc a,0
                        ld b,a
                        ld (PLY_AKG_TempPlayInstrumentJumpInstrAndAddress + 1),bc         ;The first byte has a jump.
                exx
                ENDIF
                
                ;Gets B, we need the bit to know if a hardware pitch shift is added.
                                        IFDEF PLY_CFG_SoftToHard_HardwarePitch          ;CONFIG SPECIFIC
                ld a,b
                                        ENDIF ;PLY_CFG_SoftToHard_HardwarePitch
                exx
                        ;Saves the original frequency in DE.
                        ld e,l
                        ld d,h
                IFNDEF PLY_AKG_Rom
        PLY_AKG_SH_JumpRatio: jr $ + 2               ;Automodified by the line above to jump on the right code.
                ELSE
                        jp PLY_AKG_TempPlayInstrumentJumpInstrAndAddress        ;If ROM, jumps to the buffer, it will jump back just after according to the ratio.
        PLY_AKG_SH_JumpRatio:
                ENDIF
                        srl h
                        rr l
                        srl h
                        rr l
                        srl h
                        rr l
                        srl h
                        rr l
                        srl h
                        rr l
                        srl h
                        rr l
                        srl h
                        rr l
                        jr nc,PLY_AKG_SH_JumpRatioEnd
                        inc hl
        PLY_AKG_SH_JumpRatioEnd:
                                        IFDEF PLY_CFG_SoftToHard_HardwarePitch          ;CONFIG SPECIFIC
                        ;Any Hardware pitch shift?
                        rla
                        jr nc,PLY_AKG_SH_NoHardwarePitchShift
                        ;Pitch shift. Reads it.
                exx
                ld a,(hl)
                inc hl
                exx
                        add a,l
                        ld l,a
                exx
                ld a,(hl)
                inc hl
                exx
                        adc a,h
                        ld h,a        
        PLY_AKG_SH_NoHardwarePitchShift:
                                        ENDIF ;PLY_CFG_SoftToHard_HardwarePitch
                        ld (PLY_AKG_PSGHardwarePeriod_Instr + PLY_AKG_Offset1b),hl
                        
                        ;Put back the frequency in HL.
                        ex de,hl
                exx
                
                ret
                                ENDIF ;PLY_CFG_SoftToHard
                
                
                
            
        PLY_AKG_S_Or_H_Or_SaH_Or_EndWithLoop:
                ;Second bit of the type.
                rra
                jr c,PLY_AKG_H_Or_EndWithLoop
                ;Third bit of the type.
                rra
                                IFDEF PLY_CFG_SoftOnly          ;CONFIG SPECIFIC
                jp nc,PLY_AKG_Soft
                                ENDIF ;PLY_CFG_SoftOnly
                
                                IFDEF PLY_CFG_SoftAndHard       ;CONFIG SPECIFIC
                ;-------------------------------------------------
                ;"Soft and Hard".
                ;-------------------------------------------------
                exx
                        push hl         ;Saves the note and track pitch, because the first pass below will modify it, we need it for the second pass.
                        push de
                exx
                
                call PLY_AKG_StoH_HToS_SandH_Common
                ;We have now calculated the hardware frequency. Stores it.
                exx
                        ld (PLY_AKG_PSGHardwarePeriod_Instr + PLY_AKG_Offset1b),hl
                        
                        pop de          ;Get back the note and track pitch for the second pass.
                        pop hl
                exx
                
                
                ;Now calculate the software frequency.
                rl b            ;Simple sound? Used by the sub-code.
                jp PLY_AKG_S_Or_H_CheckIfSimpleFirst_CalculatePeriod    ;That''s all!
                                ENDIF ;PLY_CFG_SoftAndHard
                        
                
                

                
        PLY_AKG_H_Or_EndWithLoop:
                                IFDEF PLY_CFG_HardOnly          ;CONFIG SPECIFIC
                ;Third bit of the type. Only used for HardOnly, not in case of EndWithLoop.
                rra
                                        IFDEF PLY_CFG_UseInstrumentLoopTo       ;CONFIG SPECIFIC
                ;Ok to remove this jump if PLY_CFG_HardOnly variable absent, it will directly go to the code below.
                jr c,PLY_AKG_EndWithLoop
                                        ENDIF

                ;-------------------------------------------------
                ;"Hard only".
                ;-------------------------------------------------
                
                ld e,16                 ;Sets the hardware volume.

                ;Retrig?
                rra
                                        IFDEF PLY_CFG_HardOnly_Retrig           ;CONFIG SPECIFIC
                jr nc,PLY_AKG_H_AfterRetrig
                ld c,a
                ;Retrig is only set if we are on the first step of the instrument!
                ld a,iyl
                or a
                jr nz,PLY_AKG_H_RetrigEnd
                ld a,e
                ld (PLY_AKG_Retrig + PLY_AKG_Offset1b),a
        PLY_AKG_H_RetrigEnd:
                ld a,c
        PLY_AKG_H_AfterRetrig:
                                        ENDIF ;PLY_CFG_HardOnly_Retrig

                ;Calculates the hardware envelope. The value given is from 8-15, but encoded as 0-7.
                and %111
                add a,8
                ld (PLY_AKG_PSGReg13_Instr + PLY_AKG_Offset1b),a

                ;Use the code of Soft Only to calculate the period and the noise.
                call PLY_AKG_SoftOnly_HardOnly_TestSimple_Common

                ;The period is actually an hardware period. We don''t care about the software period, the sound channel is cut.
                exx
                        ld (PLY_AKG_PSGHardwarePeriod_Instr + PLY_AKG_Offset1b),hl
                exx
                
                ;Stops the sound.
                set PLY_AKG_BitForSound,d

                ret
                                ENDIF ;PLY_CFG_HardOnly
                
                ;** WARNING! ** Do not put instructions here between HardOnly and EndWithLoop, else conditional assembling will fail.
                
                ;-------------------------------------------------
                ;End with loop.
                ;-------------------------------------------------
                                IFDEF PLY_CFG_UseInstrumentLoopTo       ;CONFIG SPECIFIC
        PLY_AKG_EndWithLoop:
                ;Loops to the encoded pointer, and makes another iteration.
                ld a,(hl)
                inc hl
                ld h,(hl)
                ld l,a
                jp PLY_AKG_ReadInstrumentCell
                                ENDIF ;PLY_CFG_UseInstrumentLoopTo
                                



            
        ;Common code for calculating the period, regardless of Soft or Hard. The same register constraints as the methods above apply.
        ;IN:    HL = the next bytes to read.
        ;       HL'' = note + transposition.
        ;       B = contains three bits:
        ;               b7: forced period? (if yes, the two other bits are irrelevant)
        ;               b6: arpeggio?
        ;               b5: pitch?
        ;       C = do not modify.
        ;       Carry: Simple sound?
        ;OUT:   B = shift three times to the left.
        ;       C = unmodified.
        ;       HL = advanced.
        ;       HL'' = calculated period.
        PLY_AKG_S_Or_H_CheckIfSimpleFirst_CalculatePeriod:

                ;Simple sound? Checks the carry.
                                IFDEF PLY_AKG_UseInstrumentForcedPeriodsOrArpeggiosOrPitchs     ;CONFIG SPECIFIC
                jr nc,PLY_AKG_S_Or_H_NextByte
                                ENDIF ;PLY_AKG_UseInstrumentForcedPeriodsOrArpeggiosOrPitchs
                ;No more bytes to read, the sound is "simple". The software period must still be calculated.
                ;Calculates the note period from the note of the track. This is the same code as below.
                exx
                        ex de,hl                        ;Now HL = track note + transp, DE is track pitch.
                        add hl,hl
                        ld bc,PLY_AKG_PeriodTable
                        add hl,bc
                
                        ld a,(hl)
                        inc hl
                        ld h,(hl)
                        ld l,a
                        add hl,de                       ;Adds the track pitch.
                exx
                ;Important: the bits must be shifted so that B is in the same state as if it were not a "simple" sound.
                rl b
                rl b
                rl b
                ;No need to modify R7.
                ret
                
                                IFDEF PLY_AKG_UseInstrumentForcedPeriodsOrArpeggiosOrPitchs     ;CONFIG SPECIFIC
        PLY_AKG_S_Or_H_NextByte:
                ;Not simple. Reads the next bits to know if there is pitch/arp/forced software period.        
                ;Forced period?
                rl b
                                IFDEF PLY_AKG_UseInstrumentForcedPeriods          ;CONFIG SPECIFIC
                jr c,PLY_AKG_S_Or_H_ForcedPeriod
                                ENDIF ;PLY_AKG_UseInstrumentForcedPeriods
                ;No forced period. Arpeggio?
                rl b
                                IFDEF PLY_AKG_UseInstrumentArpeggios              ;CONFIG SPECIFIC
                jr nc,PLY_AKG_S_Or_H_AfterArpeggio
                ld a,(hl)
                inc hl
                exx
                        add a,e                         ;We don''t care about overflow, no time for that.
                        ld e,a
                exx
        PLY_AKG_S_Or_H_AfterArpeggio:
                                ENDIF ;PLY_AKG_UseInstrumentArpeggios
                ;Pitch?
                rl b
                                IFDEF PLY_AKG_UseInstrumentPitchs                 ;CONFIG SPECIFIC
                jr nc,PLY_AKG_S_Or_H_AfterPitch
                ;Reads the pitch. Slow, but shouldn''t happen so often.
                ld a,(hl)
                inc hl
                exx
                        add a,l
                        ld l,a                          ;Adds the cell pitch to the track pitch, in two passes.
                exx
                ld a,(hl)
                inc hl
                exx
                        adc a,h
                        ld h,a
                exx
        PLY_AKG_S_Or_H_AfterPitch:
                                ENDIF ;PLY_AKG_UseInstrumentPitchs
                
                ;Calculates the note period from the note of the track.
                exx
                        ex de,hl                        ;Now HL = track note + transp, DE is track pitch.
                        add hl,hl
                        ld bc,PLY_AKG_PeriodTable
                        add hl,bc
                        
                        ld a,(hl)
                        inc hl
                        ld h,(hl)
                        ld l,a
                        add hl,de                       ;Adds the track pitch.
                exx

                ret
                                ENDIF ;PLY_AKG_UseInstrumentForcedPeriodsOrArpeggiosOrPitchs


                                IFDEF PLY_AKG_UseInstrumentForcedPeriods          ;CONFIG SPECIFIC
        PLY_AKG_S_Or_H_ForcedPeriod:
                ;Reads the period. A bit slow, but doesn''t happen often.
                ld a,(hl)
                inc hl
                exx
                        ld l,a
                exx
                ld a,(hl)
                inc hl
                exx
                        ld h,a
                exx

                ;The pitch and arpeggios have been skipped, since the period is forced, the bits must be compensated.
                rl b
                rl b
                ret
                                ENDIF ;PLY_AKG_UseInstrumentForcedPeriods
                
                ;------------------------------------------------------------------
        ;Common code for SoftToHard and HardToSoft, and even Soft And Hard. The same register constraints as the methods above apply.
        ;OUT:   HL'' = frequency.
        ;       A = shifted inverted ratio (xxx000), ready to be used in a JR to multiply/divide the frequency.
        ;       B = bit states, shifted four times to the left (for StoH/HtoS, the msb will be "pitch shift?") (hardware for SoftTohard, software for HardToSoft).
                                IFDEF PLY_CFG_UseHardwareSounds                 ;CONFIG SPECIFIC
        PLY_AKG_StoH_HToS_SandH_Common:
                ld e,16                 ;Sets the hardware volume.

                ;Retrig?
                rra
                                        IFDEF PLY_AKG_UseRetrig_StoH_HtoS_SandH         ;CONFIG SPECIFIC
                jr nc,PLY_AKG_SHoHS_AfterRetrig
                ld c,a
                ;Retrig is only set if we are on the first step of the instrument!
                ld a,iyl
                or a
                jr nz,PLY_AKG_SHoHS_RetrigEnd
                dec a
                ld (PLY_AKG_Retrig + PLY_AKG_Offset1b),a
        PLY_AKG_SHoHS_RetrigEnd:
                ld a,c
        PLY_AKG_SHoHS_AfterRetrig:
                                        ENDIF ;PLY_AKG_UseRetrig_StoH_HtoS_SandH

                ;Calculates the hardware envelope. The value given is from 8-15, but encoded as 0-7.
                and %111
                add a,8
                ld (PLY_AKG_PSGReg13_Instr + PLY_AKG_Offset1b),a
                
                ;Noise? If yes, reads the next byte.
                rl b
                                        IFDEF PLY_AKG_UseNoise_StoH_HtoS_SandH          ;CONFIG SPECIFIC
                jr nc,PLY_AKG_SHoHS_AfterNoise
                ;Noise is present.
                ld a,(hl)
                inc hl
                ld (PLY_AKG_PSGReg6),a
                res PLY_AKG_BitForNoise, d              ;Noise present.
        PLY_AKG_SHoHS_AfterNoise:
                                        ENDIF ;PLY_AKG_UseNoise_StoH_HtoS_SandH

                ;Read the next data byte.
                ld c,(hl)               ;C = ratio, kept for later.
                ld b,c
                inc hl
                
                rl b                    ;Simple (no need to test the other bits)? The carry is transmitted to the called code below.
                ;Call another common subcode.
                call PLY_AKG_S_Or_H_CheckIfSimpleFirst_CalculatePeriod
                ;Let''s calculate the hardware frequency from it.
                ld a,c                  ;Gets the ratio.
                rla
                rla
                and %11100
                
                ret
                                ENDIF ;PLY_CFG_UseHardwareSounds
                

                




                
        ; -----------------------------------------------------------------------------------
        ; Effects management.
        ; -----------------------------------------------------------------------------------
                                IFDEF PLY_CFG_UseEffects                ;CONFIG SPECIFIC
        ;All the effects code.
        PLY_AKG_EffectTable:
        dkps (void):    ;Disark macro.
                                IFDEF PLY_CFG_UseEffect_Reset           ;CONFIG SPECIFIC
                dw PLY_AKG_Effect_ResetFullVolume                               ;0
                dw PLY_AKG_Effect_Reset                                         ;1
                                ELSE
                        dw 0
                        dw 0
                                ENDIF ;PLY_CFG_UseEffect_Reset
                
                                IFDEF PLY_CFG_UseEffect_SetVolume       ;CONFIG SPECIFIC
                dw PLY_AKG_Effect_Volume                                        ;2
                                ELSE
                        dw 0
                                ENDIF ;PLY_CFG_UseEffect_SetVolume
                                
                                IFDEF PLY_AKS_UseEffect_Arpeggio        ;CONFIG SPECIFIC
                dw PLY_AKG_Effect_ArpeggioTable                                 ;3
                dw PLY_AKG_Effect_ArpeggioTableStop                             ;4
                                ELSE
                        dw 0
                        dw 0
                                ENDIF ;PLY_AKS_UseEffect_Arpeggio
                                IFDEF PLY_CFG_UseEffect_PitchTable              ;CONFIG SPECIFIC
                dw PLY_AKG_Effect_PitchTable                                    ;5
                dw PLY_AKG_Effect_PitchTableStop                                ;6
                                ELSE
                        dw 0
                        dw 0
                                ENDIF ;PLY_CFG_UseEffect_PitchTable
                                IFDEF PLY_AKG_UseEffect_VolumeSlide     ;CONFIG SPECIFIC
                dw PLY_AKG_Effect_VolumeSlide                                   ;7
                dw PLY_AKG_Effect_VolumeSlideStop                               ;8
                                ELSE
                        dw 0
                        dw 0
                                ENDIF ;PLY_AKG_UseEffect_VolumeSlide
                
                                IFDEF PLY_CFG_UseEffect_PitchUp         ;CONFIG SPECIFIC
                dw PLY_AKG_Effect_PitchUp                                       ;9
                                ELSE
                        dw 0
                                ENDIF ;PLY_CFG_UseEffect_PitchUp
                                IFDEF PLY_CFG_UseEffect_PitchDown        ;CONFIG SPECIFIC
                dw PLY_AKG_Effect_PitchDown                                     ;10
                                ELSE
                        dw 0
                                ENDIF ;PLY_CFG_UseEffect_PitchDown
                                
                                IFDEF PLY_AKS_UseEffect_PitchUpOrDownOrGlide    ;CONFIG SPECIFIC
                dw PLY_AKG_Effect_PitchStop                                     ;11
                                ELSE
                        dw 0
                                ENDIF ;PLY_AKS_UseEffect_PitchUpOrDownOrGlide
                                
                                IFDEF PLY_CFG_UseEffect_PitchGlide              ;CONFIG SPECIFIC
                dw PLY_AKG_Effect_GlideWithNote                                 ;12
                dw PLY_AKG_Effect_GlideSpeed                                    ;13
                                ELSE
                        dw 0
                        dw 0
                                ENDIF ;PLY_CFG_UseEffect_PitchGlide
                
                
                                IFDEF PLY_CFG_UseEffect_Legato          ;CONFIG SPECIFIC
                dw PLY_AKG_Effect_Legato                                        ;14
                                ELSE
                        dw 0
                                ENDIF ;PLY_CFG_UseEffect_Legato

                                IFDEF PLY_CFG_UseEffect_ForceInstrumentSpeed            ;CONFIG SPECIFIC
                dw PLY_AKG_Effect_ForceInstrumentSpeed                          ;15
                                ELSE
                        dw 0
                                ENDIF ;PLY_CFG_UseEffect_ForceInstrumentSpeed
                                
                                IFDEF PLY_CFG_UseEffect_ForceArpeggioSpeed              ;CONFIG SPECIFIC
                dw PLY_AKG_Effect_ForceArpeggioSpeed                            ;16
                                ELSE
                        dw 0
                                ENDIF ;PLY_CFG_UseEffect_ForceArpeggioSpeed
                                
                                IFDEF PLY_CFG_UseEffect_ForcePitchTableSpeed    ;CONFIG SPECIFIC
                dw PLY_AKG_Effect_ForcePitchSpeed                               ;17
                                ENDIF ;PLY_CFG_UseEffect_ForcePitchTableSpeed
                                ;Last effect: no need to use padding with dw.
        dkpe (void):    ;Disark macro.
                
        ;Effects.
        ;----------------------------------------------------------------
        ;For all effects:
        ;IN:    DE'' = Points on the data of this effect.
        ;       IX = Address from which the data of the instrument are modified.
        ;       IY = Address from which the data of the channels (pitch, volume, etc) are modified.
        ;       HL = Must NOT be modified.
        ;       WARNING, we are on auxiliary registers!

        ;       SP = Can be modified at will.

        ;OUT:   DE'' = Points after on the data of this effect.
        ;       WARNING, remains on auxiliary registers!
        ;----------------------------------------------------------------

                                IFDEF PLY_CFG_UseEffect_Reset           ;CONFIG SPECIFIC
        PLY_AKG_Effect_ResetFullVolume:
                xor a           ;The inverted volume is 0 (full volume).
                jr PLY_AKG_Effect_ResetVolume_AfterReading
                
        PLY_AKG_Effect_Reset:
                ld a,(de)       ;Reads the inverted volume.
                inc de
        PLY_AKG_Effect_ResetVolume_AfterReading:
                ld (iy + PLY_AKG_Channel1_InvertedVolumeInteger - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress),a
                
                ;The current pitch is reset.
                                IFDEF PLY_AKS_UseEffect_PitchUpOrDownOrGlide        ;CONFIG SPECIFIC
                xor a
                ld (iy + PLY_AKG_Channel1_Pitch - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + PLY_AKG_Offset1b),a
                ld (iy + PLY_AKG_Channel1_Pitch - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + PLY_AKG_Offset1b + 1),a
                                ENDIF ;PLY_AKS_UseEffect_PitchUpOrDownOrGlide

                ld a,PLY_AKG_OPCODE_OR_A
                                IFDEF PLY_AKS_UseEffect_PitchUpOrDownOrGlide        ;CONFIG SPECIFIC
                ld (iy + PLY_AKG_Channel1_IsPitch - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress),a
                                ENDIF ;PLY_AKS_UseEffect_PitchUpOrDownOrGlide
                                IFDEF PLY_CFG_UseEffect_PitchTable              ;CONFIG SPECIFIC
                ld (iy + PLY_AKG_Channel1_IsPitchTable - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress),a
                                ENDIF ;PLY_CFG_UseEffect_PitchTable
                                IFDEF PLY_AKS_UseEffect_Arpeggio        ;CONFIG SPECIFIC
                ld (iy + PLY_AKG_Channel1_IsArpeggioTable - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress),a
                                ENDIF ;PLY_AKS_UseEffect_Arpeggio
                                IFDEF PLY_AKG_UseEffect_VolumeSlide             ;CONFIG SPECIFIC
                ld (iy + PLY_AKG_Channel1_IsVolumeSlide - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress),a
                                ENDIF ;PLY_AKG_UseEffect_VolumeSlide
                jp PLY_AKG_Channel_RE_EffectReturn
                                ENDIF ;PLY_CFG_UseEffect_Reset
                                
                                

                                IFDEF PLY_CFG_UseEffect_SetVolume       ;CONFIG SPECIFIC
        PLY_AKG_Effect_Volume:
                ld a,(de)       ;Reads the inverted volume.
                inc de
                
                ld (iy + PLY_AKG_Channel1_InvertedVolumeInteger - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress),a
                
                                IFDEF PLY_AKG_UseEffect_VolumeSlide     ;CONFIG SPECIFIC
                ld (iy + PLY_AKG_Channel1_IsVolumeSlide - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress),PLY_AKG_OPCODE_OR_A
                                ENDIF ;PLY_AKG_UseEffect_VolumeSlide
                jp PLY_AKG_Channel_RE_EffectReturn
                                ENDIF ;PLY_CFG_UseEffect_SetVolume
                
                
                                IFDEF PLY_AKS_UseEffect_Arpeggio        ;CONFIG SPECIFIC
        PLY_AKG_Effect_ArpeggioTable:
                ld a,(de)       ;Reads the arpeggio table index.
                inc de
                
                ;Finds the address of the Arpeggio.
                ld l,a
                ld h,0
                add hl,hl
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_ArpeggiosTable: ld bc,0
                ELSE
                ld bc,(PLY_AKG_ArpeggiosTable)
                ENDIF
                add hl,bc
                ld c,(hl)
                inc hl
                ld b,(hl)
                inc hl
                
                ;Reads the speed.
                ld a,(bc)
                inc bc
                ld (iy + PLY_AKG_Channel1_ArpeggioTableSpeed - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + 0),a
                ld (iy + PLY_AKG_Channel1_ArpeggioBaseSpeed - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + 0),a
                
                ld (iy + PLY_AKG_Channel1_ArpeggioTable - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + PLY_AKG_Offset1b),c
                ld (iy + PLY_AKG_Channel1_ArpeggioTable - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + PLY_AKG_Offset1b + 1),b
                ld (iy + PLY_AKG_Channel1_ArpeggioTableBase - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + 0),c
                ld (iy + PLY_AKG_Channel1_ArpeggioTableBase - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + 1),b
                
                ld (iy + PLY_AKG_Channel1_IsArpeggioTable - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress),PLY_AKG_OPCODE_SCF
                xor a
                ld (iy + PLY_AKG_Channel1_ArpeggioTableCurrentStep - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + PLY_AKG_Offset1b),a
                
                jp PLY_AKG_Channel_RE_EffectReturn

        PLY_AKG_Effect_ArpeggioTableStop:
                ld (iy + PLY_AKG_Channel1_IsArpeggioTable - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress),PLY_AKG_OPCODE_OR_A
                jp PLY_AKG_Channel_RE_EffectReturn
                                ENDIF ;PLY_AKS_UseEffect_Arpeggio


                                IFDEF PLY_CFG_UseEffect_PitchTable              ;CONFIG SPECIFIC
        ;Pitch table. Followed by the Pitch Table index.
        PLY_AKG_Effect_PitchTable:
                ld a,(de)       ;Reads the Pitch table index.
                inc de
                
                ;Finds the address of the Pitch.
                ld l,a
                ld h,0
                add hl,hl
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_PitchesTable: ld bc,0
                ELSE
                ld bc,(PLY_AKG_PitchesTable)
                ENDIF
                add hl,bc
                ld c,(hl)
                inc hl
                ld b,(hl)
                inc hl
                
                ;Reads the speed.
                ld a,(bc)
                inc bc
                ld (iy + PLY_AKG_Channel1_PitchTableSpeed - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress),a
                ld (iy + PLY_AKG_Channel1_PitchBaseSpeed - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress),a
                
                ld (iy + PLY_AKG_Channel1_PitchTable - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + PLY_AKG_Offset1b),c
                ld (iy + PLY_AKG_Channel1_PitchTable - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + PLY_AKG_Offset1b + 1),b
                ld (iy + PLY_AKG_Channel1_PitchTableBase - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + 0),c
                ld (iy + PLY_AKG_Channel1_PitchTableBase - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + 1),b
                
                ld (iy + PLY_AKG_Channel1_IsPitchTable - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress),PLY_AKG_OPCODE_SCF
                
                xor a
                ld (iy + PLY_AKG_Channel1_PitchTableCurrentStep - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + PLY_AKG_Offset1b),a
                
                jp PLY_AKG_Channel_RE_EffectReturn
                                ENDIF ;PLY_CFG_UseEffect_PitchTable
                
                                IFDEF PLY_CFG_UseEffect_PitchTable              ;CONFIG SPECIFIC
        ;Stops the pitch table.        
        PLY_AKG_Effect_PitchTableStop:
                ;Only the pitch is stopped, but the value remains.
                ld (iy + PLY_AKG_Channel1_IsPitchTable - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress),PLY_AKG_OPCODE_OR_A
                jp PLY_AKG_Channel_RE_EffectReturn
                                ENDIF ;PLY_CFG_UseEffect_PitchTable

                                IFDEF PLY_AKG_UseEffect_VolumeSlide     ;CONFIG SPECIFIC
        ;Volume slide effect. Followed by the volume, as a word.
        PLY_AKG_Effect_VolumeSlide:
                ld a,(de)               ;Reads the slide.
                inc de
                ld (iy + PLY_AKG_Channel1_VolumeSlideValue - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + PLY_AKG_Offset1b),a
                ld a,(de)
                inc de
                ld (iy + PLY_AKG_Channel1_VolumeSlideValue - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + PLY_AKG_Offset1b + 1),a
                
                ld (iy + PLY_AKG_Channel1_IsVolumeSlide - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress),PLY_AKG_OPCODE_SCF
                jp PLY_AKG_Channel_RE_EffectReturn
                
        ;Volume slide stop effect.
        PLY_AKG_Effect_VolumeSlideStop:
                ;Only stops the slide, don''t reset the value.
                ld (iy + PLY_AKG_Channel1_IsVolumeSlide - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress),PLY_AKG_OPCODE_OR_A
                jp PLY_AKG_Channel_RE_EffectReturn
                                ENDIF ;PLY_AKG_UseEffect_VolumeSlide
        
        ;Pitch track effect. Followed by the pitch, as a word.
                                IFDEF PLY_CFG_UseEffect_PitchDown        ;CONFIG SPECIFIC
        PLY_AKG_Effect_PitchDown:
                ;Changes the sign of the operations.
                ld (iy + PLY_AKG_Channel1_PitchTrackAddOrSbc_16bits - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + 0), PLY_AKG_OPCODE_ADD_HL_BC_MSB
                ld (iy + PLY_AKG_Channel1_PitchTrackAddOrSbc_16bits - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + 1), PLY_AKG_OPCODE_ADD_HL_BC_LSB
                ld (iy + PLY_AKG_Channel1_PitchTrackDecimalInstr - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + 0), PLY_AKG_OPCODE_ADD_A_IMMEDIATE
                ld (iy + PLY_AKG_Channel1_PitchTrackIntegerAddOrSub - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + 0), PLY_AKG_OPCODE_INC_HL
                                ENDIF ;PLY_CFG_UseEffect_PitchDown
                                IFDEF PLY_AKS_UseEffect_PitchUpOrDown        ;CONFIG SPECIFIC
        PLY_AKG_Effect_PitchUpDown_Common:              ;The Pitch up will jump here.
                ;Authorizes the pitch, disabled the glide.        
                ld (iy + PLY_AKG_Channel1_IsPitch - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress),PLY_AKG_OPCODE_SCF
                                IFDEF PLY_CFG_UseEffect_PitchGlide           ;CONFIG SPECIFIC
                ld (iy + PLY_AKG_Channel1_GlideDirection - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + PLY_AKG_Offset1b),0
                                ENDIF ;PLY_CFG_UseEffect_PitchGlide

                ld a,(de)       ;Reads the Pitch.
                inc de
                ld (iy + PLY_AKG_Channel1_PitchTrackDecimalValue - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress),a
                ld a,(de)
                inc de
                ld (iy + PLY_AKG_Channel1_PitchTrack - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + PLY_AKG_Offset1b),a
                jp PLY_AKG_Channel_RE_EffectReturn
                                ENDIF ;PLY_AKS_UseEffect_PitchUpOrDown
                
                                IFDEF PLY_CFG_UseEffect_PitchUp        ;CONFIG SPECIFIC
        PLY_AKG_Effect_PitchUp:
                ;Changes the sign of the operations.
                ld (iy + PLY_AKG_Channel1_PitchTrackAddOrSbc_16bits - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + 0), PLY_AKG_OPCODE_SBC_HL_BC_MSB
                ld (iy + PLY_AKG_Channel1_PitchTrackAddOrSbc_16bits - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + 1), PLY_AKG_OPCODE_SBC_HL_BC_LSB
                ld (iy + PLY_AKG_Channel1_PitchTrackDecimalInstr - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + 0), PLY_AKG_OPCODE_SUB_IMMEDIATE
                ld (iy + PLY_AKG_Channel1_PitchTrackIntegerAddOrSub - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + 0), PLY_AKG_OPCODE_DEC_HL
                jr PLY_AKG_Effect_PitchUpDown_Common
                                ENDIF ;PLY_CFG_UseEffect_PitchUp

                                IFDEF PLY_AKS_UseEffect_PitchUpOrDownOrGlide    ;CONFIG SPECIFIC
        ;Pitch track stop. Used by Pitch up/down/glide.
        PLY_AKG_Effect_PitchStop:
                ;Only stops the pitch, don''t reset the value. No need to reset the Glide either.
                ld (iy + PLY_AKG_Channel1_IsPitch - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress),PLY_AKG_OPCODE_OR_A
                jp PLY_AKG_Channel_RE_EffectReturn
                                ENDIF ;PLY_AKS_UseEffect_PitchUpOrDownOrGlide
                
                                IFDEF PLY_CFG_UseEffect_PitchGlide        ;CONFIG SPECIFIC
        ;Glide, with a note.
        PLY_AKG_Effect_GlideWithNote:
                ;Reads the note to reach.
                ld a,(de)
                inc de
                ld (PLY_AKG_Effect_GlideWithNoteSaveDE + PLY_AKG_Offset1b),de                        ;Have to save, no more registers. Damn.
                ;Finds the period related to the note, stores it.
                add a,a                 ;The note is 7 bits only, so it fits.
                ld l,a
                ld h,0
                ld bc,PLY_AKG_PeriodTable
                add hl,bc
                
                ld sp,hl
                pop de                  ;DE = period to reach.
                ld (iy + PLY_AKG_Channel1_GlideToReach - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + PLY_AKG_Offset1b),e
                ld (iy + PLY_AKG_Channel1_GlideToReach - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + PLY_AKG_Offset1b + 1),d
                
                ;Calculates the period of the current note to calculate the difference.
                ld a,(ix + PLY_AKG_Channel1_TrackNote - PLY_AKG_Channel1_PlayInstrument_RelativeModifierAddress + PLY_AKG_Offset1b)
                add a,a
                ld l,a
                ld h,0
                add hl,bc
                
                ld sp,hl
                pop hl                  ;HL = current period.
                ;Adds the current Track Pitch to have the current period, else the direction may be biased.
                ld c,(iy + PLY_AKG_Channel1_Pitch - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + PLY_AKG_Offset1b)
                ld b,(iy + PLY_AKG_Channel1_Pitch - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + PLY_AKG_Offset1b + 1)
                add hl,bc
                
                ;What is the difference?
                or a
                sbc hl,de
                IFNDEF PLY_AKG_Rom
        dknr3 (void):
        PLY_AKG_Effect_GlideWithNoteSaveDE: ld de,0                   ;Retrieves DE. This does not modified the Carry.
                ELSE
                ld de,(PLY_AKG_Effect_GlideWithNoteSaveDE)
                ENDIF
                jr c,PLY_AKG_Effect_Glide_PitchDown
                ;Pitch up.
                ld (iy + PLY_AKG_Channel1_GlideDirection - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + PLY_AKG_Offset1b),1
                ld (iy + PLY_AKG_Channel1_PitchTrackAddOrSbc_16bits - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + 0), PLY_AKG_OPCODE_SBC_HL_BC_MSB
                ld (iy + PLY_AKG_Channel1_PitchTrackAddOrSbc_16bits - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + 1), PLY_AKG_OPCODE_SBC_HL_BC_LSB
                ld (iy + PLY_AKG_Channel1_PitchTrackDecimalInstr - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + 0), PLY_AKG_OPCODE_SUB_IMMEDIATE
                ld (iy + PLY_AKG_Channel1_PitchTrackIntegerAddOrSub - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + 0), PLY_AKG_OPCODE_DEC_HL
                
                ;Reads the Speed, which is actually the "pitch".
        PLY_AKG_Effect_Glide_ReadSpeed:
        PLY_AKG_Effect_GlideSpeed:                      ;This is an effect.
                ld a,(de)
                inc de
                ld (iy + PLY_AKG_Channel1_PitchTrackDecimalValue - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress),a      ;No offset, the value is directly targeted.
                ld a,(de)
                inc de
                ld (iy + PLY_AKG_Channel1_PitchTrack - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + PLY_AKG_Offset1b),a
                
                ;Enables the pitch, as the Glide relies on it. The Glide is enabled below, via its direction.
                ld a,PLY_AKG_OPCODE_SCF
                ld (iy + PLY_AKG_Channel1_IsPitch - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress),a

                jp PLY_AKG_Channel_RE_EffectReturn
        PLY_AKG_Effect_Glide_PitchDown:
                ;Pitch down.
                ld (iy + PLY_AKG_Channel1_GlideDirection - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + PLY_AKG_Offset1b),2
                ld (iy + PLY_AKG_Channel1_PitchTrackAddOrSbc_16bits - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + 0), PLY_AKG_OPCODE_ADD_HL_BC_MSB
                ld (iy + PLY_AKG_Channel1_PitchTrackAddOrSbc_16bits - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + 1), PLY_AKG_OPCODE_ADD_HL_BC_LSB
                ld (iy + PLY_AKG_Channel1_PitchTrackDecimalInstr - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + 0), PLY_AKG_OPCODE_ADD_A_IMMEDIATE
                ld (iy + PLY_AKG_Channel1_PitchTrackIntegerAddOrSub - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + 0), PLY_AKG_OPCODE_INC_HL
                jr PLY_AKG_Effect_Glide_ReadSpeed
                                ENDIF ;PLY_CFG_UseEffect_PitchGlide
                
                
                                IFDEF PLY_CFG_UseEffect_Legato          ;CONFIG SPECIFIC
        ;Legato. Followed by the note to play.        
        PLY_AKG_Effect_Legato:
                ;Reads and sets the new note to play.
                ld a,(de)
                inc de
                ld (ix + PLY_AKG_Channel1_TrackNote - PLY_AKG_Channel1_PlayInstrument_RelativeModifierAddress + PLY_AKG_Offset1b),a
                
                ;Stops the Pitch effect, resets the Pitch.
                                        IFDEF PLY_AKS_UseEffect_PitchUpOrDownOrGlide    ;CONFIG SPECIFIC
                ld a,PLY_AKG_OPCODE_OR_A
                ld (iy + PLY_AKG_Channel1_IsPitch - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress),a
                xor a
                ld (iy + PLY_AKG_Channel1_Pitch - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + PLY_AKG_Offset1b),a
                ld (iy + PLY_AKG_Channel1_Pitch - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress + PLY_AKG_Offset1b + 1),a
                                        ENDIF ;PLY_AKS_UseEffect_PitchUpOrDownOrGlide
                                        
                jp PLY_AKG_Channel_RE_EffectReturn
                                ENDIF ;PLY_CFG_UseEffect_Legato


                                IFDEF PLY_CFG_UseEffect_ForceInstrumentSpeed    ;CONFIG SPECIFIC
        ;Forces the Instrument Speed. Followed by the speed.
        PLY_AKG_Effect_ForceInstrumentSpeed:
                ;Reads and sets the new speed.
                ld a,(de)
                inc de
                ld (ix + PLY_AKG_Channel1_InstrumentSpeed - PLY_AKG_Channel1_PlayInstrument_RelativeModifierAddress + PLY_AKG_Offset1b),a
                
                jp PLY_AKG_Channel_RE_EffectReturn
                                ENDIF ;PLY_CFG_UseEffect_ForceInstrumentSpeed
                
                                
                                IFDEF PLY_CFG_UseEffect_ForceArpeggioSpeed      ;CONFIG SPECIFIC
        ;Forces the Arpeggio Speed. Followed by the speed.
        PLY_AKG_Effect_ForceArpeggioSpeed:
                                        IFDEF PLY_AKS_UseEffect_Arpeggio                ;CONFIG SPECIFIC
                                        ;Is IT possible to use a Force Arpeggio even if there is no Arpeggio. Unlikely, but...
                ;Reads and sets the new speed.
                ld a,(de)
                inc de
                ld (iy + PLY_AKG_Channel1_ArpeggioTableSpeed - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress),a
                                        ELSE
                        inc de
                                        ENDIF ;PLY_AKS_UseEffect_Arpeggio
                
                jp PLY_AKG_Channel_RE_EffectReturn
                                ENDIF ;PLY_CFG_UseEffect_ForceArpeggioSpeed

                                IFDEF PLY_CFG_UseEffect_ForcePitchTableSpeed    ;CONFIG SPECIFIC
        ;Forces the Pitch Speed. Followed by the speed.
        PLY_AKG_Effect_ForcePitchSpeed:
                                        IFDEF PLY_CFG_UseEffect_PitchTable                ;CONFIG SPECIFIC
                                        ;Is IT possible to use a Force Arpeggio even if there is no Arpeggio. Unlikely, but...
                ;Reads and sets the new speed.
                ld a,(de)
                inc de
                ld (iy + PLY_AKG_Channel1_PitchTableSpeed - PLY_AKG_Channel1_SoundStream_RelativeModifierAddress),a
                                        ELSE
                        inc de
                                        ENDIF ;PLY_CFG_UseEffect_PitchTable
                
                jp PLY_AKG_Channel_RE_EffectReturn
                                ENDIF ;PLY_CFG_UseEffect_ForcePitchTableSpeed
                
                                ENDIF ;PLY_CFG_UseEffects                ;CONFIG SPECIFIC

                

                                IFDEF PLY_CFG_UseEventTracks            ;CONFIG SPECIFIC
                                IFNDEF PLY_AKG_Rom
        dkbs (void):    ;Disark macro.
        PLY_AKG_Event: db 0         ;Possible event sent from the music for the caller to interpret.
        dkbe (void):    ;Disark macro.
                                ENDIF
                                ENDIF ;PLY_CFG_UseEventTracks




        ;The period table for each note (from 0 to 127 included).
        PLY_AKG_PeriodTable:
        dkws (void):    ;Disark macro.
                IFDEF PLY_AKG_HARDWARE_CPC
                ;PSG running to 1000000 Hz.
                dw 3822,3608,3405,3214,3034,2863,2703,2551,2408,2273,2145,2025          ;0
                dw 1911,1804,1703,1607,1517,1432,1351,1276,1204,1136,1073,1012          ;12
                dw 956,902,851,804,758,716,676,638,602,568,536,506                      ;24
                dw 478,451,426,402,379,358,338,319,301,284,268,253                      ;36
                dw 239,225,213,201,190,179,169,159,150,142,134,127                      ;48
                dw 119,113,106,100,95,89,84,80,75,71,67,63                              ;60
                dw 60,56,53,50,47,45,42,40,38,36,34,32                                  ;72
                dw 30,28,27,25,24,22,21,20,19,18,17,16                                  ;84
                dw 15,14,13,13,12,11,11,10,9,9,8,8                                      ;96
                dw 7,7,7,6,6,6,5,5,5,4,4,4                                              ;108
                dw 4,4,3,3,3,3,3,2 ;,2,2,2,2                                            ;120 -> 127
                ENDIF
                IFDEF PLY_AKG_HARDWARE_SPECTRUM_OR_MSX
                ;PSG running to 1773400 Hz.
            dw 6778, 6398, 6039, 5700, 5380, 5078, 4793, 4524, 4270, 4030, 3804, 3591	; Octave 0
            dw 3389, 3199, 3019, 2850, 2690, 2539, 2397, 2262, 2135, 2015, 1902, 1795	; Octave 1
            dw 1695, 1599, 1510, 1425, 1345, 1270, 1198, 1131, 1068, 1008, 951, 898	; Octave 2
            dw 847, 800, 755, 712, 673, 635, 599, 566, 534, 504, 476, 449	; Octave 3
            dw 424, 400, 377, 356, 336, 317, 300, 283, 267, 252, 238, 224	; Octave 4
            dw 212, 200, 189, 178, 168, 159, 150, 141, 133, 126, 119, 112	; Octave 5
            dw 106, 100, 94, 89, 84, 79, 75, 71, 67, 63, 59, 56	; Octave 6
            dw 53, 50, 47, 45, 42, 40, 37, 35, 33, 31, 30, 28	; Octave 7
            dw 26, 25, 24, 22, 21, 20, 19, 18, 17, 16, 15, 14	; Octave 8
            dw 13, 12, 12, 11, 11, 10, 9, 9, 8, 8, 7, 7	; Octave 9
            dw 7, 6, 6, 6, 5, 5, 5, 4	; Octave 10
                ENDIF
                IFDEF PLY_AKG_HARDWARE_PENTAGON
                ;PSG running to 1750000 Hz.
                dw 6689, 6314, 5959, 5625, 5309, 5011, 4730, 4464, 4214, 3977, 3754, 3543	; Octave 0
            dw 3344, 3157, 2980, 2812, 2655, 2506, 2365, 2232, 2107, 1989, 1877, 1772	; Octave 1
            dw 1672, 1578, 1490, 1406, 1327, 1253, 1182, 1116, 1053, 994, 939, 886	; Octave 2
            dw 836, 789, 745, 703, 664, 626, 591, 558, 527, 497, 469, 443	; Octave 3
            dw 418, 395, 372, 352, 332, 313, 296, 279, 263, 249, 235, 221	; Octave 4
            dw 209, 197, 186, 176, 166, 157, 148, 140, 132, 124, 117, 111	; Octave 5
            dw 105, 99, 93, 88, 83, 78, 74, 70, 66, 62, 59, 55	; Octave 6
            dw 52, 49, 47, 44, 41, 39, 37, 35, 33, 31, 29, 28	; Octave 7
            dw 26, 25, 23, 22, 21, 20, 18, 17, 16, 16, 15, 14	; Octave 8
            dw 13, 12, 12, 11, 10, 10, 9, 9, 8, 8, 7, 7	; Octave 9
            dw 7, 6, 6, 5, 5, 5, 5, 4	; Octave 10
                ENDIF
        dkwe (void):    ;Disark macro.
        PLY_AKG_PeriodTable_End:



        ;Buffer used for the ROM player. This part needs to be set to RAM. PLY_AKG_ROM_Buffer must be set.
                IFDEF PLY_AKG_Rom
                
                PLY_AKG_BufferOffset = 0

        ;Generic data.
                IFDEF PLY_CFG_UseEventTracks
        PLY_AKG_Event:                                                  equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
                ENDIF
        PLY_AKG_CurrentSpeed:                                           equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
        PLY_AKG_BaseNoteIndex:                                          equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
        PLY_AKG_PatternDecreasingHeight:                                equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
        PLY_AKG_TickDecreasingCounter:                                  equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
                IFDEF PLY_CFG_UseSpeedTracks
        PLY_AKG_SpeedTrack_WaitCounter:                                  equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
                ENDIF
                IFDEF PLY_CFG_UseEventTracks
        PLY_AKG_EventTrack_WaitCounter:                                  equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
                ENDIF
                IFDEF PLY_CFG_UseHardwareSounds
        PLY_AKG_PSGReg13_OldValue:                                      equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
        PLY_AKG_PSGReg13_Instr:                                      equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
                        IFDEF PLY_CFG_UseRetrig
        PLY_AKG_Retrig:                                      equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
                        ENDIF
                ENDIF
        PLY_AKG_Channel_RE_ReadNextEffectInBlock:                                      equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
                ;Words
        PLY_AKG_ReadLinker_PtLinker:                                  equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
                IFDEF PLY_CFG_UseSpeedTracks
        PLY_AKG_SpeedTrack_PtTrack:                                  equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
                ENDIF
                IFDEF PLY_CFG_UseEventTracks
        PLY_AKG_EventTrack_PtTrack:                                  equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
                ENDIF
                IFDEF PLY_AKS_UseEffect_Arpeggio
        PLY_AKG_ArpeggiosTable:                                  equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
                ENDIF
                IFDEF PLY_CFG_UseEffect_PitchTable
        PLY_AKG_PitchesTable:                                  equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
                ENDIF
        PLY_AKG_InstrumentsTable:                                  equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
                IFDEF PLY_CFG_UseEffects
                ;For ROM, only one is used, the second is the same, but it makes it faster on non-ROM as it avoid reading the memory.
        PLY_AKG_Channel_ReadEffects_EffectBlocks1:                                  equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
                ENDIF
        PLY_AKG_EmptyInstrumentDataPt:                                  equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
        PLY_AKG_SaveSp:                                  equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
        PLY_AKG_PSGReg01_Instr:                                  equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
        PLY_AKG_PSGReg23_Instr:                                  equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
        PLY_AKG_PSGReg45_Instr:                                  equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
        PLY_AKG_PSGReg6_8_Instr:                                  equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
        PLY_AKG_PSGReg6:                                        equ PLY_AKG_PSGReg6_8_Instr + 0
        PLY_AKG_PSGReg8:                                        equ PLY_AKG_PSGReg6_8_Instr + 1
        PLY_AKG_PSGReg9_10_Instr:                                  equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
        PLY_AKG_PSGReg9:                                        equ PLY_AKG_PSGReg9_10_Instr + 0
        PLY_AKG_PSGReg10:                                       equ PLY_AKG_PSGReg9_10_Instr + 1
                IFDEF PLY_CFG_UseHardwareSounds
        PLY_AKG_PSGHardwarePeriod_Instr:                                  equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
                ENDIF
        PLY_AKG_Channel_ReadEffects_EndJumpInstrAndAddress:                                  equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 3      ;3 bytes. JP xxxx
                IFDEF PLY_CFG_UseEffect_PitchGlide
        PLY_AKG_Effect_GlideWithNoteSaveDE:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
                ENDIF
        PLY_AKG_TempPlayInstrumentJumpInstrAndAddress:                    equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 3      ;3 bytes. JP xxxx

                ;Section specific to each channel.
                REPEAT 3, channelNumber
        PLY_AKG_Channel{channelNumber}_SoundStream_RelativeModifierAddress:             equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset
        PLY_AKG_Channel{channelNumber}_PlayInstrument_RelativeModifierAddress:          equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset

                ;Bytes
                IFDEF PLY_CFG_UseTranspositions
        PLY_AKG_Channel{channelNumber}_Transposition:                   equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
                ENDIF
        PLY_AKG_Channel{channelNumber}_WaitCounter:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
                IFDEF PLY_AKG_UseEffect_VolumeSlide
        PLY_AKG_Channel{channelNumber}_IsVolumeSlide:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
                ENDIF
                IFDEF PLY_AKS_UseEffect_Arpeggio
        PLY_AKG_Channel{channelNumber}_IsArpeggioTable:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
                ENDIF
                IFDEF PLY_CFG_UseEffect_PitchTable
        PLY_AKG_Channel{channelNumber}_IsPitchTable:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
                ENDIF
                IFDEF PLY_AKS_UseEffect_PitchUpOrDownOrGlide
        PLY_AKG_Channel{channelNumber}_IsPitch:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
                ENDIF
                IFDEF PLY_CFG_UseEffect_ForceInstrumentSpeed
        PLY_AKG_Channel{channelNumber}_InstrumentOriginalSpeed:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
                ENDIF
        PLY_AKG_Channel{channelNumber}_InstrumentSpeed:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
        PLY_AKG_Channel{channelNumber}_InstrumentStep:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
                IFDEF PLY_AKS_UseEffect_Arpeggio
        PLY_AKG_Channel{channelNumber}_ArpeggioTableCurrentStep:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
        PLY_AKG_Channel{channelNumber}_GeneratedCurrentArpNote:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
        PLY_AKG_Channel{channelNumber}_ArpeggioBaseSpeed:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
        PLY_AKG_Channel{channelNumber}_ArpeggioTableSpeed:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
                ENDIF
                IFDEF PLY_CFG_UseEffect_PitchTable
        PLY_AKG_Channel{channelNumber}_PitchTableCurrentStep:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
        PLY_AKG_Channel{channelNumber}_PitchBaseSpeed:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
        PLY_AKG_Channel{channelNumber}_PitchTableSpeed:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
                ENDIF
                IFDEF PLY_AKS_UseEffect_PitchUpOrDownOrGlide
        PLY_AKG_Channel{channelNumber}_PitchTrackDecimal:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
        PLY_AKG_Channel{channelNumber}_PitchTrackDecimalCounter:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
                ENDIF
        PLY_AKG_Channel{channelNumber}_TrackNote:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
                IFDEF PLY_CFG_UseEffect_PitchGlide
        PLY_AKG_Channel{channelNumber}_GlideDirection:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
                ENDIF
        PLY_AKG_Channel{channelNumber}_GeneratedCurrentInvertedVolume:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
                ;Words
        PLY_AKG_Channel{channelNumber}_PtTrack:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
                IFDEF PLY_AKS_UseEffect_Arpeggio
        PLY_AKG_Channel{channelNumber}_ArpeggioTable:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
        PLY_AKG_Channel{channelNumber}_ArpeggioTableBase:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
                ENDIF
                IFDEF PLY_AKS_UseEffect_PitchUpOrDownOrGlide
        PLY_AKG_Channel{channelNumber}_PitchTrack:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
                ENDIF
                IFDEF PLY_CFG_UseEffect_PitchTable
        PLY_AKG_Channel{channelNumber}_PitchTable:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
        PLY_AKG_Channel{channelNumber}_PitchTableBase:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
                ENDIF
        PLY_AKG_Channel{channelNumber}_EffectBlocks1:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
        PLY_AKG_Channel{channelNumber}_EffectBlocks2:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
        PLY_AKG_Channel{channelNumber}_InvertedVolumeIntegerAndDecimal:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
        PLY_AKG_Channel{channelNumber}_Pitch:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
        PLY_AKG_Channel{channelNumber}_PtInstrument:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
        PLY_AKG_Channel{channelNumber}_PtBaseInstrument:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
        PLY_AKG_Channel{channelNumber}_VolumeSlideValue:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
                IFDEF PLY_CFG_UseEffect_PitchGlide
        PLY_AKG_Channel{channelNumber}_GlideToReach:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
        PLY_AKG_Channel{channelNumber}_Glide_SaveHL:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
                ENDIF
                IFDEF PLY_AKS_UseEffect_PitchUpOrDownOrGlide
        PLY_AKG_Channel{channelNumber}_PitchTrackDecimalInstrAndValue:   equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2     ;Add/sub b, xx.
        PLY_AKG_Channel{channelNumber}_PitchTrackDecimalInstr:          equ PLY_AKG_Channel{channelNumber}_PitchTrackDecimalInstrAndValue + 0
        PLY_AKG_Channel{channelNumber}_PitchTrackDecimalValue:          equ PLY_AKG_Channel{channelNumber}_PitchTrackDecimalInstrAndValue + 1
                ;The add/sub must be followed by the return JP.
        PLY_AKG_Channel{channelNumber}_PitchTrackDecimalInstrAndValueReturnJp:   equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 3  ;JP xxxx.
                ENDIF
                
        PLY_AKG_Channel{channelNumber}_GeneratedCurrentPitch:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
                IFDEF PLY_AKS_UseEffect_PitchUpOrDownOrGlide
        PLY_AKG_Channel{channelNumber}_PitchTrackAddOrSbc_16bits:         equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
                ;3 bytes.
        PLY_AKG_Channel{channelNumber}_PitchTrackAfterAddOrSbcJumpInstrAndAddress:            equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 3     ;3 bytes. JP xxxx.
        PLY_AKG_Channel{channelNumber}_PitchTrackIntegerAddOrSub:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
        PLY_AKG_Channel{channelNumber}_PitchTrackIntegerAfterAddOrSubJumpInstrAndAddress:                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 3     ;3 bytes. JP xxxx.
                ENDIF
                REND

                ;The buffers for sound effects (if any), for each channel. They are treated apart, because they must be consecutive.
                IFDEF PLY_AKG_MANAGE_SOUND_EFFECTS
        PLY_AKG_PtSoundEffectTable:                                     equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
                        REPEAT 3, channelNumber
        PLY_AKG_Channel{channelNumber}_SoundEffectData:                 equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 2
        PLY_AKG_Channel{channelNumber}_SoundEffectInvertedVolume:       equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
        PLY_AKG_Channel{channelNumber}_SoundEffectCurrentStep:          equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
        PLY_AKG_Channel{channelNumber}_SoundEffectSpeed:                equ PLY_AKG_ROM_Buffer + PLY_AKG_BufferOffset : PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 1
                if channelNumber != 3
                    PLY_AKG_BufferOffset = PLY_AKG_BufferOffset + 3 ;Padding of 3, but only necessary for channel 1 and 2.
                endif
                        REND
                ENDIF
                


                PLY_AKG_ROM_BufferSize = PLY_AKG_BufferOffset
                
                expectedBufferSize = 250
                IFNDEF PLY_AKG_MANAGE_SOUND_EFFECTS
                        assert PLY_AKG_BufferOffset <= expectedBufferSize               ;Decreases when using the Player Configuration.
                ELSE
                        assert PLY_AKG_BufferOffset <= (expectedBufferSize + 23)        ;With sound effects, it takes a bit more memory.
                ENDIF


                ENDIF ;PLY_AKG_Rom


        PLY_AKG_End:
        
fin',
    true,
    0
  );

  -- Add z80code tag
  SELECT id INTO tag_uuid FROM tags WHERE name = 'z80code';
  IF tag_uuid IS NOT NULL THEN
    INSERT INTO project_tags (project_id, tag_id) VALUES (project_uuid, tag_uuid);
  END IF;

  -- Add category tag: musique
  SELECT id INTO tag_uuid FROM tags WHERE name = 'musique';
  IF tag_uuid IS NOT NULL THEN
    INSERT INTO project_tags (project_id, tag_id) VALUES (project_uuid, tag_uuid);
  END IF;
END $$;
